(this["webpackJsonp@ginkgo-bioworks/react-json-schema-form-builder-example"]=this["webpackJsonp@ginkgo-bioworks/react-json-schema-form-builder-example"]||[]).push([[0],{564:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),o=n.n(i),c=n(90),l=n(61),s=n(62),d=n(67),m=n(66),u=n(575),p=n(582),h=n(568),f=n(569),g=n(570),b=n(571),y=n(28),v=n(287),O=n(55),j=n(566),E=n(581),x=n(567),C=n(572),N=n(573),k=n(574),D=n(21),w=n(20),S=n(6),U=n.n(S),F=n(285),I=n(46);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var T=Object(D.a)({checkbox:{"& *":{display:"inline-block"},"& input":{marginRight:"5px"}}}),_=function(e){var t=e.onChangeValue,n=e.value,a=void 0===n?"":n,i=e.isChecked,o=void 0!==i&&i,c=e.label,l=void 0===c?"":c,s=e.use,d=void 0===s?"action":s,m=e.disabled,u=void 0!==m&&m,p=e.id,h=void 0===p?"":p,f=e.dataTest,g=void 0===f?"":f,b=e.labelClassName,y=void 0===b?"":b,v=T(),O=U()("fb-checkbox",{"edit-checkbox":!u&&"edit"===d,"action-checkbox":!u&&"action"===d,"disabled-checked-checkbox":u&&o,"disabled-unchecked-checkbox":u&&!o}),j=""!==h?h:l,E=""!==j?j:null;return r.a.createElement("div",{"data-test":"checkbox",className:O+" "+v.checkbox},r.a.createElement("input",{type:"checkbox",id:E,"data-test":g||void 0,onChange:u?function(){}:t,value:a,disabled:u,checked:o}),r.a.createElement("div",{className:"checkbox-overlay"},l&&r.a.createElement("label",{htmlFor:E,className:y||void 0},l)))};function M(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["className"]);return r.a.createElement(F.a,A({className:U()([t,"fa"])},n))}var B=Object(D.a)({collapseElement:{"& .disabled":{".toggle-collapse":{cursor:"default"}},"& h4":{marginTop:"7px",padding:"13px 10px 10px 10px"},"& .toggle-collapse":{fontSize:"2.3rem",cursor:"pointer",marginLeft:"33px","& .fa-caret-right":{marginRight:"9px"}}}}),q=function(e){var t=U()("collapse-element "+(e.className||"")+" "+B().collapseElement,{disabled:e.disableToggle});return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",{className:"toggle-collapse"},r.a.createElement(M,{onClick:e.disableToggle?function(){}:e.toggleCollapse,icon:e.isOpen?w.d:w.e})),r.a.createElement("h4",null,e.title)),r.a.createElement(j.a,{isOpen:e.isOpen},r.a.createElement("div",null,e.children)))};function H(e){var t=e.label,n=e.value,i=e.checked,o=e.name,c=e.onChange,l=e.required,s=e.disabled,d=e.autoFocus,m=Object(a.useState)("radio-"+Math.floor(1e6*Math.random()))[0],u=U()("fb-radio-button",{disabled:s});return r.a.createElement("div",{className:u,key:n},r.a.createElement("input",{id:m,type:"radio",name:o,value:n,checked:i,required:l,disabled:s,autoFocus:d,onChange:function(){return c(n)}}),r.a.createElement("label",{htmlFor:m},t))}var $=Object(D.a)({radio:{"& .fb-radio-button":{display:"block",'& input[type="radio"]':{marginRight:"5px",marginBottom:0,height:"1em",verticalAlign:"middle"},'& input[type="radio"] + label':{marginTop:0,marginBottom:0,verticalAlign:"middle"}}}});function R(e){var t=e.options,n=e.defaultValue,a=e.onChange,i=e.horizontal,o=e.id,c=e.autoFocus,l=e.disabled,s=Math.random().toString(),d=$(),m=U()("fb-radio-group",{horizontal:i});return r.a.createElement("div",{id:o,className:m+" "+d.radio},t.map((function(e,t){return r.a.createElement(H,{value:e.value,label:e.label,id:o,name:s,key:e.value,checked:e.value===n,autoFocus:c&&1===t,onChange:a,disabled:l})})))}var z={alert:w.c,help:w.i},L=Object(D.a)({toolTip:{color:"white","background-color":"black"}});function P(e){var t=e.text,n=e.type,a=e.id,i=L();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{textDecoration:"underline",color:"blue"},href:"#",id:a},r.a.createElement(M,{icon:z[n]})),r.a.createElement(E.a,{autohide:!1,className:i.toolTip,placement:"top",target:a},t))}function J(e){var t=e.parameters;if(t.enum&&t.dependents&&t.dependents.length&&t.dependents[0].value){var n=new Set([]);t.dependents.forEach((function(e){e.value&&e.value.enum&&e.value.enum.forEach((function(e){return n.add(e)}))}));var r=[];return Array.isArray(t.enum)&&t.enum.forEach((function(e){n.has(e)||r.push(e)})),0===r.length?null:Object(a.createElement)(a.Fragment,null,Object(a.createElement)("p",null,"Warning! The following values do not have associated dependency values:"," ",Object(a.createElement)(P,{id:t.path+"_valuewarning",type:"help",text:"Each possible value for a value-based dependency must be defined to work properly"})),Object(a.createElement)("ul",null,r.map((function(e,t){return Object(a.createElement)("li",{key:t},e)}))))}return null}function W(e){var t=e.possibleChoices,n=e.chosenChoices,r=e.onChange,i=e.placeholder,o=e.path;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("ul",null,n.map((function(e,t){return Object(a.createElement)("li",{key:o+"_neighbor_"+t},e," ",Object(a.createElement)(M,{icon:w.j,onClick:function(){return r([].concat(n.slice(0,t),n.slice(t+1)))}}))}))),Object(a.createElement)(I.a,{value:{value:"",label:""},placeholder:i,options:t.filter((function(e){return!n.includes(e)})).map((function(e){return{value:e,label:e}})),onChange:function(e){r([].concat(n,[e.value]))},className:"card-modal-select"}))}var V=Object(D.a)({cardEnumOption:{width:"100%",display:"flex",flexDirection:"row",marginBottom:".5em","& input":{width:"80%",marginRight:"1em",marginBottom:0},"& .delete-button":{display:"flex",flexDirection:"column",justifyContent:"center"}}});function K(e){for(var t=e.initialValues,n=e.names,r=e.showNames,i=e.onChange,o=e.type,c=V(),l=[],s=function(e){var s=t[e],d=""+s;n&&e<n.length&&(d=n[e]),l.push(Object(a.createElement)("div",{key:e,className:c.cardEnumOption},Object(a.createElement)(x.a,{value:void 0===s||null===s?"":s,placeholder:"Possible Value",key:"val-"+e,type:"string"===o?"text":"number",onChange:function(a){var r;switch(o){case"string":r=a.target.value;break;case"number":case"integer":r=parseFloat(a.target.value),Number.isInteger(r)&&(r=parseInt(a.target.value,10)),Number.isNaN(r)&&(r="string"===o?"":0);break;default:throw new Error("Enum called with unknown type "+o)}i([].concat(t.slice(0,e),[r],t.slice(e+1)),n)},className:"card-text"}),Object(a.createElement)(x.a,{value:d||"",placeholder:"Label",key:"name-"+e,type:"text",onChange:function(a){n&&i(t,[].concat(n.slice(0,e),[a.target.value],n.slice(e+1)))},className:"card-text",style:{display:r?"initial":"none"}}),Object(a.createElement)("div",{className:"delete-button"},Object(a.createElement)(M,{icon:w.j,onClick:function(){i([].concat(t.slice(0,e),t.slice(e+1)),n?[].concat(n.slice(0,e),n.slice(e+1)):void 0)}}))))},d=0;d<t.length;d+=1)s(d);return Object(a.createElement)(a.Fragment,null,l,Object(a.createElement)(M,{icon:w.g,onClick:function(){i([].concat(t,["string"===o?"":0]),n?[].concat(n,[""]):void 0)}}))}function G(e){var t=e.possibility,n=e.onChange,r=e.parentEnums,i=e.parentType,o=e.parentName,c=e.parentSchema,l=e.path;if(t.value){if(r){var s="number"===typeof r[0]?"number":"string";if("string"===s)return Object(a.createElement)(W,{possibleChoices:r.map((function(e){return""+e})),chosenChoices:t.value.enum,onChange:function(e){return n(A({},t,{value:{enum:e}}))},placeholder:"Allowed value",path:l});if("number"===s)return Object(a.createElement)(W,{possibleChoices:r.map((function(e){return""+e})),chosenChoices:t.value.enum,onChange:function(e){return n(A({},t,{value:{enum:e.map((function(e){return Number.parseFloat(e)}))}}))},placeholder:"Allowed value",path:l})}if("boolean"===i)return Object(a.createElement)(_,{onChangeValue:function(){t.value.enum&&t.value.enum[0]?n(A({},t,{value:{enum:[!1]}})):n(A({},t,{value:{enum:[!0]}}))},isChecked:t.value.enum&&t.value.enum[0],label:o});if("object"===i){var d=t.value.enum;return Object(a.createElement)("div",null,d.map((function(e,r){return Object(a.createElement)("li",{key:l+"_possibleValue"+r},Object.keys(e).map((function(i){var o=e[i];return Object(a.createElement)("div",{key:i},Object(a.createElement)("h5",null,i,":"),{string:Object(a.createElement)(x.a,{value:o||"",placeholder:"String value",type:"string",onChange:function(e){var a,o=e.target.value,c=t.value.enum[r];n(A({},t,{value:{enum:[].concat(d.slice(0,r),[A({},c,(a={},a[i]=o,a))],d.slice(r+1))}}))},className:"card-modal-text"}),number:Object(a.createElement)(x.a,{value:o||"",placeholder:"Number value",type:"number",onChange:function(e){var a,o=Number.parseFloat(e.target.value),c=t.value.enum[r];n(A({},t,{value:{enum:[].concat(d.slice(0,r),[A({},c,(a={},a[i]=o,a))],d.slice(r+1))}}))},className:"card-modal-number"}),array:Object(a.createElement)(x.a,{value:JSON.stringify(o)||"",placeholder:"Array in JSON",type:"string",onChange:function(e){var a,c=o;try{c=JSON.parse(e.target.value)}catch(s){console.error("invalid JSON array input")}var l=t.value.enum[r];n(A({},t,{value:{enum:[].concat(d.slice(0,r),[A({},l,(a={},a[i]=c,a))],d.slice(r+1))}}))},className:"card-modal-text"}),object:Object(a.createElement)(x.a,{value:JSON.stringify(o)||"",placeholder:"Object in JSON",type:"string",onChange:function(e){var a,c=o;try{c=JSON.parse(e.target.value)}catch(s){console.error("invalid JSON object input")}var l=t.value.enum[r];n(A({},t,{value:{enum:[].concat(d.slice(0,r),[A({},l,(a={},a[i]=c,a))],d.slice(r+1))}}))},className:"card-modal-text"})}[typeof o])})),Object(a.createElement)(M,{icon:w.j,onClick:function(){return n(A({},t,{value:{enum:[].concat(d.slice(0,r),d.slice(r+1))}}))}}))})),Object(a.createElement)(M,{icon:w.g,onClick:function(){var e={},a=c?c.properties:{};Object.keys(a).forEach((function(t){"number"===a[t].type||"integer"===a[t].type?e[t]=0:"array"===a[t].type||a[t].enum?e[t]=[]:"object"===a[t].type||a[t].properties?e[t]={}:e[t]=""})),n(A({},t,{value:{enum:[].concat(d,[e])}}))}}))}return Object(a.createElement)(K,{initialValues:t.value.enum,onChange:function(e){return n(A({},t,{value:{enum:e}}))},type:i||"string",showNames:!1})}return Object(a.createElement)("h5",null," Appear if defined ")}function Y(e){var t=e.possibility,n=e.neighborNames,r=e.path,i=e.onChange,o=e.onDelete,c=e.parentEnums,l=e.parentType,s=e.parentName,d=e.parentSchema;return Object(a.createElement)("div",{className:"form-dependency-condition"},Object(a.createElement)("h5",null,"Display the following:"," ",Object(a.createElement)(P,{id:r+"_bulk",type:"help",text:"Choose the other form elements that depend on this one"})),Object(a.createElement)(W,{possibleChoices:n.filter((function(e){return e!==s}))||[],chosenChoices:t.children,onChange:function(e){return i(A({},t,{children:[].concat(e)}))},placeholder:"Choose a dependent...",path:r}),Object(a.createElement)("h5",null,'If "',s,'" has ',t.value?"the value:":"a value."),Object(a.createElement)("div",{style:{display:t.value?"block":"none"}},Object(a.createElement)(G,{possibility:t,onChange:function(e){return i(e)},parentEnums:c,parentType:l,parentName:s,parentSchema:d,path:r})),Object(a.createElement)(M,{icon:w.j,onClick:function(){return o()}}))}var Q=Object(D.a)({dependencyField:{"& .fa":{cursor:"pointer"},"& .plus":{marginLeft:"1em"},"& h4":{marginBottom:".5em"},"& h5":{fontSize:"1em"},"& .form-dependency-select":{fontSize:"0.75em",marginBottom:"1em"},"& .form-dependency-conditions":{textAlign:"left","& .form-dependency-condition":{padding:"1em",border:"1px solid gray",borderRadius:"4px",margin:"1em","& *":{textAlign:"initial"}}},"& p":{fontSize:"0.75em"},"& .fb-radio-button":{display:"block"}}});function X(e){var t=e.parameters,n=e.onChange,r=Q(),i=function(e){var t=!0;return e&&Array.isArray(e)&&e.length>0?e.forEach((function(e){e.value&&e.value.enum||(t=!1)})):t=!1,t}(t.dependents||[]);return Object(a.createElement)("div",{className:"form-dependency "+r.dependencyField},Object(a.createElement)("h4",null,"Dependencies"," ",Object(a.createElement)(P,{id:t.path+"_dependent",type:"help",text:"Control whether other form elements show based on this one"})),!!t.dependents&&t.dependents.length>0&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(R,{defaultValue:i?"value":"definition",horizontal:!1,options:[{value:"definition",label:"Any value dependency"},{value:"value",label:Object(a.createElement)(a.Fragment,null,"Specific value dependency"," ",Object(a.createElement)(P,{id:t.path+"_valuebased",type:"help",text:"Specify whether these elements should show based on this element's value"}))}],onChange:function(e){if(t.dependents){var a=[].concat(t.dependents);"definition"===e?t.dependents.forEach((function(e,t){a[t]=A({},e,{value:void 0})})):t.dependents.forEach((function(e,t){a[t]=A({},e,{value:{enum:[]}})})),n(A({},t,{dependents:a}))}}})),Object(a.createElement)(J,{parameters:t}),Object(a.createElement)("div",{className:"form-dependency-conditions"},t.dependents?t.dependents.map((function(e,r){return Object(a.createElement)(Y,{possibility:e,neighborNames:t.neighborNames||[],parentEnums:t.enum,parentType:t.type,parentName:t.name,parentSchema:t.schema,path:t.path,key:t.path+"_possibility"+r,onChange:function(e){var a=t.dependents?[].concat(t.dependents):[];a[r]=e,n(A({},t,{dependents:a}))},onDelete:function(){var e=t.dependents?[].concat(t.dependents):[];n(A({},t,{dependents:[].concat(e.slice(0,r),e.slice(r+1))}))}})})):"",Object(a.createElement)("span",{className:"plus",id:t.path+"_adddependency"},Object(a.createElement)(M,{icon:w.g,onClick:function(){var e=t.dependents?[].concat(t.dependents):[];e.push({children:[],value:i?{enum:[]}:void 0}),n(A({},t,{dependents:e}))}})),Object(a.createElement)(E.a,{placement:"top",target:t.path+"_adddependency"},"Add another dependency relation linking this element and other form elements")))}var Z=Object(D.a)({cardModal:{"& .card-modal-header":{paddingTop:".5em",paddingBottom:".5em"},"& .card-modal-entries":{padding:"1em"},"& h4, h5, p, label, li":{marginTop:".5em",marginBottom:".5em"},"& h5, p, label, li":{fontSize:"14px"},"& h4":{fontSize:"16px"},"& h3":{fontSize:"18px",marginBottom:0},"& .card-modal-entries > div > input":{marginBottom:"1em",height:"32px"},"& .fa-question-circle":{color:"var(--gray)"},"& .card-modal-boolean":{"& *":{marginRight:"0.25em",height:"auto",display:"inline-block"}},"& .card-modal-select":{"& input":{margin:"0",height:"20px"},marginBottom:"1em"}}});function ee(e){var t=e.componentProps,n=e.onChange,r=e.isOpen,i=e.onClose,o=e.TypeSpecificParameters,c=Z(),l=Object(a.useState)(t),s=l[0],d=l[1];return Object(a.useEffect)((function(){d(t)}),[t]),Object(a.createElement)(p.a,{isOpen:r,"data-test":"card-modal",className:c.cardModal},Object(a.createElement)(h.a,{className:"card-modal-header"},Object(a.createElement)("div",{style:{display:t.hideKey?"none":"initial"}},Object(a.createElement)("h3",null,"Additional Settings"))),Object(a.createElement)(f.a,{className:"card-modal-entries"},Object(a.createElement)(o,{parameters:s,onChange:function(e){d(A({},s,e))}}),Object(a.createElement)(X,{parameters:s,onChange:function(e){d(A({},s,e))}})),Object(a.createElement)(g.a,null,Object(a.createElement)(b.a,{onClick:function(){i(),n(s)},color:"primary"},"Save"),Object(a.createElement)(b.a,{onClick:function(){i(),d(t)},color:"secondary"},"Cancel")))}function te(e){return e?JSON.parse(e):{}}function ne(e){return e?JSON.stringify(e):"{}"}function ae(e,t){return t[e].type}function re(e){var t={};return Object.keys(e).forEach((function(n){e[n].matchIf.forEach((function(e){e.types.forEach((function(a){var r="type:"+(a||"")+";widget:"+(e.widget||"")+";field:"+(e.field||"")+";format:"+(e.format||"")+";$ref:"+(e.$ref?"true":"false")+";enum:"+(e.enum?"true":"false");if(t[r])throw new Error("Duplicate hash: "+r);t[r]=n}))}))})),t}function ie(e,t){var n="type:"+(e.dataOptions.type||"")+";widget:"+(e.uiOptions["ui:widget"]||"")+";field:"+(e.uiOptions["ui:field"]||"")+";format:"+(e.dataOptions.format||"")+";$ref:"+(void 0!==e.$ref?"true":"false")+";enum:"+(e.dataOptions.enum?"true":"false"),a=t[n];return a||(e.$ref?"ref":(console.error("No match for card': "+n+" among set"),"shortAnswer"))}var oe=new Set(["title","description","enum","minLength","maxLength","multipleOf","minimum","maximum","format","exclusiveMinimum","exclusiveMaximum","type","default","pattern","required","properties","items","definitions","$ref","minItems","maxItems","enumNames","dependencies","$id","$schema","meta"]),ce=new Set(["ui:order","ui:widget","ui:autofocus","ui:autocomplete","ui:options","ui:field","items","definitions"]);function le(e,t,n){var a=[],r=[],i=[],o=[];Object.keys(n).forEach((function(e){n[e].matchIf.forEach((function(e){e.widget&&!r.includes(e.widget)&&r.push(e.widget),e.field&&!i.includes(e.field)&&i.push(e.field)})),n[e].possibleOptions&&Array.isArray(n[e].possibleOptions)&&o.push.apply(o,n[e].possibleOptions)}));var c=new Set(r),l=new Set(i),s=new Set(o);return e&&"object"===typeof e&&"object"===e.type?a.push.apply(a,function(e,t,n,a,r){var i=[];return e&&"object"===typeof e&&Object.keys(e).forEach((function(e){oe.has(e)||"properties"===e||i.push("Unrecognized Object Property: "+e)})),t&&"object"===typeof t&&Object.keys(t).forEach((function(t){var n=!1;e.properties&&Object.keys(e.properties).includes(t)&&(n=!0),e.dependencies&&Object.keys(e.dependencies).forEach((function(a){Object.keys(e.dependencies[a]).forEach((function(r){"oneOf"===r?e.dependencies[a].oneOf.forEach((function(e){e.properties&&Object.keys(e.properties).includes(t)&&(n=!0)})):"properties"===r&&Object.keys(e.dependencies[a].properties).includes(t)&&(n=!0)}))})),n||ce.has(t)||i.push("Unrecognized UI schema property: "+t)})),e.properties&&Object.entries(e.properties).forEach((function(e){var o=e[0],c=e[1],l=o.replace(/\W/g,"_");o!==l&&i.push("Improper name '"+o+"': using '"+l+"' instead"),c&&"object"===typeof c&&c.type&&"object"!==c.type?(["array","string","integer","number","boolean"].includes(c.type)||i.push("Unrecognized type: "+c.type+" in "+o),Object.keys(c).forEach((function(e){oe.has(e)||i.push("Property Parameter: "+e+" in "+o)}))):Object.keys(c).forEach((function(e){oe.has(e)||i.push("Property Parameter: "+e+" in "+o)})),t&&t[o]&&c&&(!c.type||"object"!==c.type)&&Object.keys(t[o]).forEach((function(e){ce.has(e)||i.push("UI Property: "+e+" for "+o),"ui:widget"!==e||n.has(t[o][e])||i.push("UI Widget: "+t[o][e]+" for "+o),"ui:field"!==e||a.has(t[o][e])||i.push("UI Field: "+t[o][e]+" for "+o),"ui:options"===e&&Object.keys(t[o]["ui:options"]).forEach((function(e){r.has(e)||i.push("UI Property: ui:options."+e+" for "+o)}))}))})),i}(e,t,c,l,s)):a.push("jsonSchema form is not of type object"),a}function se(e,t,n,a,r,i,o){var c=A({},n),l={},s=t&&"object"===typeof t?t:{};if(void 0!==s.$ref&&r){var d="string"===typeof s.$ref?s.$ref.split("/"):[];"#"===d[0]&&"definitions"===d[1]&&r[d[2]]&&(s=A({},s,r[d[2]])),c=A({},(i||{})[d[2]]||{},c)}if(l.name=e,l.required=a.includes(e),l.$ref="string"===typeof s.$ref?s.$ref:void 0,s.type&&"object"===s.type)l.schema=s,l.uischema=c||{},l.propType="section";else{l.dataOptions=s,l.uiOptions=c||{};var m=Object.keys(l.dataOptions);Object.keys(l.uiOptions).forEach((function(e){m.includes(e)&&(l.uiOptions["ui:*"+e]=l.uiOptions[e])})),l.dataOptions.category=ie(l,o),l.propType="card"}return l}function de(e){var t=e.schema,n=e.uischema,a=e.definitionData,r=e.definitionUi,i=e.categoryHash;if(!t.properties)return[];var o={},c=t.required?t.required:[];Object.entries(t.properties).forEach((function(e){var t=e[0],l=e[1],s={},d=l&&"object"===typeof l?l:{};if(void 0!==d.$ref&&a){if(d.$ref&&!d.$ref.startsWith("#/definitions"))throw new Error("Invalid definition, not at '#/definitions': "+d.$ref);var m=void 0!==d.$ref?d.$ref.split("/"):[];"#"===m[0]&&"definitions"===m[1]&&a[m[2]]&&(d=A({},a[m[2]],d));var u=(r||{})[m[2]];n[t]=A({},u||{},n[t])}if(s.name=t,s.required=c.includes(t),s.$ref=d.$ref,s.dataOptions=d,d.type&&"object"===d.type)s.schema=d,s.uischema=n[t]||{},s.propType="section";else{s.uiOptions=n[t]||{};var p=Object.keys(s.dataOptions);Object.keys(s.uiOptions).forEach((function(e){p.includes(e)&&(s.uiOptions["ui:*"+e]=s.uiOptions[e])})),s.dataOptions.category=ie(s,i),s.propType="card"}o[s.name]=s})),t.dependencies&&Object.keys(t.dependencies).forEach((function(e){var l=t.dependencies[e];if(l.oneOf){var s=0;l.oneOf.forEach((function(t){o[e].dependents||(o[e].dependents=[]),o[e].dependents.push({children:[],value:t.properties[e]});var l=t.required||[];Object.entries(t.properties).forEach((function(t){var d=t[0],m=t[1];if(!Object.keys(o).includes(d)){var u=se(d,m,n[d],c,a,r,i);u.required=l.includes(u.name),o[u.name]=u}if(d!==e){var p=o[d];p.dependent=!0,p.parent=e,o[e].dependents[s].children.push(d)}})),s+=1}))}else if(l.properties){var d=l.required||[];Object.entries(l.properties).forEach((function(t){var l=t[0],s=se(l,t[1],n[l],c,a,r,i);s.required=d.includes(s.name),s.dependent=!0,s.parent=e,o[s.name]=s,o[e].dependents?o[e].dependents[0].children.push(l):o[e].dependents=[{children:[l]}]}))}else console.error("unsupported dependency type encountered")}));var l=[];if(n["ui:order"]){var s=[];Object.keys(o).forEach((function(e){n["ui:order"].includes(e)||s.push(o[e])})),n["ui:order"].forEach((function(e){"*"===e?s.forEach((function(e){l.push(e)})):o[e]&&l.push(o[e])}))}else Object.keys(o).forEach((function(e){l.push(o[e])}));return function(e){var t=e.map((function(e){return e.name}));e.map((function(e){var n=e;return n.neighborNames=t,n}))}(l),l}function me(e){if(!e.properties)return 0;var t={},n=0;return Object.entries(e.properties).forEach((function(e){var a=e[0];t[a]={},n+=1})),e.dependencies&&Object.keys(e.dependencies).forEach((function(a){var r=e.dependencies[a];if(r.oneOf){var i=0;r.oneOf.forEach((function(e){t[a].dependents||(t[a].dependents=[]),t[a].dependents.push({children:[],value:e.properties[a]}),Object.entries(e.properties).forEach((function(e){var r=e[0];if(Object.keys(t).includes(r)||(t[r]={},n+=1),r!==a){var o=t[r];o.dependent=!0,o.parent=a,t[a].dependents[i].children.push(r)}})),i+=1}))}else r.properties?Object.entries(r.properties).forEach((function(e){var r=e[0];t[r]={},n+=1,t[a].dependents?t[a].dependents[0].children.push(r):t[a].dependents=[{children:[r]}]})):console.error("unsupported dependency type encountered")})),n}function ue(e){if(void 0!==e.$ref)return{$ref:e.$ref,title:e.dataOptions.title,description:e.dataOptions.description};if("card"===e.propType){if("section"===e.dataOptions.category)return{type:"object"};var t={};return Object.keys(e.dataOptions).forEach((function(n){["category","hideKey","path","definitionData","definitionUi","allFormInputs"].includes(n)||""===e.dataOptions[n]||(t[n]=e.dataOptions[n])})),t}if("section"===e.propType)return e.schema;throw new Error("Element that is neither card, section, nor ref")}function pe(e){if(!e)return{};for(var t={},n={},a={},r={},i=new Set([]),o=0;o<e.length;o+=1){var c=e[o];r[c.name]=A({},c),c.dependents&&c.dependents.forEach((function(e){e.children.forEach((function(e){i.add(e)}))}))}return Object.keys(r).forEach((function(e){var t=r[e];if(t.dependents&&t.dependents[0])if(t.dependents[0].value)a[e]={oneOf:t.dependents.map((function(t){var n,a={},i=[];return t.children.forEach((function(e){r[e]&&(a[e]=ue(r[e]),r[e].required&&i.push(e))})),{properties:A((n={},n[e]=t.value,n),a),required:i}}))};else{var o={},c=[];t.dependents[0].children.forEach((function(e){o[e]=ue(r[e]),r[e].required&&c.push(e)})),a[e]={properties:o,required:c}}i.has(e)||(n[t.name]=ue(t))})),t.properties=n,t.dependencies=a,t.required=e.filter((function(e){var t=e.required,n=e.dependent;return t&&!n})).map((function(e){return e.name})),t}function he(e,t){if(!e)return{};var n={},a=[],r=t;return e.forEach((function(e){if(a.push(e.name),void 0!==e.$ref){var t="string"===typeof e.$ref?e.$ref.split("/"):[];r&&r[t[2]]&&(n[e.name]=r[t[2]])}else"card"===e.propType&&e.uiOptions?Object.keys(e.uiOptions).forEach((function(t){n[e.name]||(n[e.name]={}),t.startsWith("ui:*")?n[e.name][t.substring(4)]=e.uiOptions[t]:n[e.name][t]=e.uiOptions[t]})):"section"===e.propType&&e.uischema&&(n[e.name]=e.uischema)})),n["ui:order"]=a,n}function fe(e,t){var n=t.schema,a=t.uischema,r=t.onChange,i=t.definitionUi,o=A({},(a||{}).definitions?{definitions:a.definitions}:{},he(e,i)),c=A({},n,pe(e));c.type="object",r(c,o)}function ge(e){var t=e.schema,n=e.uischema,a=e.mods,r=e.onChange,i=e.definitionData,o=e.definitionUi,c=e.index,l=de({schema:t,uischema:n,definitionData:i,definitionUi:o,categoryHash:e.categoryHash}),s=l.map((function(e){return e.name})),d=s.length>0?Math.max.apply(Math,s.map((function(e){return e.startsWith("newInput")?Number.parseInt(e.charAt(8),10):0})))+1:1,m={name:"newInput"+d,required:!1,dataOptions:function(e,t){if(t&&void 0!==t.newElementDefaultDataOptions){var n=t.newElementDefaultDataOptions.title+" "+e;return A({},t.newElementDefaultDataOptions,{title:n})}return{title:"New Input "+e,type:"string",default:""}}(d,a),uiOptions:a&&a.newElementDefaultUiSchema||{},propType:"card",schema:{},uischema:{},neighborNames:[]};void 0!==c&&null!==c?l.splice(c+1,0,m):l.push(m),fe(l,{schema:t,uischema:n,definitionData:i,definitionUi:o,onChange:r})}function be(e){var t=e.schema,n=e.uischema,a=e.onChange,r=e.definitionData,i=e.definitionUi,o=e.index,c=de({schema:t,uischema:n,definitionData:r,definitionUi:i,categoryHash:e.categoryHash}),l=c.map((function(e){return e.name})),s=l.length>0?Math.max.apply(Math,l.map((function(e){return e.startsWith("newInput")?Number.parseInt(e.charAt(8),10):0})))+1:1,d={name:"newInput"+s,required:!1,dataOptions:{title:"New Input "+s,type:"object",default:""},uiOptions:{},propType:"section",schema:{title:"New Input "+s,type:"object"},uischema:{},neighborNames:[]};void 0!==o&&null!==o?c.splice(o+1,0,d):c.push(d),fe(c,{schema:t,uischema:n,definitionData:r,definitionUi:i,onChange:a})}function ye(e){var t=e.schemaData,n=e.uiSchemaData,r=e.onChange,i=e.definitionData,o=e.definitionUi,c=e.hideKey,l=e.path,s=e.cardOpenArray,d=e.setCardOpenArray,m=e.allFormInputs,u=e.mods,p=e.categoryHash,h=e.Card,f=e.Section,g=te(ne(t)),b=te(ne(n));if(!g.properties)return[];var y=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});return y.map((function(e,t){var n=s&&t<s.length&&s[t]||!1;if("card"===e.propType){var v=function(e,t){return t[e]&&t[e].modalBody||function(){return null}}(e.dataOptions.category||"string",m);return Object(a.createElement)(h,{componentProps:A({name:y[t].name,required:y[t].required,hideKey:c,path:l+"_"+y[t].name,definitionData:i,definitionUi:o,neighborNames:y[t].neighborNames,dependents:y[t].dependents,dependent:y[t].dependent,parent:y[t].parent},y[t].uiOptions,y[t].dataOptions),key:l+"_"+y[t].name,TypeSpecificParameters:v,onChange:function(e){var n=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p}),a={},c={};if(Object.keys(e).forEach((function(t){t.startsWith("ui:")?t.startsWith("ui:*")?c[t.substring(4)]=e[t]:c[t]=e[t]:["name","required","neighborNames","dependents","dependent","parent"].includes(t)||(a[t]=e[t])})),"card"!==n[t].propType)throw new Error("Card editing non card element");var l=n[t];n[t]=A({},l,{dataOptions:a,uiOptions:c,required:e.required,dependents:e.dependents,dependent:e.dependent,parent:e.parent,name:e.name,$ref:e.$ref,propType:"card"}),fe(n,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onDelete:function(){var e=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});e.splice(t,1),d([].concat(s.slice(0,t),s.slice(t+1))),fe(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onMoveUp:function(){var e=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(0!==t){var n=e[t-1];e[t-1]=e[t],e[t]=n,fe(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onMoveDown:function(){var e=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(t!==y.length-1){var n=e[t+1];e[t+1]=e[t],e[t]=n,fe(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},addElem:function(e){"card"===e?ge({schema:g,uischema:b,mods:u,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}):"section"===e&&be({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}),d([].concat(s,[!1]))},cardOpen:n,setCardOpen:function(e){return d([].concat(s.slice(0,t),[e],s.slice(t+1)))},allFormInputs:m,mods:u})}return"section"===e.propType?Object(a.createElement)(f,{schema:e.schema,uischema:e.uischema,onChange:function(e,n,a){var c=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p}),l=c[t];c[t]=A({},l,{schema:e,uischema:n,propType:"section"}),a&&(c[t].$ref=a),fe(c,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onNameChange:function(n){var a=e;if(!y.map((function(e){return e.name})).includes(n)){var c=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});c[t]=A({},a,{name:n}),fe(c,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onRequireToggle:function(){var n=e,a=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});a[t]=A({},n,{required:!n.required}),fe(a,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onDependentsChange:function(n){var a=e,c=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});c[t]=A({},a,{dependents:n}),fe(c,{schema:g,uischema:b,onChange:r,definitionData:i,definitionUi:o})},onDelete:function(){var e=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});e.splice(t,1),d([].concat(s.slice(0,t),s.slice(t+1))),fe(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onMoveUp:function(){var e=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(0!==t){var n=e[t-1];e[t-1]=e[t],e[t]=n,fe(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onMoveDown:function(){var e=de({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(t!==y.length-1){var n=e[t+1];e[t+1]=e[t],e[t]=n,fe(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},name:e.name,key:l+"_"+y[t].name,required:e.required,path:l+"_"+e.name,definitionData:i||{},definitionUi:o||{},hideKey:c,reference:e.$ref,neighborNames:e.neighborNames,dependents:e.dependents,dependent:e.dependent,parent:e.parent,addElem:function(e){"card"===e?ge({schema:g,uischema:b,mods:u,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}):"section"===e&&be({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}),d([].concat(s,[!1]))},cardOpen:n,setCardOpen:function(e){return d([].concat(s.slice(0,t),[e],s.slice(t+1)))},allFormInputs:m,categoryHash:p,mods:u}):Object(a.createElement)("div",null,Object(a.createElement)("h2",null," Error parsing element "))}))}function ve(e,t){var n=t.schema,a=t.uischema,r=t.onChange,i=t.definitionData,o=t.definitionUi,c=t.categoryHash,l=e.source.index,s=e.destination.index,d=de({schema:n,uischema:a,definitionData:i,definitionUi:o,categoryHash:c}),m=d[l];d[l]=d[s],d[s]=m,fe(d,{schema:n,uischema:a,definitionData:i||{},definitionUi:o||{},onChange:r})}function Oe(e,t,n,a){var r=[];return e.forEach((function(e){if("section"===e.propType){var i=Oe(de({schema:e.schema,uischema:e.uischema,definitionData:t,definitionUi:n,categoryHash:a}),t,n,a),o=A({},e.uischema,he(i,n)),c=A({},e.schema,pe(i)),l=A({},e,{schema:c,uischema:o});r.push(l)}else r.push(e)})),r}function je(e,t,n,a){var r=e.definitions,i=t.definitions;fe(Oe(de({schema:e,uischema:t,definitionData:r,definitionUi:i,categoryHash:a}),r,i,a),{schema:e,uischema:t,definitionData:r,definitionUi:i,onChange:n})}function Ee(e,t){if(!t)return A({},e);var n=t.reduce((function(e,t){return e[t]=!0,e}),{});return Object.keys(e).reduce((function(t,a){var r;return n[a]?t:A({},t,((r={})[a]=e[a],r))}),{})}function xe(e){var t=e.category,n=e.parameters,r=e.onChange,i=e.mods,o=function(e,t){return t[e]&&t[e].cardBody||function(){return null}}(t,e.allFormInputs);return Object(a.createElement)("div",null,Object(a.createElement)(o,{parameters:n,onChange:r,mods:i||{}}))}function Ce(e){var t=e.parameters,n=e.onChange,a=e.allFormInputs,i=e.mods,o=e.showObjectNameInput,c=void 0===o||o,l=r.a.useState(t.name),s=l[0],d=l[1],m=r.a.useState(t.title),u=m[0],p=m[1],h=r.a.useState(t.description),f=h[0],g=h[1],b=function(e,t){var n={};return Object.keys(t).forEach((function(e){n[e]=t[e].displayName})),n}(t.category,a),y=function(e,t){return i&&i.labels&&"string"===typeof i.labels[e]?i.labels[e]:t},v=y("objectNameLabel","Object Name"),O=y("displayNameLabel","Display Name"),j=y("descriptionLabel","Description"),E=y("inputTypeLabel","Input Type");return r.a.createElement("div",null,c&&r.a.createElement("div",{className:"card-entry"},r.a.createElement("h5",null,v+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardObjectName?i.tooltipDescriptions.cardObjectName:"The back-end name of the object",id:s+"_nameinfo",type:"help"})),r.a.createElement(x.a,{value:s||"",placeholder:"Key",type:"text",onChange:function(e){return d(e.target.value.replace(/\W/g,"_"))},onBlur:function(e){return n(A({},t,{name:e.target.value}))},className:"card-text"})),r.a.createElement("div",{className:"card-entry "+(void 0===t.$ref?"":"disabled-input")},r.a.createElement("h5",null,O+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardDisplayName?i.tooltipDescriptions.cardDisplayName:"The user-facing name of this object",id:s+"-titleinfo",type:"help"})),r.a.createElement(x.a,{value:u||"",placeholder:"Title",type:"text",onChange:function(e){return p(e.target.value)},onBlur:function(e){n(A({},t,{title:e.target.value}))},className:"card-text"})),r.a.createElement("div",{className:"card-entry "+(t.$ref?"disabled-input":"")},r.a.createElement("h5",null,j+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardDescription?i.tooltipDescriptions.cardDescription:"This will appear as help text on the form",id:s+"-descriptioninfo",type:"help"})),r.a.createElement(x.a,{value:f||"",placeholder:"Description",type:"text",onChange:function(e){return g(e.target.value)},onBlur:function(e){n(A({},t,{description:e.target.value}))},className:"card-text"})),r.a.createElement("div",{className:U()("card-entry",{"wide-card-entry":!c})},r.a.createElement("h5",null,E+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardInputType?i.tooltipDescriptions.cardInputType:"The type of form input displayed on the form",id:s+"-inputinfo",type:"help"})),r.a.createElement(I.a,{value:{value:t.category,label:b[t.category]},placeholder:"Category",options:function(){var e=t.definitionData&&0!==Object.keys(t.definitionData).length,n=Object.keys(b).filter((function(t){return"ref"!==t||e}));return i&&(n=function(e,t){if(void 0===t||null===t)return e;var n=t.reduce((function(e,t){return e[t]=!0,e}),{});return e.filter((function(e){return!n[e]}))}(n,i.deactivatedFormInputs)),n.map((function(e){return{value:e,label:b[e]}}))}(),onChange:function(e){var r=e.value,i=A({},function(e,t){return t[e].defaultUiSchema}(r,a),function(e,t){return t[e].defaultDataSchema}(r,a),{name:t.name,required:t.required});if(void 0!==i.$ref&&!i.$ref){var o=Object.keys(t.definitionData)[0];i.$ref="#/definitions/"+(o||"empty")}n(A({},i,{title:i.title||t.title,default:i.default||"",type:i.type||ae(r,a),category:i.category||r}))},className:"card-select"})),r.a.createElement("div",{className:"card-category-options"},r.a.createElement(xe,{category:t.category,parameters:t,onChange:n,mods:i,allFormInputs:a})))}var Ne=Object(D.a)({addDetails:{"& .popover":{width:"300px","z-index":"1051 !important","& .popover-inner":{border:"1px solid #1d71ad",borderRadius:"4px","& .popover-header":{borderBottom:"1px solid #1d71ad"},"& .action-buttons":{display:"flex",justifyContent:"space-between",marginTop:".5em"}}}}});function ke(e){var t=e.name,n=e.addElem,i=e.hidden,o=Ne(),c=Object(a.useState)(!1),l=c[0],s=c[1],d=Object(a.useState)("card"),m=d[0],u=d[1];return r.a.createElement("div",{style:{display:i?"none":"initial"}},r.a.createElement("span",{id:t+"_add"},r.a.createElement(M,{icon:w.h,onClick:function(){return s(!0)}})),r.a.createElement(E.a,{placement:"top",target:t+"_add"},"Create new form element"),r.a.createElement(C.a,{placement:"bottom",target:t+"_add",isOpen:l,toggle:function(){return s(!1)},className:"add-details "+o.addDetails,id:t+"_add_popover"},r.a.createElement(N.a,null,"Create New"),r.a.createElement(k.a,null,r.a.createElement(R,{className:"choose-create",defaultValue:m,horizontal:!1,options:[{value:"card",label:"Form element"},{value:"section",label:"Form section"}],onChange:function(e){u(e)}}),r.a.createElement("div",{className:"action-buttons"},r.a.createElement(b.a,{onClick:function(){return s(!1)},color:"secondary"},"Cancel"),r.a.createElement(b.a,{onClick:function(){n(m),s(!1)},color:"primary"},"Create")))))}var De=Object(D.a)({cardEntries:{"border-bottom":"1px solid gray",margin:".5em 1.5em 0 1.5em","& h5":{color:"black","font-size":"14px","font-weight":"bold"},"& .card-entry":{display:"inline-block",margin:0,width:"50%","text-align":"left",padding:"0.5em","&.wide-card-entry":{width:"100%"}},"& input":{border:"1px solid gray","border-radius":"4px"},"& .card-category-options":{padding:".5em"},"& .card-select":{border:"1px solid var(--gray)","border-radius":"4px"},"& .card-array":{"& .fa-plus-square":{display:"none"},"& .section-entries":{"& .fa-plus-square":{display:"initial"}}},"& .card-enum":{display:"flex",flexDirection:"column",width:"100%",backgroundColor:"var(--light-gray)",textAlign:"left",padding:"1em","& h3":{fontSize:"16px",margin:"0 0 .5em 0"},"& label":{color:"black",fontSize:"14px"},"& .card-enum-header":{marginTop:"0.5em",width:"100%",display:"flex",flexDirection:"row","& h5":{width:"50%",fontWeight:"bold",fontSize:"14px"}},"& .fa":{cursor:"pointer"}}},cardInteractions:{margin:".5em 1.5em",textAlign:"left","& .fa":{marginRight:"1em",borderRadius:"4px",padding:".25em",height:"25px",width:"25px"},"& .fa-arrow-up, .fa-arrow-down":{marginRight:".5em"},"& .fa-trash":{border:"1px solid #DE5354",color:"#DE5354"},"& .fb-checkbox":{display:"inline-block"},"& .interactions-left, & .interactions-right":{display:"inline-block",width:"48%",margin:"0 auto"},"& .interactions-left":{textAlign:"left"},"& .interactions-right":{textAlign:"right"}}});function we(e){var t=e.componentProps,n=e.onChange,r=e.onDelete,i=e.onMoveUp,o=e.onMoveDown,c=e.TypeSpecificParameters,l=e.addElem,s=e.cardOpen,d=e.setCardOpen,m=e.allFormInputs,u=e.mods,p=e.showObjectNameInput,h=void 0===p||p,f=De(),g=Object(a.useState)(!1),b=g[0],y=g[1];return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(q,{isOpen:s,toggleCollapse:function(){return d(!s)},title:Object(a.createElement)(a.Fragment,null,Object(a.createElement)("span",{onClick:function(){return d(!s)},className:"label"},t.title||t.name," ",t.parent?Object(a.createElement)(P,{text:"Depends on "+t.parent,id:t.path+"_parentinfo",type:"alert"}):"",void 0!==t.$ref?Object(a.createElement)(P,{text:"Is an instance of pre-configured component "+t.$ref,id:t.path+"_refinfo",type:"alert"}):""),Object(a.createElement)("span",{className:"arrows"},Object(a.createElement)("span",{id:t.path+"_moveupbiginfo"},Object(a.createElement)(M,{icon:w.b,onClick:function(){return i?i():{}}})),Object(a.createElement)(E.a,{placement:"top",target:t.path+"_moveupbiginfo"},"Move form element up"),Object(a.createElement)("span",{id:t.path+"_movedownbiginfo"},Object(a.createElement)(M,{icon:w.a,onClick:function(){return o?o():{}}})),Object(a.createElement)(E.a,{placement:"top",target:t.path+"_movedownbiginfo"},"Move form element down"))),className:"card-container "+(t.dependent?"card-dependent":"")+" "+(void 0===t.$ref?"":"card-reference")},Object(a.createElement)("div",{className:f.cardEntries},Object(a.createElement)(Ce,{parameters:t,onChange:n,allFormInputs:m,mods:u,showObjectNameInput:h})),Object(a.createElement)("div",{className:f.cardInteractions},Object(a.createElement)("span",{id:t.path+"_editinfo"},Object(a.createElement)(M,{icon:w.f,onClick:function(){return y(!0)}})),Object(a.createElement)(E.a,{placement:"top",target:t.path+"_editinfo"},"Additional configurations for this form element"),Object(a.createElement)("span",{id:t.path+"_trashinfo"},Object(a.createElement)(M,{icon:w.k,onClick:r||function(){}})),Object(a.createElement)(E.a,{placement:"top",target:t.path+"_trashinfo"},"Delete form element"),Object(a.createElement)(_,{onChangeValue:function(){return n(A({},t,{required:!t.required}))},isChecked:!!t.required,label:"Required",id:("string"===typeof t.path?t.path:"card")+"_required"})),Object(a.createElement)(ee,{componentProps:t,isOpen:b,onClose:function(){return y(!1)},onChange:function(e){n(e)},TypeSpecificParameters:c})),l?Object(a.createElement)(ke,{name:""+t.path,addElem:function(e){return l(e)}}):"")}var Se=Object(D.a)({hidden:{display:"none"}});function Ue(){return Object(a.createElement)("div",null)}function Fe(e){var t=e.parameters,n=e.onChange,r=Se(),i=Array.isArray(t.enum)?t.enum:[],o=i.some((function(e){return isNaN(e)})),c=o||i.some((function(e){return"string"===typeof e})),l=Object(a.useState)(!!i.length&&!c),s=l[0],d=l[1];return Object(a.createElement)("div",{className:"card-enum"},Object(a.createElement)("h3",null,"Possible Values"),Object(a.createElement)(_,{onChangeValue:function(){Array.isArray(t.enumNames)?n(A({},t,{enumNames:null})):n(A({},t,{enumNames:i.map((function(e){return""+e}))}))},isChecked:Array.isArray(t.enumNames),label:"Display label is different from value",id:t.path+"_different"}),Object(a.createElement)("div",{className:o||!i.length?r.hidden:""},Object(a.createElement)(_,{onChangeValue:function(){if(c||!s)try{var e=i.map((function(e){var t=0;if(e&&(t=parseFloat(e)||0),Number.isNaN(t))throw new Error("Could not convert "+e);return t}));d(!0),n(A({},t,{enum:e}))}catch(r){console.error(r)}else{var a=i.map((function(e){return""+(e||0)}));d(!1),n(A({},t,{enum:a}))}},isChecked:s,disabled:o,label:"Force number",id:("string"===typeof t.path?t.path:"")+"_forceNumber"})),Object(a.createElement)(K,{initialValues:i,names:Array.isArray(t.enumNames)?t.enumNames.map((function(e){return""+e})):void 0,showNames:Array.isArray(t.enumNames),onChange:function(e,a){return n(A({},t,{enum:e,enumNames:a}))},type:s?"number":"string"}))}var Ie={time:{displayName:"Time",matchIf:[{types:["string"],format:"date-time"}],defaultDataSchema:{format:"date-time"},defaultUiSchema:{},type:"string",cardBody:function(e){var t=e.parameters,n=e.onChange;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("h5",null,"Default time"),Object(a.createElement)(x.a,{value:t.default||"",placeholder:"Default",type:"datetime-local",onChange:function(e){return n(A({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:Ue},checkbox:{displayName:"Checkbox",matchIf:[{types:["boolean"]}],defaultDataSchema:{},defaultUiSchema:{},type:"boolean",cardBody:function(e){var t=e.parameters,n=e.onChange;return Object(a.createElement)("div",{className:"card-boolean"},Object(a.createElement)(_,{onChangeValue:function(){n(A({},t,{default:!t.default||!0!==t.default}))},isChecked:!!t.default&&!0===t.default,label:"Default"}))},modalBody:Ue},ref:{displayName:"Reference",matchIf:[{types:[null],$ref:!0}],defaultDataSchema:{$ref:"",title:"",description:""},defaultUiSchema:{},type:null,cardBody:function(e){var t=e.parameters,n=e.onChange;return Object(a.createElement)("div",{className:"card-select"},Object(a.createElement)(I.a,{value:{value:t.$ref,label:t.$ref},placeholder:"Reference",options:Object.keys(t.definitionData||{}).map((function(e){return{value:"#/definitions/"+e,label:"#/definitions/"+e}})),onChange:function(e){n(A({},t,{$ref:e.value}))},className:"card-select"}))},modalBody:Ue},radio:{displayName:"Radio",matchIf:[{types:["string","number","integer","array","boolean",null],widget:"radio",enum:!0}],defaultDataSchema:{enum:[]},defaultUiSchema:{"ui:widget":"radio"},type:"string",cardBody:Fe,modalBody:Ue},dropdown:{displayName:"Dropdown",matchIf:[{types:["string","number","integer","array","boolean",null],enum:!0}],defaultDataSchema:{enum:[]},defaultUiSchema:{},type:"string",cardBody:Fe,modalBody:Ue}},Ae=Object(D.a)({sectionContainer:{"& .section-head":{borderBottom:"1px solid var(--gray)",margin:"0.5em 1.5em 0 1.5em","& h5":{color:"black",fontSize:"14px",fontWeight:"bold",margin:"0"},"& .section-entry":{display:"inline-block",margin:"0",width:"33%",textAlign:"left",padding:"0.5em"},"& .section-reference":{width:"100%"}},"& .section-footer":{marginTop:"1em",textAlign:"center","& .fa":{cursor:"pointer"}},"& .section-interactions":{margin:"0.5em 1.5em",textAlign:"left",borderTop:"1px solid var(--gray)",paddingTop:"1em","& .fa":{marginRight:"1em",borderRadius:"4px",padding:"0.25em",height:"25px",width:"25px"},"& .fa-pencil-alt, & .fa-arrow-up, & .fa-arrow-down":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .fa-trash":{border:"1px solid #de5354",color:"#de5354"},"& .fa-arrow-up, & .fa-arrow-down":{marginRight:"0.5em"},"& .fb-checkbox":{display:"inline-block",label:{color:"#9aa4ab"}},"& .interactions-left, & .interactions-right":{display:"inline-block",width:"48%",margin:"0 auto"},"& .interactions-left":{textAlign:"left"},"& .interactions-right":{textAlign:"right"}}}});function Te(e){var t=e.name,n=e.required,r=e.schema,i=e.uischema,o=e.onChange,c=e.onNameChange,l=e.onRequireToggle,s=e.onDependentsChange,d=e.onDelete,m=e.onMoveUp,p=e.onMoveDown,h=e.path,f=e.definitionData,g=e.definitionUi,b=e.hideKey,y=e.reference,v=e.dependents,j=e.dependent,C=e.parent,N=e.neighborNames,k=e.addElem,D=e.cardOpen,S=e.setCardOpen,U=e.allFormInputs,F=e.mods,T=e.categoryHash,B=Ae(),H=le(r||{},i||{},U),$=r||{},R=me($),z=[].concat(Array(R)).map((function(){return!1})),L=Object(a.useState)(z),J=L[0],W=L[1],V=Object(a.useState)(t),K=V[0],G=V[1],Y=Object(a.useState)(!1),Q=Y[0],X=Y[1];return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(q,{isOpen:D,toggleCollapse:function(){return S(!D)},title:Object(a.createElement)(a.Fragment,null,Object(a.createElement)("span",{onClick:function(){return S(!D)},className:"label"},$.title||K," ",C?Object(a.createElement)(P,{text:"Depends on "+C,id:K+"_parentinfo",type:"alert"}):""),Object(a.createElement)("span",{className:"arrows"},Object(a.createElement)("span",{id:h+"_moveupbiginfo"},Object(a.createElement)(M,{icon:w.b,onClick:function(){return m?m():{}}})),Object(a.createElement)(E.a,{placement:"top",target:h+"_moveupbiginfo"},"Move form element up"),Object(a.createElement)("span",{id:h+"_movedownbiginfo"},Object(a.createElement)(M,{icon:w.a,onClick:function(){return p?p():{}}})),Object(a.createElement)(E.a,{placement:"top",target:h+"_movedownbiginfo"},"Move form element down"))),className:"section-container "+B.sectionContainer+" "+(j?"section-dependent":"")+" "+(y?"section-reference":"")},Object(a.createElement)("div",{className:"section-entries "+(y?"section-reference":"")},Object(a.createElement)("div",{className:"section-head"},y?Object(a.createElement)("div",{className:"section-entry section-reference"},Object(a.createElement)("h5",null,"Reference Section"),Object(a.createElement)(I.a,{value:{value:y,label:y},placeholder:"Reference",options:Object.keys(f).map((function(e){return{value:"#/definitions/"+e,label:"#/definitions/"+e}})),onChange:function(e){o(r,i,e.value)},className:"section-select"})):"",Object(a.createElement)("div",{className:"section-entry","data-test":"section-object-name"},Object(a.createElement)("h5",null,"Section Object Name"," ",Object(a.createElement)(P,{text:F&&F.tooltipDescriptions&&F.tooltipDescriptions&&"string"===typeof F.tooltipDescriptions.cardSectionObjectName?F.tooltipDescriptions.cardSectionObjectName:"The key to the object that will represent this form section.",id:K+"_nameinfo",type:"help"})),Object(a.createElement)(x.a,{value:K||"",placeholder:"Key",type:"text",onChange:function(e){return G(e.target.value.replace(/\W/g,"_"))},onBlur:function(e){return c(e.target.value)},className:"card-text",readOnly:b})),Object(a.createElement)("div",{className:"section-entry","data-test":"section-display-name"},Object(a.createElement)("h5",null,"Section Display Name"," ",Object(a.createElement)(P,{text:F&&F.tooltipDescriptions&&F.tooltipDescriptions&&"string"===typeof F.tooltipDescriptions.cardSectionDisplayName?F.tooltipDescriptions.cardSectionDisplayName:"The name of the form section that will be shown to users of the form.",id:K+"_titleinfo",type:"help"})),Object(a.createElement)(x.a,{value:$.title||"",placeholder:"Title",type:"text",onChange:function(e){return o(A({},r,{title:e.target.value}),i)},className:"card-text"})),Object(a.createElement)("div",{className:"section-entry","data-test":"section-description"},Object(a.createElement)("h5",null,"Section Description"," ",Object(a.createElement)(P,{text:F&&F.tooltipDescriptions&&F.tooltipDescriptions&&"string"===typeof F.tooltipDescriptions.cardSectionDescription?F.tooltipDescriptions.cardSectionDescription:"A description of the section which will be visible on the form.",id:K+"_descriptioninfo",type:"help"})),Object(a.createElement)(x.a,{value:$.description||"",placeholder:"Description",type:"text",onChange:function(e){return o(A({},r,{description:e.target.value}),i)},className:"card-text"})),Object(a.createElement)(u.a,{style:{display:0===H.length?"none":"block"},color:"warning"},Object(a.createElement)("h5",null,"Unsupported Features:"),H.map((function(e){return Object(a.createElement)("li",{key:h+"_"+e},e)})))),Object(a.createElement)("div",{className:"section-body"},Object(a.createElement)(O.a,{onDragEnd:function(e){return ve(e,{schema:r,uischema:i,onChange:o,definitionData:f,definitionUi:g,categoryHash:T})},className:"section-body"},Object(a.createElement)(O.c,{droppableId:"droppable"},(function(e){return Object(a.createElement)("div",A({ref:e.innerRef},e.droppableProps),ye({schemaData:r,uiSchemaData:i,onChange:o,path:h,definitionData:f,definitionUi:g,cardOpenArray:J,setCardOpenArray:W,allFormInputs:U,mods:F,categoryHash:T,Card:we,Section:Te}).map((function(e,t){return Object(a.createElement)(O.b,{key:e.key,draggableId:e.key,index:t},(function(t){return Object(a.createElement)("div",A({ref:t.innerRef},t.draggableProps,t.dragHandleProps),e)}))})),e.placeholder)})))),Object(a.createElement)("div",{className:"section-footer"},Object(a.createElement)(ke,{name:K+"_inner",addElem:function(e){"card"===e?ge({schema:r,uischema:i,mods:F,onChange:o,definitionData:f,definitionUi:g,categoryHash:T}):"section"===e&&be({schema:r,uischema:i,onChange:o,definitionData:f,definitionUi:g,categoryHash:T})},hidden:$.properties&&0!==Object.keys($.properties).length})),Object(a.createElement)("div",{className:"section-interactions"},Object(a.createElement)("span",{id:h+"_editinfo"},Object(a.createElement)(M,{icon:w.f,onClick:function(){return X(!0)}})),Object(a.createElement)(E.a,{placement:"top",target:h+"_editinfo"},"Additional configurations for this form element"),Object(a.createElement)("span",{id:h+"_trashinfo"},Object(a.createElement)(M,{icon:w.k,onClick:function(){return d?d():{}}})),Object(a.createElement)(E.a,{placement:"top",target:h+"_trashinfo"},"Delete form element"),Object(a.createElement)(_,{onChangeValue:function(){return l()},isChecked:n,label:"Required",id:h+"_required"}))),Object(a.createElement)(ee,{componentProps:{dependents:v,neighborNames:N,name:K,schema:r,type:"object"},isOpen:Q,onClose:function(){return X(!1)},onChange:function(e){s(e.dependents)},TypeSpecificParameters:Ue})),k?Object(a.createElement)(ke,{name:K,addElem:function(e){return k(e)}}):"")}var _e={"& .arrows":{float:"right","& .fa-arrow-up, & .fa-arrow-down":{"border-radius":"4px",padding:".25em",margin:"0 .5em 0 0",border:"1px solid #1d71ad",color:"#1d71ad",height:"28px",width:"28px"}}},Me={"":"None","date-time":"Date-Time",email:"Email",hostname:"Hostname",time:"Time",uri:"URI",regex:"Regular Expression"},Be={"":"None",email:"Email",username:"User Name",password:"Password","street-address":"Street Address",country:"Country"};function qe(e){var t=e.parameters,n=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Length"),r.a.createElement(x.a,{value:t.minLength?t.minLength:"",placeholder:"Minimum Length",key:"minLength",type:"number",onChange:function(e){n(A({},t,{minLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Length"),r.a.createElement(x.a,{value:t.maxLength?t.maxLength:"",placeholder:"Maximum Length",key:"maxLength",type:"number",onChange:function(e){n(A({},t,{maxLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Regular Expression Pattern"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(P,{id:t.path+"_regex",type:"help",text:"Regular expression pattern that this must satisfy"}))),r.a.createElement(x.a,{value:t.pattern?t.pattern:"",placeholder:"Regular Expression Pattern",key:"pattern",type:"text",onChange:function(e){n(A({},t,{pattern:e.target.value}))},className:"card-modal-text"}),r.a.createElement("h4",null,"Format"," ",r.a.createElement(P,{id:t.path+"_format",type:"help",text:"Require string input to match a certain common format"})),r.a.createElement(I.a,{value:{value:t.format?Me["string"===typeof t.format?t.format:""]:"",label:t.format?Me["string"===typeof t.format?t.format:""]:"None"},placeholder:"Format",key:"format",options:Object.keys(Me).map((function(e){return{value:e,label:Me[e]}})),onChange:function(e){n(A({},t,{format:e.value}))},className:"card-modal-select"}),r.a.createElement("h5",null,"Auto Complete Category"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(P,{id:t.path+"_autocomplete",type:"help",text:"Suggest entries based on the user's browser history"}))),r.a.createElement(I.a,{value:{value:t["ui:autocomplete"]?Be["string"===typeof t["ui:autocomplete"]?t["ui:autocomplete"]:""]:"",label:t["ui:autocomplete"]?Be["string"===typeof t["ui:autocomplete"]?t["ui:autocomplete"]:""]:"None"},placeholder:"Auto Complete",key:"ui:autocomplete",options:Object.keys(Be).map((function(e){return{value:e,label:Be[e]}})),onChange:function(e){n(A({},t,{"ui:autocomplete":e.value}))},className:"card-modal-select"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(_,{onChangeValue:function(){n(A({},t,{"ui:autofocus":!t["ui:autofocus"]||!0!==t["ui:autofocus"]}))},isChecked:!!t["ui:autofocus"]&&!0===t["ui:autofocus"],label:"Auto Focus"})))}var He={shortAnswer:{displayName:"Short Answer",matchIf:[{types:["string"]}],defaultDataSchema:{},defaultUiSchema:{},type:"string",cardBody:function(e){var t=e.parameters,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default value"),r.a.createElement(x.a,{value:t.default,placeholder:"Default",type:"text",onChange:function(e){return n(A({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:qe},password:{displayName:"Password",matchIf:[{types:["string"],widget:"password"}],defaultDataSchema:{},defaultUiSchema:{"ui:widget":"password"},type:"string",cardBody:function(e){var t=e.parameters,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default password"),r.a.createElement(x.a,{value:t.default,placeholder:"Default",type:"password",onChange:function(e){return n(A({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:qe}},$e={"":"None","date-time":"Date-Time",email:"Email",hostname:"Hostname",time:"Time",uri:"URI",regex:"Regular Expression"};var Re={longAnswer:{displayName:"Long Answer",matchIf:[{types:["string"],widget:"textarea"}],defaultDataSchema:{},defaultUiSchema:{"ui:widget":"textarea"},type:"string",cardBody:function(e){var t=e.parameters,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default input"),r.a.createElement(x.a,{value:t.default,placeholder:"Default",type:"textarea",onChange:function(e){return n(A({},t,{default:e.target.value}))},className:"card-textarea"}))},modalBody:function(e){var t=e.parameters,n=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Length"),r.a.createElement(x.a,{value:t.minLength?t.minLength:"",placeholder:"Minimum Length",key:"minLength",type:"number",onChange:function(e){n(A({},t,{minLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Length"),r.a.createElement(x.a,{value:t.maxLength?t.maxLength:"",placeholder:"Maximum Length",key:"maxLength",type:"number",onChange:function(e){n(A({},t,{maxLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Regular Expression Pattern"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"},r.a.createElement(P,{id:t.path+"_regex",type:"help",text:"Regular expression pattern that this must satisfy"}))),r.a.createElement(x.a,{value:t.pattern?t.pattern:"",placeholder:"Regular Expression Pattern",key:"pattern",type:"text",onChange:function(e){n(A({},t,{pattern:e.target.value}))},className:"card-modal-text"}),r.a.createElement("h4",null,"Format"," ",r.a.createElement(P,{id:t.path+"_format",type:"help",text:"Require string input to match a certain common format"})),r.a.createElement(I.a,{value:{value:t.format?$e["string"===typeof t.format?t.format:""]:"",label:t.format?$e["string"===typeof t.format?t.format:""]:"None"},placeholder:"Format",key:"format",options:Object.keys($e).map((function(e){return{value:e,label:$e[e]}})),onChange:function(e){n(A({},t,{format:e.value}))},className:"card-modal-select"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(_,{onChangeValue:function(){n(A({},t,{"ui:autofocus":!t["ui:autofocus"]||!0!==t["ui:autofocus"]}))},isChecked:!!t["ui:autofocus"]&&!0===t["ui:autofocus"],label:"Auto Focus"})))}}};function ze(e){var t=e.parameters,n=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Multiple of"," ",r.a.createElement(P,{id:t.path+"_multiple",type:"help",text:"Require number to be a multiple of this number"})),r.a.createElement(x.a,{value:t.multipleOf?t.multipleOf:"",placeholder:"ex: 2",key:"multipleOf",type:"number",onChange:function(e){var a=parseFloat(e.target.value);Number.isNaN(a)&&(a=null),n(A({},t,{multipleOf:a}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Minimum"),r.a.createElement(x.a,{value:t.minimum||t.exclusiveMinimum||"",placeholder:"ex: 3",key:"minimum",type:"number",onChange:function(e){var a=parseFloat(e.target.value);Number.isNaN(a)&&(a=null),t.exclusiveMinimum?n(A({},t,{exclusiveMinimum:a,minimum:null})):n(A({},t,{minimum:a,exclusiveMinimum:null}))},className:"card-modal-number"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(_,{key:"exclusiveMinimum",onChangeValue:function(){var e=t.minimum||t.exclusiveMinimum;t.exclusiveMinimum?n(A({},t,{exclusiveMinimum:null,minimum:e})):n(A({},t,{exclusiveMinimum:e,minimum:null}))},isChecked:!!t.exclusiveMinimum,disabled:!t.minimum&&!t.exclusiveMinimum,label:"Exclusive Minimum"})),r.a.createElement("h4",null,"Maximum"),r.a.createElement(x.a,{value:t.maximum||t.exclusiveMaximum||"",placeholder:"ex: 8",key:"maximum",type:"number",onChange:function(e){var a=parseFloat(e.target.value);Number.isNaN(a)&&(a=null),t.exclusiveMinimum?n(A({},t,{exclusiveMaximum:a,maximum:null})):n(A({},t,{maximum:a,exclusiveMaximum:null}))},className:"card-modal-number"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(_,{key:"exclusiveMaximum",onChangeValue:function(){var e=t.maximum||t.exclusiveMaximum;t.exclusiveMaximum?n(A({},t,{exclusiveMaximum:null,maximum:e})):n(A({},t,{exclusiveMaximum:e,maximum:null}))},isChecked:!!t.exclusiveMaximum,disabled:!t.maximum&&!t.exclusiveMaximum,label:"Exclusive Maximum"})))}function Le(e){var t=e.parameters,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default number"),r.a.createElement(x.a,{value:t.default,placeholder:"Default",type:"number",onChange:function(e){return n(A({},t,{default:parseFloat(e.target.value)}))},className:"card-number"}))}var Pe={integer:{displayName:"Integer",matchIf:[{types:["integer"]},{types:["integer"],widget:"number"}],defaultDataSchema:{},defaultUiSchema:{},type:"integer",cardBody:Le,modalBody:ze},number:{displayName:"Number",matchIf:[{types:["number"]}],defaultDataSchema:{},defaultUiSchema:{},type:"number",cardBody:Le,modalBody:ze}};function Je(e){var t=e.parameters,n=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Items"),r.a.createElement(x.a,{value:t.minItems||"",placeholder:"ex: 2",key:"minimum",type:"number",onChange:function(e){n(A({},t,{minItems:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Items"),r.a.createElement(x.a,{value:t.maxItems||"",placeholder:"ex: 2",key:"maximum",type:"number",onChange:function(e){n(A({},t,{maxItems:parseInt(e.target.value,10)}))},className:"card-modal-number"}))}function We(e){var t=e.defaultFormInputs;return function(e){var n=e.parameters,a=e.onChange,i=e.mods,o={},c={},l=A({},t,i&&i.customFormInputs);Object.keys(n).forEach((function(e){e.startsWith("ui:*")?c[e.substring(4)]=n[e]:e.startsWith("ui:")?c[e]=n[e]:["name","required"].includes(e)||(o[e]=n[e])}));var s=n.definitionData?n.definitionData:{},d=n.definitionUi?n.definitionUi:{},m=r.a.useState(!1),u=m[0],p=m[1];return"array"!==n.type?r.a.createElement("h4",null,"Not an array "):r.a.createElement("div",{className:"card-array"},r.a.createElement(_,{onChangeValue:function(){"object"===o.items.type?a(A({},n,{items:A({},o.items,{type:"string"})})):a(A({},n,{items:A({},o.items,{type:"object"})}))},isChecked:"object"===o.items.type,label:"Section",id:("string"===typeof n.path?n.path:"")+"_issection"}),ye({schemaData:{properties:{item:o.items}},uiSchemaData:{item:c.items},onChange:function(e,t){a(A({},n,{items:e.properties.item,"ui:*items":t.item||{}}))},path:"string"===typeof n.path?n.path:"array",definitionData:s,definitionUi:d,hideKey:!0,cardOpenArray:[u],setCardOpenArray:function(e){return p(e[0])},allFormInputs:l,mods:i,categoryHash:re(l),Card:function(e){return r.a.createElement(we,A({},e,{showObjectNameInput:!1}))},Section:Te}))}}var Ve=A({},Ie,He,Re,Pe);Ve.array={displayName:"Array",matchIf:[{types:["array"]}],defaultDataSchema:{items:{type:"string"}},defaultUiSchema:{},type:"array",cardBody:We({defaultFormInputs:Ve}),modalBody:Je};var Ke=A({},Ie,He,Re,Pe,{array:{displayName:"Array",matchIf:[{types:["array"]}],defaultDataSchema:{items:{type:"string"}},defaultUiSchema:{},type:"array",cardBody:We({defaultFormInputs:Ve}),modalBody:Je}}),Ge=Object(D.a)({formBuilder:A({"text-align":"center","& .fa":{cursor:"pointer"},"& .fa-question-circle":{color:"gray"},"& .fa-asterisk":{"font-size":".9em",color:"green"},"& .fa-plus-square":{color:"green","font-size":"1.5em",margin:"0 auto"}},_e,{"& .card-container":{"&:hover":{border:"1px solid green"},display:"block",width:"70%","min-width":"400px",margin:"2em auto",border:"1px solid gray","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid gray"},"& .label":{float:"left"}},"& .card-dependent":{border:"1px dashed gray"},"& .card-requirements":{border:"1px dashed black"},"& .section-container":{"&:hover":{border:"1px solid green"},display:"block",width:"90%","min-width":"400px",margin:"2em auto",border:"1px solid var(--gray)","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid var(--gray)"},"& .label":{float:"left"}},"& .section-dependent":{border:"1px dashed gray"},"& .section-requirements":{border:"1px dashed black"},"& .alert":{textAlign:"left",width:"70%",margin:"1em auto","& h5":{color:"black",fontSize:"16px",fontWeight:"bold",margin:"0"},"& .fa":{fontSize:"14px"}},"& .disabled-unchecked-checkbox":{color:"var(--gray)","& div::before":{backgroundColor:"var(--light-gray)"}},"& .disabled-input":{"& input":{backgroundColor:"var(--light-gray)"},"& input:focus":{backgroundColor:"var(--light-gray)",border:"1px solid var(--gray)"}}}),formHead:{display:"block",margin:"0 auto","background-color":"#EBEBEB",border:"1px solid #858F96","border-radius":"4px",width:"70%",padding:"10px","& div":{width:"30%",display:"inline-block","text-align":"left",padding:"10px"},"& .form-title":{"text-align":"left"},"& .form-description":{"text-align":"left"},"& h5":{"font-size":"14px","line-height":"21px","font-weight":"bold"}},formBody:{display:"flex",flexDirection:"column","& .fa-pencil-alt":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .modal-body":{maxHeight:"500px",overflowY:"scroll"},"& .card-container":{width:"70%",minWidth:"400px",margin:"2em auto",border:"1px solid var(--gray)",borderRadius:"4px",backgroundColor:"white","& h4":{width:"100%",textAlign:["left","left"],display:"inline-block",color:"#138ac2",margin:"0.25em 0.5em 0 0.5em",fontSize:"18px"},"& .d-flex":{borderBottom:"1px solid var(--gray)"},"& .label":{cssFloat:"left"}},"& .card-container:hover":{border:"1px solid var(--green)"},"& .card-dependent":{border:"1px dashed var(--gray)"},"& .card-add":{cursor:"pointer",display:"block",color:"$green",fontSize:"1.5em"},"& .section-container":{width:"90%",minWidth:"400px",margin:"2em auto",border:"1px solid var(--gray)",borderRadius:"4px","& h4":{width:"100%",textAlign:["left","left"],display:"inline-block",color:"#138ac2",margin:"0.25em 0.5em 0 0.5em",fontSize:"18px"},"& .d-flex":{borderBottom:"1px solid var(--gray)"},"& .label":{cssFloat:"left"}},"& .section-container:hover":{border:"1px solid var(--green)"},"& .section-dependent":{border:"1px dashed var(--gray)"},"& .section-requirements":{border:"1px dashed black"}},formFooter:{marginTop:"1em",textAlign:"center","& .fa":{cursor:"pointer",color:"$green",fontSize:"1.5em"}}});function Ye(e){var t=e.schema,n=e.uischema,r=e.onChange,i=e.mods,o=e.className,c=Ge(),l=te(t)||{};l.type="object";var s=te(n)||{},d=Ee(A({},Ke,i&&i.customFormInputs),i&&i.deactivatedFormInputs),m=le(l,s,d),p=me(l),h=[].concat(Array(p)).map((function(){return!1})),f=Object(a.useState)(h),g=f[0],b=f[1],y=re(d);return Object(a.createElement)("div",{className:c.formBuilder+" "+(o||"")},Object(a.createElement)(u.a,{style:{display:0===m.length?"none":"block"},color:"warning"},Object(a.createElement)("h5",null,"Unsupported Features:"),m.map((function(e,t){return Object(a.createElement)("li",{key:t},e)}))),(!i||!1!==i.showFormHead)&&Object(a.createElement)("div",{className:c.formHead,"data-test":"form-head"},Object(a.createElement)("div",null,Object(a.createElement)("h5",{"data-test":"form-name-label"},i&&i.labels&&"string"===typeof i.labels.formNameLabel?i.labels.formNameLabel:"Form Name"),Object(a.createElement)(x.a,{value:l.title||"",placeholder:"Title",type:"text",onChange:function(e){r(ne(A({},l,{title:e.target.value})),n)},className:"form-title"})),Object(a.createElement)("div",null,Object(a.createElement)("h5",{"data-test":"form-description-label"},i&&i.labels&&"string"===typeof i.labels.formDescriptionLabel?i.labels.formDescriptionLabel:"Form Description"),Object(a.createElement)(x.a,{value:l.description||"",placeholder:"Description",type:"text",onChange:function(e){return r(ne(A({},l,{description:e.target.value})),n)},className:"form-description"}))),Object(a.createElement)("div",{className:"form-body "+c.formBody},Object(a.createElement)(O.a,{onDragEnd:function(e){return ve(e,{schema:l,uischema:s,onChange:function(e,t){return r(ne(e),ne(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y})},className:"form-body"},Object(a.createElement)(O.c,{droppableId:"droppable"},(function(e){return Object(a.createElement)("div",A({ref:e.innerRef},e.droppableProps),ye({schemaData:l,uiSchemaData:s,onChange:function(e,t){return r(ne(e),ne(t))},definitionData:l.definitions,definitionUi:s.definitions,path:"root",cardOpenArray:g,setCardOpenArray:b,allFormInputs:d,mods:i,categoryHash:y,Card:we,Section:Te}).map((function(e,t){return Object(a.createElement)(O.b,{key:e.key,draggableId:e.key,index:t},(function(t){return Object(a.createElement)("div",A({ref:t.innerRef},t.draggableProps,t.dragHandleProps),e)}))})),e.placeholder)})))),Object(a.createElement)("div",{className:"form-footer "+c.formFooter},Object(a.createElement)(ke,{name:"form-builder",addElem:function(e){"card"===e?ge({schema:l,uischema:s,mods:i,onChange:function(e,t){return r(ne(e),ne(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y}):"section"===e&&be({schema:l,uischema:s,onChange:function(e,t){return r(ne(e),ne(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y})},hidden:l.properties&&0!==Object.keys(l.properties).length})))}function Qe(e){var t=e.definitionSchema,n=e.definitionUiSchema,a=e.onChange,i=e.mods,o=e.categoryHash,c=me({properties:t}),l=[].concat(Array(c)).map((function(){return!1})),s=r.a.useState(l),d=s[0],m=s[1],u=A({},Ke,i&&i.customFormInputs),p=ye({schemaData:{properties:t},uiSchemaData:n,onChange:function(e,t){var n=t,r={};Object.keys(n).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=n[e])})),a(e.properties,r)},path:"definitions",definitionData:t,definitionUi:n,cardOpenArray:d,setCardOpenArray:m,allFormInputs:u,mods:i,categoryHash:o,Card:we,Section:Te}).map((function(e){return r.a.createElement("div",{key:"string"===typeof e.key?e.key:"",className:"form_gallery_container"},e)}));return r.a.createElement("div",{className:"form_gallery"},p,0===p.length&&r.a.createElement("h5",null,'No components in "definitions"'),r.a.createElement("div",{className:"form_footer"},r.a.createElement(ke,{name:"form_gallery",addElem:function(e){"card"===e?ge({schema:{properties:t},uischema:n,mods:i,onChange:function(e,t){var n=t,r={};Object.keys(n).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=n[e])})),a(e.properties,r)},definitionData:t,definitionUi:n,categoryHash:o}):"section"===e&&be({schema:{properties:t},uischema:n,onChange:function(e,t){var n=t,r={};Object.keys(n).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=n[e])})),a(e.properties,r)},definitionData:t,definitionUi:n,categoryHash:o})},hidden:!!t&&0!==Object.keys(t).length})))}var Xe=Object(D.a)({preDefinedGallery:A({display:"flex",flexDirection:"column","text-align":"center","& .fa":{cursor:"pointer"},"& .fa-question-circle":{color:"gray"},"& .fa-asterisk":{"font-size":".9em",color:"green"}},_e,{"& .form_footer":{marginTop:"1em",textAlign:"center","& .fa":{cursor:"pointer",color:"$green",fontSize:"1.5em"}},"& .fa-plus-square":{color:"green","font-size":"1.5em",margin:"0 auto"},"& .card-container":{"&:hover":{border:"1px solid green"},width:"70%","min-width":"400px",margin:"2em auto",border:"1px solid gray","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid gray"},"& .label":{float:"left"}},"& .card-requirements":{border:"1px dashed black"},"& .section-container":{"&:hover":{border:"1px solid green"},display:"block",width:"90%","min-width":"400px",margin:"2em auto",border:"1px solid var(--gray)","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid var(--gray)"},"& .label":{float:"left"}},"& .section-dependent":{border:"1px dashed gray"},"& .section-requirements":{border:"1px dashed black"},"& .fa-pencil-alt":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .modal-body":{maxHeight:"500px",overflowY:"scroll"},"& .card-container:hover":{border:"1px solid var(--green)"},"& .card-dependent":{border:"1px dashed var(--gray)"},"& .card-add":{cursor:"pointer",display:"block",color:"$green",fontSize:"1.5em"},"& .section-container:hover":{border:"1px solid var(--green)"}})});function Ze(e){var t=e.schema,n=e.uischema,r=e.onChange,i=e.mods,o=Xe(),c=te(t)||{},l=te(n)||{},s=re(Ee(A({},Ke,i&&i.customFormInputs),i&&i.deactivatedFormInputs));return Object(a.useEffect)((function(){if(!l.definitions){console.log("Parsing UI schema to assign UI for definitions");var e=[];!function t(n,a){a&&("object"===typeof a&&Object.keys(a).forEach((function(r){"string"===typeof r&&("$ref"===r&&e.push(n),t(r,a[r]))})),Array.isArray(a)&&a.forEach((function(e){t(n,e)})))}("root",c),l.definitions={};var t=new Set(e);Object.keys(l).forEach((function(e){t.has(e)&&(l.definitions[e]=l[e])})),Object.keys(l.definitions).length||(l.definitions=void 0),r(ne(c),ne(l))}}),[n,t]),Object(a.createElement)("div",{className:o.preDefinedGallery},Object(a.createElement)(Qe,{definitionSchema:c.definitions,definitionUiSchema:l.definitions,onChange:function(e,t){c.definitions=e,l.definitions=t,je(c,l,(function(e,t){return r(ne(e),ne(t))}),s)},mods:i,categoryHash:s}))}var et=n(7),tt=n.n(et),nt=n(576),at=n(577),rt=n(578),it=n(579),ot=n(580),ct=n(4),lt=Object(D.a)({portalTabs:{"& .tab-content":{"& .tab-pane > .tab-pane":{display:"none",padding:"2em"},"& .active > .tab-pane":{display:"block"}},"& .nav":{"& .nav-link":{position:"relative",display:"inline-flex",padding:"10px"},"& li":{display:"inline-block"},"& .nav-item":{"& .active":{color:"#212529 !important","font-weight":600},"&:hover":{cursor:"pointer"},"& a":{color:"#ccc"}}}}});function st(e){var t=e.defaultActiveTab,n=void 0===t?0:t,r=e.tabs,i=void 0===r?[]:r,o=e.withSeparator,l=void 0!==o&&o,s=e.preventRerender,d=void 0!==s&&s,m=lt(),u=a.useState(n),p=Object(c.a)(u,2),h=p[0],f=p[1];return Object(ct.jsxs)("div",{className:m.portalTabs,children:[Object(ct.jsx)(nt.a,{tabs:!0,children:i.map((function(e,t){var n=e.name,a=e.id;return Object(ct.jsx)(at.a,{id:a,children:Object(ct.jsx)(rt.a,{className:tt()({active:h===t}),onClick:function(){f(t)},children:n})},t)}))}),Object(ct.jsx)(it.a,{activeTab:h,className:tt()({"with-separator":l}),children:Object(ct.jsx)(a.Fragment,{children:i.map((function(e,t){var n=e.content;return Object(ct.jsxs)(ot.a,{tabId:t,children:[h===t&&(!!d||n),d?n:""]},t)}))})})]})}var dt=n(123),mt=n(122),ut=n.n(mt),pt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={hasError:!1,error:""},a}return Object(s.a)(n,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0});var t=e.toString();this.setState({error:t}),this.props.onErr&&this.props.onErr(t)}},{key:"render",value:function(){var e=this;return this.state.hasError?Object(ct.jsxs)("div",{children:[Object(ct.jsx)("p",{children:this.props.errMessage?this.props.errMessage:this.state.error}),Object(ct.jsx)("button",{onClick:function(){e.setState({hasError:!1,error:""}),e.props.onErr&&e.props.onErr("")},children:"Try Again"})]}):this.props.children}}]),n}(r.a.Component),ht=Object(y.c)(v.a);function ft(e,t){var n;try{n=JSON.parse(e)}catch(a){return a.toString()}return"string"===typeof n?"Received a string instead of object.":""}var gt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={formData:{},formToggle:!0,outputToggle:!1,schemaFormErrorFlag:"",validFormInput:!1,editorWidth:700,submissionData:{}},a}return Object(s.a)(n,[{key:"updateSchema",value:function(e){this.props.onChange&&this.props.onChange(e,this.props.uischema)}},{key:"updateUISchema",value:function(e){this.props.onChange&&this.props.onChange(this.props.schema,e)}},{key:"updateFormData",value:function(e){try{var t=JSON.parse(e);this.setState({formData:t,schemaFormErrorFlag:""})}catch(n){this.setState({schemaFormErrorFlag:n.toString()})}}},{key:"render",value:function(){var e=this,t=ft(this.props.schema,this.props.lang),n=ft(this.props.uischema,this.props.lang);return Object(ct.jsxs)("div",{style:{width:this.props.width?this.props.width:"100%",height:this.props.height?this.props.height:"500px"},className:"playground-main",children:[Object(ct.jsxs)(u.a,{style:{display:""===t?"none":"block"},color:"danger",children:[Object(ct.jsx)("h5",{children:"Schema:"})," ",t]}),Object(ct.jsxs)(u.a,{style:{display:""===n?"none":"block"},color:"danger",children:[Object(ct.jsx)("h5",{children:"UI Schema:"})," ",n]}),Object(ct.jsxs)(u.a,{style:{display:""===this.state.schemaFormErrorFlag?"none":"block"},color:"danger",children:[Object(ct.jsx)("h5",{children:"Form:"})," ",this.state.schemaFormErrorFlag]}),Object(ct.jsx)(st,{tabs:[{name:"Visual Form Builder",id:"form-builder",content:Object(ct.jsx)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"},children:Object(ct.jsx)(pt,{onErr:function(){},children:Object(ct.jsx)(Ye,{schema:this.props.schema,uischema:this.props.uischema,mods:this.props.mods,onChange:function(t,n){e.props.onChange&&e.props.onChange(t,n)}})})})},{name:"Preview Form",id:"preview-form",content:Object(ct.jsxs)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"},children:[Object(ct.jsx)(pt,{onErr:function(t){e.setState({schemaFormErrorFlag:t})},errMessage:"Error parsing JSON Schema",children:Object(ct.jsx)(ht,{schema:""===t?JSON.parse(this.props.schema):{},uiSchema:""===n?JSON.parse(this.props.uischema):{},onChange:function(t){return e.updateFormData(JSON.stringify(t.formData))},formData:this.state.formData,submitButtonMessage:"Submit",onSubmit:function(t){e.setState({validFormInput:!0,outputToggle:!0,submissionData:t})}})}),Object(ct.jsxs)(p.a,{isOpen:this.state.outputToggle,children:[Object(ct.jsx)(h.a,{children:"Form output preview"}),Object(ct.jsx)(f.a,{children:Object(ct.jsxs)("div",{className:"editor-container",children:[Object(ct.jsxs)(pt,{onErr:function(){},errMessage:"Error parsing JSON Schema Form output",children:[Object(ct.jsx)("h4",{children:"Output Data"}),Object(ct.jsx)(dt.a,{id:"a_unique_id",placeholder:this.state.submissionData,locale:ut.a,height:"550px"})]}),Object(ct.jsx)("br",{})]})}),Object(ct.jsx)(g.a,{children:Object(ct.jsx)(b.a,{onClick:function(){e.setState({outputToggle:!1})},color:"secondary",children:"Close"})})]})]})},{name:"Edit Schema",id:"editors",content:Object(ct.jsxs)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px",display:"flex",flexDirection:"row"},children:[Object(ct.jsxs)("div",{style:{margin:"1em",width:"50em"},className:"editor-container",children:[Object(ct.jsxs)(pt,{onErr:function(t){console.error(t),e.updateSchema("{}")},errMessage:"Error parsing JSON Schema input",children:[Object(ct.jsx)("h4",{children:"Data Schema"}),Object(ct.jsx)(dt.a,{id:"data_schema",placeholder:this.props.schema?JSON.parse(this.props.schema):{},locale:ut.a,height:"550px",onChange:function(t){return e.updateSchema(t.json)}})]}),Object(ct.jsx)("br",{})]}),Object(ct.jsx)("div",{style:{margin:"1em",width:"50em"},className:"editor-container",children:Object(ct.jsxs)(pt,{onErr:function(t){console.error(t),e.updateUISchema("{}")},errMessage:"Error parsing JSON UI Schema input",children:[Object(ct.jsx)("h4",{children:"UI Schema"}),Object(ct.jsx)(dt.a,{id:"ui_schema",placeholder:this.props.uischema?JSON.parse(this.props.uischema):{},locale:ut.a,height:"550px",onChange:function(t){return e.updateUISchema(t.json)}})]})})]})},{name:"Pre-Configured Components",id:"pre-configured",content:Object(ct.jsx)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"},children:Object(ct.jsx)(pt,{onErr:function(){},children:Object(ct.jsx)(Ze,{schema:this.props.schema,uischema:this.props.uischema,mods:this.props.mods,onChange:function(t,n){e.props.onChange&&e.props.onChange(t,n)}})})})}]})]})}}]),n}(r.a.Component),bt=Object(D.a)({header:{"& h1":{textAlign:"center",margin:"1em"},"& p":{marginRight:"5em",marginLeft:"5em"}}}),yt={},vt={},Ot={};function jt(e){var t=e.title,n=r.a.useState(JSON.stringify(yt)),a=Object(c.a)(n,2),i=a[0],o=a[1],l=r.a.useState(JSON.stringify(vt)),s=Object(c.a)(l,2),d=s[0],m=s[1],u=bt();return Object(ct.jsxs)("div",{className:"playground",children:[Object(ct.jsxs)("div",{className:u.header,children:[Object(ct.jsx)("h1",{children:t}),Object(ct.jsxs)("p",{children:["Demo app for the"," ",Object(ct.jsx)("a",{href:"https://github.com/ginkgobioworks/react-json-schema-form-builder",children:"React JSON Schema Form Builder"}),", which allows a user to visually build a form and obtain the JSON Schema corresponding to it"]}),Object(ct.jsx)("p",{children:'The Visual Form Builder tab corresponds to the actual Form Builder component. This reads in code from the JSON Schema, which is stored and updated live in the "Edit Schema" tab, and renders the code as manipulatable form elements. The result of the form is rendered with the material design theme in the Preview Form tab. The Pre-Configured Components tab also demonstrates how the form builder takes advantage of the definitions property of JSON Schema to render definitions.'})]}),Object(ct.jsx)(gt,{lang:"json",schema:i,uischema:d,mods:Ot,schemaTitle:"Data Schema",uischemaTitle:"UI Schema",onChange:function(e,t){o(e),m(t)},width:"95%",height:"800px"})]})}var Et=function(){return Object(ct.jsx)(jt,{title:"React JSON Schema Form Builder"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(563);o.a.render(Object(ct.jsx)(Et,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[564,1,2]]]);
//# sourceMappingURL=main.a4c2f13a.chunk.js.map