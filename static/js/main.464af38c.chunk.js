(this["webpackJsonp@ginkgo-bioworks/react-json-schema-form-builder-example"]=this["webpackJsonp@ginkgo-bioworks/react-json-schema-form-builder-example"]||[]).push([[0],{564:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),o=a.n(i),c=a(90),l=a(61),s=a(62),d=a(67),m=a(66),u=a(575),p=a(582),h=a(568),f=a(569),g=a(570),b=a(571),y=a(28),v=a(287),E=a(54),x=a(566),O=a(581),j=a(567),C=a(572),N=a(573),k=a(574),S=a(21),D=a(20),w=a(6),U=a.n(w),F=a(285),I=a(55);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var T=Object(S.a)({checkbox:{"& *":{display:"inline-block"},"& input":{marginRight:"5px"}}});function M(e){var t=e.onChangeValue,a=e.value,n=void 0===a?"":a,i=e.isChecked,o=void 0!==i&&i,c=e.label,l=void 0===c?"":c,s=e.use,d=void 0===s?"action":s,m=e.disabled,u=void 0!==m&&m,p=e.id,h=void 0===p?"":p,f=e.dataTest,g=void 0===f?"":f,b=e.labelClassName,y=void 0===b?"":b,v=T(),E=U()("fb-checkbox",{"edit-checkbox":!u&&"edit"===d,"action-checkbox":!u&&"action"===d,"disabled-checked-checkbox":u&&o,"disabled-unchecked-checkbox":u&&!o}),x=""!==h?h:l,O=""!==x?x:null;return r.a.createElement("div",{"data-test":"checkbox",className:E+" "+v.checkbox},r.a.createElement("input",{type:"checkbox",id:O,"data-test":g||void 0,onChange:u?function(){}:t,value:n,disabled:u,checked:o}),r.a.createElement("div",{className:"checkbox-overlay"},l&&r.a.createElement("label",{htmlFor:O,className:y||void 0},l)))}function _(e){var t=e.className,a=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["className"]),n=Object.assign({className:U()([t,"fa"])},a);return r.a.createElement(F.a,n)}var B=Object(S.a)({collapseElement:{"& .disabled":{".toggle-collapse":{cursor:"default"}},"& h4":{marginTop:"7px",padding:"13px 10px 10px 10px"},"& .toggle-collapse":{fontSize:"2.3rem",cursor:"pointer",marginLeft:"33px","& .fa-caret-right":{marginRight:"9px"}}}});function q(e){var t=U()("collapse-element "+(e.className||"")+" "+B().collapseElement,{disabled:e.disableToggle});return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"d-flex"},r.a.createElement("span",{className:"toggle-collapse"},r.a.createElement(_,{onClick:e.disableToggle?function(){}:e.toggleCollapse,icon:e.isOpen?D.d:D.e})),r.a.createElement("h4",null,e.title)),r.a.createElement(x.a,{isOpen:e.isOpen},r.a.createElement("div",null,e.children)))}function H(e){var t=e.label,a=e.value,i=e.checked,o=e.name,c=e.onChange,l=e.required,s=e.disabled,d=e.autoFocus,m=Object(n.useState)("radio-"+Math.floor(1e6*Math.random()))[0],u=U()("fb-radio-button",{disabled:s});return r.a.createElement("div",{className:u,key:a},r.a.createElement("input",{id:m,type:"radio",name:o,value:a,checked:i,required:l,disabled:s,autoFocus:d,onChange:function(){return c(a)}}),r.a.createElement("label",{htmlFor:m},t))}var $=Object(S.a)({radio:{"& .fb-radio-button":{display:"block",'& input[type="radio"]':{marginRight:"5px",marginBottom:0,height:"1em",verticalAlign:"middle"},'& input[type="radio"] + label':{marginTop:0,marginBottom:0,verticalAlign:"middle"}}}});function R(e){var t=e.options,a=e.defaultValue,n=e.onChange,i=e.horizontal,o=e.id,c=e.autoFocus,l=e.disabled,s=Math.random().toString(),d=$(),m=U()("fb-radio-group",{horizontal:i});return r.a.createElement("div",{id:o,className:m+" "+d.radio},t.map((function(e,t){return r.a.createElement(H,{value:e.value,label:e.label,id:o,name:s,key:e.value,checked:e.value===a,autoFocus:c&&1===t,onChange:n,disabled:l})})))}var z={alert:D.c,help:D.i},L=Object(S.a)({toolTip:{color:"white","background-color":"black"}});function P(e){var t=e.text,a=e.type,n=e.id,i=L();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{textDecoration:"underline",color:"blue"},href:"#",id:n},r.a.createElement(_,{icon:z[a]})),r.a.createElement(O.a,{autohide:!1,className:i.toolTip,placement:"top",target:n},t))}function J(e){return e?JSON.parse(e):{}}function V(e){return e?JSON.stringify(e):"{}"}function W(e,t){return t[e].type}function K(e){var t={};return Object.keys(e).forEach((function(a){e[a].matchIf.forEach((function(e){e.types.forEach((function(n){var r="type:"+("null"===n?"":n)+";widget:"+(e.widget||"")+";field:"+(e.field||"")+";format:"+(e.format||"")+";$ref:"+(e.$ref?"true":"false")+";enum:"+(e.enum?"true":"false");if(t[r])throw new Error("Duplicate hash: "+r);t[r]=a}))}))})),t}function G(e,t){var a="type:"+(e.dataOptions.type||"")+";widget:"+(e.uiOptions["ui:widget"]||"")+";field:"+(e.uiOptions["ui:field"]||"")+";format:"+(e.dataOptions.format||"")+";$ref:"+(void 0!==e.$ref?"true":"false")+";enum:"+(e.dataOptions.enum?"true":"false"),n=t[a];return n||(e.$ref?"ref":(console.error("No match for card': "+a+" among set"),"shortAnswer"))}var Y=new Set(["title","description","enum","minLength","maxLength","multipleOf","minimum","maximum","format","exclusiveMinimum","exclusiveMaximum","type","default","pattern","required","properties","items","definitions","$ref","minItems","maxItems","enumNames","dependencies","$id","$schema","meta"]),Q=new Set(["ui:order","ui:widget","ui:autofocus","ui:autocomplete","ui:options","ui:field","items","definitions"]);function X(e,t,a){var n=[],r=[],i=[],o=[];Object.keys(a).forEach((function(e){a[e].matchIf.forEach((function(e){e.widget&&!r.includes(e.widget)&&r.push(e.widget),e.field&&!i.includes(e.field)&&i.push(e.field)})),a[e].possibleOptions&&Array.isArray(a[e].possibleOptions)&&o.push.apply(o,a[e].possibleOptions)}));var c=new Set(r),l=new Set(i),s=new Set(o);return e&&"object"===typeof e&&"object"===e.type?n.push.apply(n,function(e,t,a,n,r){var i=[];return e&&"object"===typeof e&&Object.keys(e).forEach((function(e){Y.has(e)||"properties"===e||i.push("Unrecognized Object Property: "+e)})),t&&"object"===typeof t&&Object.keys(t).forEach((function(t){var a=!1;e.properties&&Object.keys(e.properties).includes(t)&&(a=!0),e.dependencies&&Object.keys(e.dependencies).forEach((function(n){Object.keys(e.dependencies[n]).forEach((function(r){"oneOf"===r?e.dependencies[n].oneOf.forEach((function(e){e.properties&&Object.keys(e.properties).includes(t)&&(a=!0)})):"properties"===r&&Object.keys(e.dependencies[n].properties).includes(t)&&(a=!0)}))})),a||Q.has(t)||i.push("Unrecognized UI schema property: "+t)})),e.properties&&Object.entries(e.properties).forEach((function(e){var o=e[0],c=e[1];c&&"object"===typeof c&&c.type&&"object"!==c.type?(["array","string","integer","number","boolean"].includes(c.type)||i.push("Unrecognized type: "+c.type+" in "+o),Object.keys(c).forEach((function(e){Y.has(e)||i.push("Property Parameter: "+e+" in "+o)}))):Object.keys(c).forEach((function(e){Y.has(e)||i.push("Property Parameter: "+e+" in "+o)})),t&&t[o]&&c&&(!c.type||"object"!==c.type)&&Object.keys(t[o]).forEach((function(e){Q.has(e)||i.push("UI Property: "+e+" for "+o),"ui:widget"!==e||a.has(t[o][e])||i.push("UI Widget: "+t[o][e]+" for "+o),"ui:field"!==e||n.has(t[o][e])||i.push("UI Field: "+t[o][e]+" for "+o),"ui:options"===e&&Object.keys(t[o]["ui:options"]).forEach((function(e){r.has(e)||i.push("UI Property: ui:options."+e+" for "+o)}))}))})),i}(e,t,c,l,s)):n.push("jsonSchema form is not of type object"),n}function Z(e,t,a,n,r,i,o){var c=A({},a),l={},s=t&&"object"===typeof t?t:{};if(void 0!==s.$ref&&r){var d="string"===typeof s.$ref?s.$ref.split("/"):[];"#"===d[0]&&"definitions"===d[1]&&r[d[2]]&&(s=A({},s,r[d[2]])),c=A({},(i||{})[d[2]]||{},c)}if(l.name=e,l.required=n.includes(e),l.$ref="string"===typeof s.$ref?s.$ref:void 0,s.type&&"object"===s.type)l.schema=s,l.uischema=c||{},l.propType="section";else{l.dataOptions=s,l.uiOptions=c||{};var m=Object.keys(l.dataOptions);Object.keys(l.uiOptions).forEach((function(e){m.includes(e)&&(l.uiOptions["ui:*"+e]=l.uiOptions[e])})),l.dataOptions.category=G(l,o),l.propType="card"}return l}function ee(e){var t=e.schema,a=e.uischema,n=e.definitionData,r=e.definitionUi,i=e.categoryHash;if(!t.properties)return[];var o={},c=t.required?t.required:[];Object.entries(t.properties).forEach((function(e){var t=e[0],l=e[1],s={},d=l&&"object"===typeof l?l:{};if(void 0!==d.$ref&&n){if(d.$ref&&!d.$ref.startsWith("#/definitions"))throw new Error("Invalid definition, not at '#/definitions': "+d.$ref);var m=void 0!==d.$ref?d.$ref.split("/"):[];"#"===m[0]&&"definitions"===m[1]&&n[m[2]]&&(d=A({},n[m[2]],d));var u=(r||{})[m[2]];a[t]=A({},u||{},a[t])}if(s.name=t,s.required=c.includes(t),s.$ref=d.$ref,s.dataOptions=d,d.type&&"object"===d.type)s.schema=d,s.uischema=a[t]||{},s.propType="section";else{s.uiOptions=a[t]||{};var p=Object.keys(s.dataOptions);Object.keys(s.uiOptions).forEach((function(e){p.includes(e)&&(s.uiOptions["ui:*"+e]=s.uiOptions[e])})),s.dataOptions.category=G(s,i),s.propType="card"}o[s.name]=s})),t.dependencies&&Object.keys(t.dependencies).forEach((function(e){var l=t.dependencies[e];if(l.oneOf){var s=0;l.oneOf.forEach((function(t){o[e].dependents||(o[e].dependents=[]),o[e].dependents.push({children:[],value:t.properties[e]});var l=t.required||[];Object.entries(t.properties).forEach((function(t){var d=t[0],m=t[1];if(!Object.keys(o).includes(d)){var u=Z(d,m,a[d],c,n,r,i);u.required=l.includes(u.name),o[u.name]=u}if(d!==e){var p=o[d];p.dependent=!0,p.parent=e,o[e].dependents[s].children.push(d)}})),s+=1}))}else if(l.properties){var d=l.required||[];Object.entries(l.properties).forEach((function(t){var l=t[0],s=Z(l,t[1],a[l],c,n,r,i);s.required=d.includes(s.name),s.dependent=!0,s.parent=e,o[s.name]=s,o[e].dependents?o[e].dependents[0].children.push(l):o[e].dependents=[{children:[l]}]}))}else console.error("unsupported dependency type encountered")}));var l=[];if(a["ui:order"]){var s=[];Object.keys(o).forEach((function(e){a["ui:order"].includes(e)||s.push(o[e])})),a["ui:order"].forEach((function(e){"*"===e?s.forEach((function(e){l.push(e)})):o[e]&&l.push(o[e])}))}else Object.keys(o).forEach((function(e){l.push(o[e])}));return function(e){var t=e.map((function(e){return e.name}));e.map((function(e){var a=e;return a.neighborNames=t,a}))}(l),l}function te(e){if(!e.properties)return 0;var t={},a=0;return Object.entries(e.properties).forEach((function(e){var n=e[0];t[n]={},a+=1})),e.dependencies&&Object.keys(e.dependencies).forEach((function(n){var r=e.dependencies[n];if(r.oneOf){var i=0;r.oneOf.forEach((function(e){t[n].dependents||(t[n].dependents=[]),t[n].dependents.push({children:[],value:e.properties[n]}),Object.entries(e.properties).forEach((function(e){var r=e[0];if(Object.keys(t).includes(r)||(t[r]={},a+=1),r!==n){var o=t[r];o.dependent=!0,o.parent=n,t[n].dependents[i].children.push(r)}})),i+=1}))}else r.properties?Object.entries(r.properties).forEach((function(e){var r=e[0];t[r]={},a+=1,t[n].dependents?t[n].dependents[0].children.push(r):t[n].dependents=[{children:[r]}]})):console.error("unsupported dependency type encountered")})),a}function ae(e){if(void 0!==e.$ref)return{$ref:e.$ref,title:e.dataOptions.title,description:e.dataOptions.description};if("card"===e.propType){if("section"===e.dataOptions.category)return{type:"object"};var t={};return Object.keys(e.dataOptions).forEach((function(a){["category","hideKey","path","definitionData","definitionUi","allFormInputs"].includes(a)||""===e.dataOptions[a]||(t[a]=e.dataOptions[a])})),t}if("section"===e.propType)return e.schema;throw new Error("Element that is neither card, section, nor ref")}function ne(e){if(!e)return{};for(var t={},a={},n={},r={},i=new Set([]),o=0;o<e.length;o+=1){var c=e[o];r[c.name]=A({},c),c.dependents&&c.dependents.forEach((function(e){e.children.forEach((function(e){i.add(e)}))}))}return Object.keys(r).forEach((function(e){var t=r[e];if(t.dependents&&t.dependents[0])if(t.dependents[0].value)n[e]={oneOf:t.dependents.map((function(t){var a,n={},i=[];return t.children.forEach((function(e){r[e]&&(n[e]=ae(r[e]),r[e].required&&i.push(e))})),{properties:A((a={},a[e]=t.value,a),n),required:i}}))};else{var o={},c=[];t.dependents[0].children.forEach((function(e){o[e]=ae(r[e]),r[e].required&&c.push(e)})),n[e]={properties:o,required:c}}i.has(e)||(a[t.name]=ae(t))})),t.properties=a,t.dependencies=n,t.required=e.filter((function(e){var t=e.required,a=e.dependent;return t&&!a})).map((function(e){return e.name})),t}function re(e,t){var a=t.schema,n=t.uischema,r=t.onChange,i=t.definitionUi,o=(n||{}).definitions?{definitions:n.definitions}:{},c=Object.assign(o,function(e,t){if(!e)return{};var a={},n=[],r=t;return e.forEach((function(e){if(n.push(e.name),void 0!==e.$ref){var t="string"===typeof e.$ref?e.$ref.split("/"):[];r&&r[t[2]]&&(a[e.name]=r[t[2]])}else"card"===e.propType&&e.uiOptions?Object.keys(e.uiOptions).forEach((function(t){a[e.name]||(a[e.name]={}),t.startsWith("ui:*")?a[e.name][t.substring(4)]=e.uiOptions[t]:a[e.name][t]=e.uiOptions[t]})):"section"===e.propType&&e.uischema&&(a[e.name]=e.uischema)})),a["ui:order"]=n,a}(e,i)),l=Object.assign(A({},a),ne(e));l.type="object",r(l,c)}var ie="newInput";function oe(e){var t=e.map((function(e){return e.name})),a=ie.length;return t.length>0?Math.max.apply(Math,t.map((function(e){if(e.startsWith(ie)){var t=e.substring(a,e.length),n=Number.parseInt(t);if(!isNaN(n))return n}return 0})))+1:1}function ce(e){var t=e.schema,a=e.uischema,n=e.mods,r=e.onChange,i=e.definitionData,o=e.definitionUi,c=e.index,l=ee({schema:t,uischema:a,definitionData:i,definitionUi:o,categoryHash:e.categoryHash}),s=oe(l),d={name:"newInput"+s,required:!1,dataOptions:function(e,t){if(t&&void 0!==t.newElementDefaultDataOptions){var a=t.newElementDefaultDataOptions.title+" "+e;return A({},t.newElementDefaultDataOptions,{title:a})}return{title:"New Input "+e,type:"string",default:""}}(s,n),uiOptions:n&&n.newElementDefaultUiSchema||{},propType:"card",schema:{},uischema:{},neighborNames:[]};void 0!==c&&null!==c?l.splice(c+1,0,d):l.push(d),re(l,{schema:t,uischema:a,definitionData:i,definitionUi:o,onChange:r})}function le(e){var t=e.schema,a=e.uischema,n=e.onChange,r=e.definitionData,i=e.definitionUi,o=e.index,c=ee({schema:t,uischema:a,definitionData:r,definitionUi:i,categoryHash:e.categoryHash}),l=oe(c),s={name:"newInput"+l,required:!1,dataOptions:{title:"New Input "+l,type:"object",default:""},uiOptions:{},propType:"section",schema:{title:"New Input "+l,type:"object"},uischema:{},neighborNames:[]};void 0!==o&&null!==o?c.splice(o+1,0,s):c.push(s),re(c,{schema:t,uischema:a,definitionData:r,definitionUi:i,onChange:n})}function se(e){var t=e.schemaData,a=e.uiSchemaData,r=e.onChange,i=e.definitionData,o=e.definitionUi,c=e.hideKey,l=e.path,s=e.cardOpenArray,d=e.setCardOpenArray,m=e.allFormInputs,u=e.mods,p=e.categoryHash,h=e.Card,f=e.Section,g=J(V(t)),b=J(V(a));if(!g.properties)return[];var y=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});return y.map((function(e,t){var a=s&&t<s.length&&s[t]||!1;if("card"===e.propType){var v=function(e,t){return t[e]&&t[e].modalBody||function(){return null}}(e.dataOptions.category||"string",m);return Object(n.createElement)(h,{componentProps:Object.assign({name:y[t].name,required:y[t].required,hideKey:c,path:l+"_"+y[t].name,definitionData:i,definitionUi:o,neighborNames:y[t].neighborNames,dependents:y[t].dependents,dependent:y[t].dependent,parent:y[t].parent},y[t].uiOptions,y[t].dataOptions),key:l+"_"+y[t].name,TypeSpecificParameters:v,onChange:function(e){var a=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p}),n={},c={};if(Object.keys(e).forEach((function(t){t.startsWith("ui:")?t.startsWith("ui:*")?c[t.substring(4)]=e[t]:c[t]=e[t]:["name","required","neighborNames","dependents","dependent","parent"].includes(t)||(n[t]=e[t])})),"card"!==a[t].propType)throw new Error("Card editing non card element");var l=a[t];a[t]=A({},l,{dataOptions:n,uiOptions:c,required:e.required,dependents:e.dependents,dependent:e.dependent,parent:e.parent,name:e.name,$ref:e.$ref,propType:"card"}),re(a,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onDelete:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});e.splice(t,1),d([].concat(s.slice(0,t),s.slice(t+1))),re(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onMoveUp:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(0!==t){var a=e[t-1];e[t-1]=e[t],e[t]=a,re(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onMoveDown:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(t!==y.length-1){var a=e[t+1];e[t+1]=e[t],e[t]=a,re(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},addElem:function(e){"card"===e?ce({schema:g,uischema:b,mods:u,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}):"section"===e&&le({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}),d([].concat(s,[!1]))},cardOpen:a,setCardOpen:function(e){return d([].concat(s.slice(0,t),[e],s.slice(t+1)))},allFormInputs:m,mods:u})}return"section"===e.propType?Object(n.createElement)(f,{schema:e.schema,uischema:e.uischema,onChange:function(e,a,n){var c=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p}),l=c[t];c[t]=A({},l,{schema:e,uischema:a,propType:"section"}),n&&(c[t].$ref=n),re(c,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onNameChange:function(a){var n=e;if(!y.map((function(e){return e.name})).includes(a)){var c=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});c[t]=A({},n,{name:a}),re(c,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onRequireToggle:function(){var a=e,n=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});n[t]=A({},a,{required:!a.required}),re(n,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onDependentsChange:function(a){var n=e,c=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});c[t]=A({},n,{dependents:a}),re(c,{schema:g,uischema:b,onChange:r,definitionData:i,definitionUi:o})},onDelete:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});e.splice(t,1),d([].concat(s.slice(0,t),s.slice(t+1))),re(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})},onMoveUp:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(0!==t){var a=e[t-1];e[t-1]=e[t],e[t]=a,re(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},onMoveDown:function(){var e=ee({schema:g,uischema:b,definitionData:i,definitionUi:o,categoryHash:p});if(t!==y.length-1){var a=e[t+1];e[t+1]=e[t],e[t]=a,re(e,{schema:g,uischema:b,definitionData:i,definitionUi:o,onChange:r})}},name:e.name,key:l+"_"+y[t].name,required:e.required,path:l+"_"+e.name,definitionData:i||{},definitionUi:o||{},hideKey:c,reference:e.$ref,neighborNames:e.neighborNames,dependents:e.dependents,dependent:e.dependent,parent:e.parent,addElem:function(e){"card"===e?ce({schema:g,uischema:b,mods:u,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}):"section"===e&&le({schema:g,uischema:b,onChange:r,definitionData:i||{},definitionUi:o||{},index:t,categoryHash:p}),d([].concat(s,[!1]))},cardOpen:a,setCardOpen:function(e){return d([].concat(s.slice(0,t),[e],s.slice(t+1)))},allFormInputs:m,categoryHash:p,mods:u}):Object(n.createElement)("div",null,Object(n.createElement)("h2",null," Error parsing element "))}))}function de(e,t){var a=t.schema,n=t.uischema,r=t.onChange,i=t.definitionData,o=t.definitionUi,c=t.categoryHash,l=e.source.index,s=e.destination.index,d=ee({schema:a,uischema:n,definitionData:i,definitionUi:o,categoryHash:c}),m=d[l];d[l]=d[s],d[s]=m,re(d,{schema:a,uischema:n,definitionData:i||{},definitionUi:o||{},onChange:r})}function me(e,t,a,n){var r=[];return e.forEach((function(e){if("section"===e.propType){var i=me(ee({schema:e.schema,uischema:e.uischema,definitionData:t,definitionUi:a,categoryHash:n}),t,a,n),o=Object.assign(A({},e.uischema),ne(i)),c=Object.assign(A({},e.schema),ne(i)),l=A({},e,{schema:c,uischema:o});r.push(l)}else r.push(e)})),r}function ue(e,t,a,n){var r=e.definitions,i=t.definitions;re(me(ee({schema:e,uischema:t,definitionData:r,definitionUi:i,categoryHash:n}),r,i,n),{schema:e,uischema:t,definitionData:r,definitionUi:i,onChange:a})}function pe(e,t){if(!t)return A({},e);var a=t.reduce((function(e,t){return e[t]=!0,e}),{});return Object.keys(e).reduce((function(t,n){var r;return a[n]?t:A({},t,((r={})[n]=e[n],r))}),{})}function he(){var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t=e.length;return Array.from({length:50}).map((function(){return e[Math.floor(Math.random()*t)]})).join("")}function fe(e){var t=e.parameters,a=Object(n.useState)(he())[0];if(t.enum&&t.dependents&&t.dependents.length&&t.dependents[0].value){var i=new Set([]);(t.dependents||[]).forEach((function(e){e.value&&e.value.enum&&e.value.enum.forEach((function(e){return i.add(e)}))}));var o=[];return Array.isArray(t.enum)&&t.enum.forEach((function(e){i.has(e)||o.push(e)})),0===o.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Warning! The following values do not have associated dependency values:"," ",r.a.createElement(P,{id:a+"_valuewarning",type:"help",text:"Each possible value for a value-based dependency must be defined to work properly"})),r.a.createElement("ul",null,o.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))}return null}function ge(e){var t=e.possibleChoices,a=e.chosenChoices,i=e.onChange,o=e.placeholder,c=Object(n.useState)(he())[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,a.map((function(e,t){return r.a.createElement("li",{key:c+"_neighbor_"+t},e," ",r.a.createElement(_,{icon:D.j,onClick:function(){return i([].concat(a.slice(0,t),a.slice(t+1)))}}))}))),r.a.createElement(I.a,{value:{value:"",label:""},placeholder:o,options:t.filter((function(e){return!a.includes(e)})).map((function(e){return{value:e,label:e}})),onChange:function(e){i([].concat(a,[e.value]))},className:"card-modal-select"}))}var be=Object(S.a)({cardEnumOption:{width:"100%",display:"flex",flexDirection:"row",marginBottom:".5em","& input":{width:"80%",marginRight:"1em",marginBottom:0},"& .delete-button":{display:"flex",flexDirection:"column",justifyContent:"center"}}});function ye(e){for(var t=e.initialValues,a=e.names,r=e.showNames,i=e.onChange,o=e.type,c=be(),l=[],s=function(e){var s=t[e],d=""+s;a&&e<a.length&&(d=a[e]),l.push(Object(n.createElement)("div",{key:e,className:c.cardEnumOption},Object(n.createElement)(j.a,{value:void 0===s||null===s?"":s,placeholder:"Possible Value",key:"val-"+e,type:"string"===o?"text":"number",onChange:function(n){var r;switch(o){case"string":r=n.target.value;break;case"number":case"integer":r=parseFloat(n.target.value),Number.isInteger(r)&&(r=parseInt(n.target.value,10)),Number.isNaN(r)&&(r="string"===o?"":0);break;default:throw new Error("Enum called with unknown type "+o)}i([].concat(t.slice(0,e),[r],t.slice(e+1)),a)},className:"card-text"}),Object(n.createElement)(j.a,{value:d||"",placeholder:"Label",key:"name-"+e,type:"text",onChange:function(n){a&&i(t,[].concat(a.slice(0,e),[n.target.value],a.slice(e+1)))},className:"card-text",style:{display:r?"initial":"none"}}),Object(n.createElement)("div",{className:"delete-button"},Object(n.createElement)(_,{icon:D.j,onClick:function(){i([].concat(t.slice(0,e),t.slice(e+1)),a?[].concat(a.slice(0,e),a.slice(e+1)):void 0)}}))))},d=0;d<t.length;d+=1)s(d);return Object(n.createElement)(n.Fragment,null,l,Object(n.createElement)(_,{icon:D.g,onClick:function(){i([].concat(t,["string"===o?"":0]),a?[].concat(a,[""]):void 0)}}))}function ve(e){var t=e.possibility,a=e.onChange,i=e.parentEnums,o=e.parentType,c=e.parentName,l=e.parentSchema,s=e.path,d=Object(n.useState)(he())[0];if(t.value){if(i){var m="number"===typeof i[0]?"number":"string";if("string"===m)return r.a.createElement(ge,{possibleChoices:i.map((function(e){return""+e})),chosenChoices:t.value.enum,onChange:function(e){return a(A({},t,{value:{enum:e}}))},placeholder:"Allowed value",path:s});if("number"===m)return r.a.createElement(ge,{possibleChoices:i.map((function(e){return""+e})),chosenChoices:t.value.enum,onChange:function(e){return a(A({},t,{value:{enum:e.map((function(e){return Number.parseFloat(e)}))}}))},placeholder:"Allowed value",path:s})}if("boolean"===o)return r.a.createElement(M,{onChangeValue:function(){t.value.enum&&t.value.enum[0]?a(A({},t,{value:{enum:[!1]}})):a(A({},t,{value:{enum:[!0]}}))},isChecked:t.value.enum&&t.value.enum[0],label:c});if("object"===o){var u=t.value.enum;return r.a.createElement("div",null,u.map((function(e,n){return r.a.createElement("li",{key:d+"_possibleValue"+n},Object.keys(e).map((function(i){var o=e[i];return r.a.createElement("div",{key:i},r.a.createElement("h5",null,i,":"),{string:r.a.createElement(j.a,{value:o||"",placeholder:"String value",type:"string",onChange:function(e){var r,o=e.target.value,c=t.value.enum[n];a(A({},t,{value:{enum:[].concat(u.slice(0,n),[A({},c,(r={},r[i]=o,r))],u.slice(n+1))}}))},className:"card-modal-text"}),number:r.a.createElement(j.a,{value:o||"",placeholder:"Number value",type:"number",onChange:function(e){var r,o=Number.parseFloat(e.target.value),c=t.value.enum[n];a(A({},t,{value:{enum:[].concat(u.slice(0,n),[A({},c,(r={},r[i]=o,r))],u.slice(n+1))}}))},className:"card-modal-number"}),array:r.a.createElement(j.a,{value:JSON.stringify(o)||"",placeholder:"Array in JSON",type:"string",onChange:function(e){var r,c=o;try{c=JSON.parse(e.target.value)}catch(s){console.error("invalid JSON array input")}var l=t.value.enum[n];a(A({},t,{value:{enum:[].concat(u.slice(0,n),[A({},l,(r={},r[i]=c,r))],u.slice(n+1))}}))},className:"card-modal-text"}),object:r.a.createElement(j.a,{value:JSON.stringify(o)||"",placeholder:"Object in JSON",type:"string",onChange:function(e){var r,c=o;try{c=JSON.parse(e.target.value)}catch(s){console.error("invalid JSON object input")}var l=t.value.enum[n];a(A({},t,{value:{enum:[].concat(u.slice(0,n),[A({},l,(r={},r[i]=c,r))],u.slice(n+1))}}))},className:"card-modal-text"})}[typeof o])})),r.a.createElement(_,{icon:D.j,onClick:function(){return a(A({},t,{value:{enum:[].concat(u.slice(0,n),u.slice(n+1))}}))}}))})),r.a.createElement(_,{icon:D.g,onClick:function(){var e={},n=l?l.properties:{};Object.keys(n).forEach((function(t){"number"===n[t].type||"integer"===n[t].type?e[t]=0:"array"===n[t].type||n[t].enum?e[t]=[]:"object"===n[t].type||n[t].properties?e[t]={}:e[t]=""})),a(A({},t,{value:{enum:[].concat(u,[e])}}))}}))}return r.a.createElement(ye,{initialValues:t.value.enum,onChange:function(e){return a(A({},t,{value:{enum:e}}))},type:o||"string",showNames:!1})}return r.a.createElement("h5",null," Appear if defined ")}function Ee(e){var t=e.possibility,a=e.neighborNames,i=e.path,o=e.onChange,c=e.onDelete,l=e.parentEnums,s=e.parentType,d=e.parentName,m=e.parentSchema,u=Object(n.useState)(he())[0];return r.a.createElement("div",{className:"form-dependency-condition"},r.a.createElement("h5",null,"Display the following:"," ",r.a.createElement(P,{id:u+"_bulk",type:"help",text:"Choose the other form elements that depend on this one"})),r.a.createElement(ge,{possibleChoices:a.filter((function(e){return e!==d}))||[],chosenChoices:t.children,onChange:function(e){return o(A({},t,{children:[].concat(e)}))},placeholder:"Choose a dependent...",path:i}),r.a.createElement("h5",null,'If "',d,'" has ',t.value?"the value:":"a value."),r.a.createElement("div",{style:{display:t.value?"block":"none"}},r.a.createElement(ve,{possibility:t,onChange:function(e){return o(e)},parentEnums:l,parentType:s,parentName:d,parentSchema:m,path:i})),r.a.createElement(_,{icon:D.j,onClick:function(){return c()}}))}var xe=Object(S.a)({dependencyField:{"& .fa":{cursor:"pointer"},"& .plus":{marginLeft:"1em"},"& h4":{marginBottom:".5em"},"& h5":{fontSize:"1em"},"& .form-dependency-select":{fontSize:"0.75em",marginBottom:"1em"},"& .form-dependency-conditions":{textAlign:"left","& .form-dependency-condition":{padding:"1em",border:"1px solid gray",borderRadius:"4px",margin:"1em","& *":{textAlign:"initial"}}},"& p":{fontSize:"0.75em"},"& .fb-radio-button":{display:"block"}}});function Oe(e){var t=e.parameters,a=e.onChange,i=Object(n.useState)(he())[0],o=xe(),c=function(e){var t=!0;return e&&Array.isArray(e)&&e.length>0?e.forEach((function(e){e.value&&e.value.enum||(t=!1)})):t=!1,t}(t.dependents||[]);return r.a.createElement("div",{className:"form-dependency "+o.dependencyField},r.a.createElement("h4",null,"Dependencies"," ",r.a.createElement(P,{id:i+"_dependent",type:"help",text:"Control whether other form elements show based on this one"})),!!t.dependents&&t.dependents.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{defaultValue:c?"value":"definition",horizontal:!1,options:[{value:"definition",label:"Any value dependency"},{value:"value",label:r.a.createElement(r.a.Fragment,null,"Specific value dependency"," ",r.a.createElement(P,{id:i+"_valuebased",type:"help",text:"Specify whether these elements should show based on this element's value"}))}],onChange:function(e){if(t.dependents){var n=[].concat(t.dependents);"definition"===e?t.dependents.forEach((function(e,t){n[t]=A({},e,{value:void 0})})):t.dependents.forEach((function(e,t){n[t]=A({},e,{value:{enum:[]}})})),a(A({},t,{dependents:n}))}}})),r.a.createElement(fe,{parameters:t}),r.a.createElement("div",{className:"form-dependency-conditions"},t.dependents?t.dependents.map((function(e,n){return r.a.createElement(Ee,{possibility:e,neighborNames:t.neighborNames||[],parentEnums:t.enum,parentType:t.type,parentName:t.name,parentSchema:t.schema,path:t.path,key:i+"_possibility"+n,onChange:function(e){var r=t.dependents?[].concat(t.dependents):[];r[n]=e,a(A({},t,{dependents:r}))},onDelete:function(){var e=t.dependents?[].concat(t.dependents):[];a(A({},t,{dependents:[].concat(e.slice(0,n),e.slice(n+1))}))}})})):"",r.a.createElement("span",{className:"plus",id:i+"_adddependency"},r.a.createElement(_,{icon:D.g,onClick:function(){var e=t.dependents?[].concat(t.dependents):[];e.push({children:[],value:c?{enum:[]}:void 0}),a(A({},t,{dependents:e}))}})),r.a.createElement(O.a,{placement:"top",target:i+"_adddependency"},"Add another dependency relation linking this element and other form elements")))}var je=Object(S.a)({cardModal:{"& .card-modal-header":{paddingTop:".5em",paddingBottom:".5em"},"& .card-modal-entries":{padding:"1em"},"& h4, h5, p, label, li":{marginTop:".5em",marginBottom:".5em"},"& h5, p, label, li":{fontSize:"14px"},"& h4":{fontSize:"16px"},"& h3":{fontSize:"18px",marginBottom:0},"& .card-modal-entries > div > input":{marginBottom:"1em",height:"32px"},"& .fa-question-circle":{color:"var(--gray)"},"& .card-modal-boolean":{"& *":{marginRight:"0.25em",height:"auto",display:"inline-block"}},"& .card-modal-select":{"& input":{margin:"0",height:"20px"},marginBottom:"1em"}}});function Ce(e){var t=e.componentProps,a=e.onChange,r=e.isOpen,i=e.onClose,o=e.TypeSpecificParameters,c=je(),l=Object(n.useState)(t),s=l[0],d=l[1];return Object(n.useEffect)((function(){d(t)}),[t]),Object(n.createElement)(p.a,{isOpen:r,"data-test":"card-modal",className:c.cardModal},Object(n.createElement)(h.a,{className:"card-modal-header"},Object(n.createElement)("div",{style:{display:t.hideKey?"none":"initial"}},Object(n.createElement)("h3",null,"Additional Settings"))),Object(n.createElement)(f.a,{className:"card-modal-entries"},Object(n.createElement)(o,{parameters:s,onChange:function(e){d(A({},s,e))}}),Object(n.createElement)(Oe,{parameters:s,onChange:function(e){d(A({},s,e))}})),Object(n.createElement)(g.a,null,Object(n.createElement)(b.a,{onClick:function(){i(),a(s)},color:"primary"},"Save"),Object(n.createElement)(b.a,{onClick:function(){i(),d(t)},color:"secondary"},"Cancel")))}function Ne(e){var t=e.category,a=e.parameters,r=e.onChange,i=e.mods,o=function(e,t){return t[e]&&t[e].cardBody||function(){return null}}(t,e.allFormInputs);return Object(n.createElement)("div",null,Object(n.createElement)(o,{parameters:a,onChange:r,mods:i||{}}))}function ke(e){var t=e.parameters,a=e.onChange,n=e.allFormInputs,i=e.mods,o=e.showObjectNameInput,c=void 0===o||o,l=r.a.useState(t.name),s=l[0],d=l[1],m=r.a.useState(t.title),u=m[0],p=m[1],h=r.a.useState(t.description),f=h[0],g=h[1],b=r.a.useState(he())[0],y=function(e,t){var a={};return Object.keys(t).forEach((function(e){a[e]=t[e].displayName})),a}(t.category,n),v=function(e,t){return i&&i.labels&&"string"===typeof i.labels[e]?i.labels[e]:t},E=v("objectNameLabel","Object Name"),x=v("displayNameLabel","Display Name"),O=v("descriptionLabel","Description"),C=v("inputTypeLabel","Input Type");return r.a.createElement("div",null,c&&r.a.createElement("div",{className:"card-entry"},r.a.createElement("h5",null,E+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardObjectName?i.tooltipDescriptions.cardObjectName:"The back-end name of the object",id:b+"_nameinfo",type:"help"})),r.a.createElement(j.a,{value:s||"",placeholder:"Key",type:"text",onChange:function(e){return d(e.target.value)},onBlur:function(e){return a(A({},t,{name:e.target.value}))},className:"card-text"})),r.a.createElement("div",{className:"card-entry "+(void 0===t.$ref?"":"disabled-input")},r.a.createElement("h5",null,x+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardDisplayName?i.tooltipDescriptions.cardDisplayName:"The user-facing name of this object",id:b+"-titleinfo",type:"help"})),r.a.createElement(j.a,{value:u||"",placeholder:"Title",type:"text",onChange:function(e){return p(e.target.value)},onBlur:function(e){a(A({},t,{title:e.target.value}))},className:"card-text"})),r.a.createElement("div",{className:"card-entry "+(t.$ref?"disabled-input":"")},r.a.createElement("h5",null,O+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardDescription?i.tooltipDescriptions.cardDescription:"This will appear as help text on the form",id:b+"-descriptioninfo",type:"help"})),r.a.createElement(j.a,{value:f||"",placeholder:"Description",type:"text",onChange:function(e){return g(e.target.value)},onBlur:function(e){a(A({},t,{description:e.target.value}))},className:"card-text"})),r.a.createElement("div",{className:U()("card-entry",{"wide-card-entry":!c})},r.a.createElement("h5",null,C+" ",r.a.createElement(P,{text:i&&i.tooltipDescriptions&&"string"===typeof i.tooltipDescriptions.cardInputType?i.tooltipDescriptions.cardInputType:"The type of form input displayed on the form",id:b+"-inputinfo",type:"help"})),r.a.createElement(I.a,{value:{value:t.category,label:y[t.category]},placeholder:C,options:function(){var e=t.definitionData&&0!==Object.keys(t.definitionData).length,a=Object.keys(y).filter((function(t){return"ref"!==t||e}));return i&&(a=function(e,t){if(void 0===t||null===t)return e;var a=t.reduce((function(e,t){return e[t]=!0,e}),{});return e.filter((function(e){return!a[e]}))}(a,i.deactivatedFormInputs)),a.map((function(e){return{value:e,label:y[e]}})).sort((function(e,t){return e.label.localeCompare(t.label)}))}(),onChange:function(e){var r=e.value,i=A({},function(e,t){return t[e].defaultUiSchema}(r,n),function(e,t){return t[e].defaultDataSchema}(r,n),{name:t.name,required:t.required});if(void 0!==i.$ref&&!i.$ref){var o=Object.keys(t.definitionData)[0];i.$ref="#/definitions/"+(o||"empty")}a(A({},i,{title:i.title||t.title,default:i.default||"",type:i.type||W(r,n),category:i.category||r}))},className:"card-select"})),r.a.createElement("div",{className:"card-category-options"},r.a.createElement(Ne,{category:t.category,parameters:t,onChange:a,mods:i,allFormInputs:n})))}var Se=Object(S.a)({addDetails:{"& .popover":{width:"300px","z-index":"1051 !important","& .popover-inner":{border:"1px solid #1d71ad",borderRadius:"4px","& .popover-header":{borderBottom:"1px solid #1d71ad"},"& .action-buttons":{display:"flex",justifyContent:"space-between",marginTop:".5em"}}}}});function De(e){var t=e.addElem,a=e.hidden,i=Se(),o=Object(n.useState)(!1),c=o[0],l=o[1],s=Object(n.useState)("card"),d=s[0],m=s[1],u=Object(n.useState)(he())[0];return r.a.createElement("div",{style:{display:a?"none":"initial"}},r.a.createElement("span",{id:u+"_add"},r.a.createElement(_,{icon:D.h,onClick:function(){return l(!0)}})),r.a.createElement(O.a,{placement:"top",target:u+"_add"},"Create new form element"),r.a.createElement(C.a,{placement:"bottom",target:u+"_add",isOpen:c,toggle:function(){return l(!1)},className:"add-details "+i.addDetails,id:u+"_add_popover"},r.a.createElement(N.a,null,"Create New"),r.a.createElement(k.a,null,r.a.createElement(R,{className:"choose-create",defaultValue:d,horizontal:!1,options:[{value:"card",label:"Form element"},{value:"section",label:"Form section"}],onChange:function(e){m(e)}}),r.a.createElement("div",{className:"action-buttons"},r.a.createElement(b.a,{onClick:function(){return l(!1)},color:"secondary"},"Cancel"),r.a.createElement(b.a,{onClick:function(){t(d),l(!1)},color:"primary"},"Create")))))}var we=Object(S.a)({cardEntries:{"border-bottom":"1px solid gray",margin:".5em 1.5em 0 1.5em","& h5":{color:"black","font-size":"14px","font-weight":"bold"},"& .card-entry":{display:"inline-block",margin:0,width:"50%","text-align":"left",padding:"0.5em","&.wide-card-entry":{width:"100%"}},"& input":{border:"1px solid gray","border-radius":"4px"},"& .card-category-options":{padding:".5em"},"& .card-select":{border:"1px solid var(--gray)","border-radius":"4px"},"& .card-array":{"& .fa-plus-square":{display:"none"},"& .section-entries":{"& .fa-plus-square":{display:"initial"}}},"& .card-enum":{display:"flex",flexDirection:"column",width:"100%",backgroundColor:"var(--light-gray)",textAlign:"left",padding:"1em","& h3":{fontSize:"16px",margin:"0 0 .5em 0"},"& label":{color:"black",fontSize:"14px"},"& .card-enum-header":{marginTop:"0.5em",width:"100%",display:"flex",flexDirection:"row","& h5":{width:"50%",fontWeight:"bold",fontSize:"14px"}},"& .fa":{cursor:"pointer"}}},cardInteractions:{margin:".5em 1.5em",textAlign:"left","& .fa":{marginRight:"1em",borderRadius:"4px",padding:".25em",height:"25px",width:"25px"},"& .fa-arrow-up, .fa-arrow-down":{marginRight:".5em"},"& .fa-trash":{border:"1px solid #DE5354",color:"#DE5354"},"& .fb-checkbox":{display:"inline-block"},"& .interactions-left, & .interactions-right":{display:"inline-block",width:"48%",margin:"0 auto"},"& .interactions-left":{textAlign:"left"},"& .interactions-right":{textAlign:"right"}}});function Ue(e){var t=e.componentProps,a=e.onChange,r=e.onDelete,i=e.onMoveUp,o=e.onMoveDown,c=e.TypeSpecificParameters,l=e.addElem,s=e.cardOpen,d=e.setCardOpen,m=e.allFormInputs,u=e.mods,p=e.showObjectNameInput,h=void 0===p||p,f=we(),g=Object(n.useState)(!1),b=g[0],y=g[1],v=Object(n.useState)(he())[0];return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(q,{isOpen:s,toggleCollapse:function(){return d(!s)},title:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{onClick:function(){return d(!s)},className:"label"},t.title||t.name," ",t.parent?Object(n.createElement)(P,{text:"Depends on "+t.parent,id:v+"_parentinfo",type:"alert"}):"",void 0!==t.$ref?Object(n.createElement)(P,{text:"Is an instance of pre-configured component "+t.$ref,id:v+"_refinfo",type:"alert"}):""),Object(n.createElement)("span",{className:"arrows"},Object(n.createElement)("span",{id:v+"_moveupbiginfo"},Object(n.createElement)(_,{icon:D.b,onClick:function(){return i?i():{}}})),Object(n.createElement)(O.a,{placement:"top",target:v+"_moveupbiginfo"},"Move form element up"),Object(n.createElement)("span",{id:v+"_movedownbiginfo"},Object(n.createElement)(_,{icon:D.a,onClick:function(){return o?o():{}}})),Object(n.createElement)(O.a,{placement:"top",target:v+"_movedownbiginfo"},"Move form element down"))),className:"card-container "+(t.dependent?"card-dependent":"")+" "+(void 0===t.$ref?"":"card-reference")},Object(n.createElement)("div",{className:f.cardEntries},Object(n.createElement)(ke,{parameters:t,onChange:a,allFormInputs:m,mods:u,showObjectNameInput:h})),Object(n.createElement)("div",{className:f.cardInteractions},Object(n.createElement)("span",{id:v+"_editinfo"},Object(n.createElement)(_,{icon:D.f,onClick:function(){return y(!0)}})),Object(n.createElement)(O.a,{placement:"top",target:v+"_editinfo"},"Additional configurations for this form element"),Object(n.createElement)("span",{id:v+"_trashinfo"},Object(n.createElement)(_,{icon:D.k,onClick:r||function(){}})),Object(n.createElement)(O.a,{placement:"top",target:v+"_trashinfo"},"Delete form element"),Object(n.createElement)(M,{onChangeValue:function(){return a(A({},t,{required:!t.required}))},isChecked:!!t.required,label:"Required",id:v+"_required"})),Object(n.createElement)(Ce,{componentProps:t,isOpen:b,onClose:function(){return y(!1)},onChange:function(e){a(e)},TypeSpecificParameters:c})),l?Object(n.createElement)(De,{addElem:function(e){return l(e)}}):"")}var Fe=Object(S.a)({hidden:{display:"none"}});function Ie(e){return Object(n.createElement)("div",null)}var Ae=function(e){var t=e.type;return function(e){var a=e.parameters,r=e.onChange;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("h5",null,"Default value"),Object(n.createElement)(j.a,{value:a.default||"",placeholder:"Default",type:t,onChange:function(e){return r(A({},a,{default:e.target.value}))},className:"card-text"}))}};function Te(e){var t=e.parameters,a=e.onChange,r=Fe(),i=Array.isArray(t.enum)?t.enum:[],o=i.some((function(e){return isNaN(e)})),c=o||i.some((function(e){return"string"===typeof e})),l=Object(n.useState)(!!i.length&&!c),s=l[0],d=l[1],m=Object(n.useState)(he())[0];return Object(n.createElement)("div",{className:"card-enum"},Object(n.createElement)("h3",null,"Possible Values"),Object(n.createElement)(M,{onChangeValue:function(){Array.isArray(t.enumNames)?a(A({},t,{enumNames:null})):a(A({},t,{enumNames:i.map((function(e){return""+e}))}))},isChecked:Array.isArray(t.enumNames),label:"Display label is different from value",id:m+"_different"}),Object(n.createElement)("div",{className:o||!i.length?r.hidden:""},Object(n.createElement)(M,{onChangeValue:function(){if(c||!s)try{var e=i.map((function(e){var t=0;if(e&&(t=parseFloat(e)||0),Number.isNaN(t))throw new Error("Could not convert "+e);return t}));d(!0),a(A({},t,{enum:e}))}catch(r){console.error(r)}else{var n=i.map((function(e){return""+(e||0)}));d(!1),a(A({},t,{enum:n}))}},isChecked:s,disabled:o,label:"Force number",id:m+"_forceNumber"})),Object(n.createElement)(ye,{initialValues:i,names:Array.isArray(t.enumNames)?t.enumNames.map((function(e){return""+e})):void 0,showNames:Array.isArray(t.enumNames),onChange:function(e,n){return a(A({},t,{enum:e,enumNames:n}))},type:s?"number":"string"}))}var Me={dateTime:{displayName:"Date-Time",matchIf:[{types:["string"],format:"date-time"}],defaultDataSchema:{format:"date-time"},defaultUiSchema:{},type:"string",cardBody:Ae({type:"datetime-local"}),modalBody:Ie},date:{displayName:"Date",matchIf:[{types:["string"],format:"date"}],defaultDataSchema:{format:"date"},defaultUiSchema:{},type:"string",cardBody:Ae({type:"date"}),modalBody:Ie},time:{displayName:"Time",matchIf:[{types:["string"],format:"time"}],defaultDataSchema:{format:"time"},defaultUiSchema:{},type:"string",cardBody:Ae({type:"time"}),modalBody:Ie},checkbox:{displayName:"Checkbox",matchIf:[{types:["boolean"]}],defaultDataSchema:{},defaultUiSchema:{},type:"boolean",cardBody:function(e){var t=e.parameters,a=e.onChange;return Object(n.createElement)("div",{className:"card-boolean"},Object(n.createElement)(M,{onChangeValue:function(){a(A({},t,{default:!t.default||!0!==t.default}))},isChecked:!!t.default&&!0===t.default,label:"Default"}))},modalBody:Ie},ref:{displayName:"Reference",matchIf:[{types:["null"],$ref:!0}],defaultDataSchema:{$ref:"",title:"",description:""},defaultUiSchema:{},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return Object(n.createElement)("div",{className:"card-select"},Object(n.createElement)(I.a,{value:{value:t.$ref,label:t.$ref},placeholder:"Reference",options:Object.keys(t.definitionData||{}).map((function(e){return{value:"#/definitions/"+e,label:"#/definitions/"+e}})),onChange:function(e){a(A({},t,{$ref:e.value}))},className:"card-select"}))},modalBody:Ie},radio:{displayName:"Radio",matchIf:[{types:["string","number","integer","array","boolean","null"],widget:"radio",enum:!0}],defaultDataSchema:{enum:[]},defaultUiSchema:{"ui:widget":"radio"},type:"string",cardBody:Te,modalBody:Ie},dropdown:{displayName:"Dropdown",matchIf:[{types:["string","number","integer","array","boolean","null"],enum:!0}],defaultDataSchema:{enum:[]},defaultUiSchema:{},type:"string",cardBody:Te,modalBody:Ie}},_e=Object(S.a)({sectionContainer:{"& .section-head":{borderBottom:"1px solid var(--gray)",margin:"0.5em 1.5em 0 1.5em","& h5":{color:"black",fontSize:"14px",fontWeight:"bold",margin:"0"},"& .section-entry":{display:"inline-block",margin:"0",width:"33%",textAlign:"left",padding:"0.5em"},"& .section-reference":{width:"100%"}},"& .section-footer":{marginTop:"1em",textAlign:"center","& .fa":{cursor:"pointer"}},"& .section-interactions":{margin:"0.5em 1.5em",textAlign:"left",borderTop:"1px solid var(--gray)",paddingTop:"1em","& .fa":{marginRight:"1em",borderRadius:"4px",padding:"0.25em",height:"25px",width:"25px"},"& .fa-pencil-alt, & .fa-arrow-up, & .fa-arrow-down":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .fa-trash":{border:"1px solid #de5354",color:"#de5354"},"& .fa-arrow-up, & .fa-arrow-down":{marginRight:"0.5em"},"& .fb-checkbox":{display:"inline-block",label:{color:"#9aa4ab"}},"& .interactions-left, & .interactions-right":{display:"inline-block",width:"48%",margin:"0 auto"},"& .interactions-left":{textAlign:"left"},"& .interactions-right":{textAlign:"right"}}}});function Be(e){var t=e.name,a=e.required,n=e.schema,i=e.uischema,o=e.onChange,c=e.onNameChange,l=e.onRequireToggle,s=e.onDependentsChange,d=e.onDelete,m=e.onMoveUp,p=e.onMoveDown,h=e.path,f=e.definitionData,g=e.definitionUi,b=e.hideKey,y=e.reference,v=e.dependents,x=e.dependent,C=e.parent,N=e.neighborNames,k=e.addElem,S=e.cardOpen,w=e.setCardOpen,U=e.allFormInputs,F=e.mods,T=e.categoryHash,B=_e(),H=X(n||{},i||{},U),$=n||{},R=te($),z=[].concat(Array(R)).map((function(){return!1})),L=r.a.useState(z),J=L[0],V=L[1],W=r.a.useState(t),K=W[0],G=W[1],Y=r.a.useState(!1),Q=Y[0],Z=Y[1],ee=r.a.useState(he())[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{isOpen:S,toggleCollapse:function(){return w(!S)},title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return w(!S)},className:"label"},$.title||K," ",C?r.a.createElement(P,{text:"Depends on "+C,id:ee+"_parentinfo",type:"alert"}):""),r.a.createElement("span",{className:"arrows"},r.a.createElement("span",{id:ee+"_moveupbiginfo"},r.a.createElement(_,{icon:D.b,onClick:function(){return m?m():{}}})),r.a.createElement(O.a,{placement:"top",target:ee+"_moveupbiginfo"},"Move form element up"),r.a.createElement("span",{id:ee+"_movedownbiginfo"},r.a.createElement(_,{icon:D.a,onClick:function(){return p?p():{}}})),r.a.createElement(O.a,{placement:"top",target:ee+"_movedownbiginfo"},"Move form element down"))),className:"section-container "+B.sectionContainer+" "+(x?"section-dependent":"")+" "+(y?"section-reference":"")},r.a.createElement("div",{className:"section-entries "+(y?"section-reference":"")},r.a.createElement("div",{className:"section-head"},y?r.a.createElement("div",{className:"section-entry section-reference"},r.a.createElement("h5",null,"Reference Section"),r.a.createElement(I.a,{value:{value:y,label:y},placeholder:"Reference",options:Object.keys(f).map((function(e){return{value:"#/definitions/"+e,label:"#/definitions/"+e}})),onChange:function(e){o(n,i,e.value)},className:"section-select"})):"",r.a.createElement("div",{className:"section-entry","data-test":"section-object-name"},r.a.createElement("h5",null,"Section Object Name"," ",r.a.createElement(P,{text:F&&F.tooltipDescriptions&&F.tooltipDescriptions&&"string"===typeof F.tooltipDescriptions.cardSectionObjectName?F.tooltipDescriptions.cardSectionObjectName:"The key to the object that will represent this form section.",id:ee+"_nameinfo",type:"help"})),r.a.createElement(j.a,{value:K||"",placeholder:"Key",type:"text",onChange:function(e){return G(e.target.value)},onBlur:function(e){return c(e.target.value)},className:"card-text",readOnly:b})),r.a.createElement("div",{className:"section-entry","data-test":"section-display-name"},r.a.createElement("h5",null,"Section Display Name"," ",r.a.createElement(P,{text:F&&F.tooltipDescriptions&&F.tooltipDescriptions&&"string"===typeof F.tooltipDescriptions.cardSectionDisplayName?F.tooltipDescriptions.cardSectionDisplayName:"The name of the form section that will be shown to users of the form.",id:ee+"_titleinfo",type:"help"})),r.a.createElement(j.a,{value:$.title||"",placeholder:"Title",type:"text",onChange:function(e){return o(A({},n,{title:e.target.value}),i)},className:"card-text"})),r.a.createElement("div",{className:"section-entry","data-test":"section-description"},r.a.createElement("h5",null,"Section Description"," ",r.a.createElement(P,{text:F&&F.tooltipDescriptions&&F.tooltipDescriptions&&"string"===typeof F.tooltipDescriptions.cardSectionDescription?F.tooltipDescriptions.cardSectionDescription:"A description of the section which will be visible on the form.",id:ee+"_descriptioninfo",type:"help"})),r.a.createElement(j.a,{value:$.description||"",placeholder:"Description",type:"text",onChange:function(e){return o(A({},n,{description:e.target.value}),i)},className:"card-text"})),r.a.createElement(u.a,{style:{display:0===H.length?"none":"block"},color:"warning"},r.a.createElement("h5",null,"Unsupported Features:"),H.map((function(e){return r.a.createElement("li",{key:ee+"_"+e},e)})))),r.a.createElement("div",{className:"section-body"},r.a.createElement(E.a,{onDragEnd:function(e){return de(e,{schema:n,uischema:i,onChange:o,definitionData:f,definitionUi:g,categoryHash:T})},className:"section-body"},r.a.createElement(E.c,{droppableId:"droppable"},(function(e){return r.a.createElement("div",A({ref:e.innerRef},e.droppableProps),se({schemaData:n,uiSchemaData:i,onChange:o,path:h,definitionData:f,definitionUi:g,cardOpenArray:J,setCardOpenArray:V,allFormInputs:U,mods:F,categoryHash:T,Card:Ue,Section:Be}).map((function(e,t){return r.a.createElement(E.b,{key:e.key,draggableId:e.key,index:t},(function(t){return r.a.createElement("div",A({ref:t.innerRef},t.draggableProps,t.dragHandleProps),e)}))})),e.placeholder)})))),r.a.createElement("div",{className:"section-footer"},r.a.createElement(De,{addElem:function(e){"card"===e?ce({schema:n,uischema:i,mods:F,onChange:o,definitionData:f,definitionUi:g,categoryHash:T}):"section"===e&&le({schema:n,uischema:i,onChange:o,definitionData:f,definitionUi:g,categoryHash:T})},hidden:$.properties&&0!==Object.keys($.properties).length})),r.a.createElement("div",{className:"section-interactions"},r.a.createElement("span",{id:ee+"_editinfo"},r.a.createElement(_,{icon:D.f,onClick:function(){return Z(!0)}})),r.a.createElement(O.a,{placement:"top",target:ee+"_editinfo"},"Additional configurations for this form element"),r.a.createElement("span",{id:ee+"_trashinfo"},r.a.createElement(_,{icon:D.k,onClick:function(){return d?d():{}}})),r.a.createElement(O.a,{placement:"top",target:ee+"_trashinfo"},"Delete form element"),r.a.createElement(M,{onChangeValue:function(){return l()},isChecked:a,label:"Required",id:ee+"_required"}))),r.a.createElement(Ce,{componentProps:{dependents:v,neighborNames:N,name:K,schema:n,type:"object"},isOpen:Q,onClose:function(){return Z(!1)},onChange:function(e){s(e.dependents)},TypeSpecificParameters:Ie})),k?r.a.createElement(De,{addElem:function(e){return k(e)}}):"")}var qe={"& .arrows":{float:"right","& .fa-arrow-up, & .fa-arrow-down":{"border-radius":"4px",padding:".25em",margin:"0 .5em 0 0",border:"1px solid #1d71ad",color:"#1d71ad",height:"28px",width:"28px"}}},He={"":"None",email:"Email",hostname:"Hostname",uri:"URI",regex:"Regular Expression"},$e={email:"email",url:"uri"},Re={"":"None",email:"Email",username:"User Name",password:"Password","street-address":"Street Address",country:"Country"};function ze(e){var t=e.parameters,a=e.onChange,i=Object(n.useState)(he())[0];return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Length"),r.a.createElement(j.a,{value:t.minLength?t.minLength:"",placeholder:"Minimum Length",key:"minLength",type:"number",onChange:function(e){a(A({},t,{minLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Length"),r.a.createElement(j.a,{value:t.maxLength?t.maxLength:"",placeholder:"Maximum Length",key:"maxLength",type:"number",onChange:function(e){a(A({},t,{maxLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Regular Expression Pattern"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(P,{id:i+"_regex",type:"help",text:"Regular expression pattern that this must satisfy"}))),r.a.createElement(j.a,{value:t.pattern?t.pattern:"",placeholder:"Regular Expression Pattern",key:"pattern",type:"text",onChange:function(e){a(A({},t,{pattern:e.target.value}))},className:"card-modal-text"}),r.a.createElement("h4",null,"Format"," ",r.a.createElement(P,{id:i+"_format",type:"help",text:"Require string input to match a certain common format"})),r.a.createElement(I.a,{value:{value:t.format?He["string"===typeof t.format?t.format:""]:"",label:t.format?He["string"===typeof t.format?t.format:""]:"None"},placeholder:"Format",key:"format",options:Object.keys(He).map((function(e){return{value:e,label:He[e]}})),onChange:function(e){a(A({},t,{format:e.value}))},className:"card-modal-select"}),r.a.createElement("h5",null,"Auto Complete Category"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(P,{id:i+"_autocomplete",type:"help",text:"Suggest entries based on the user's browser history"}))),r.a.createElement(I.a,{value:{value:t["ui:autocomplete"]?Re["string"===typeof t["ui:autocomplete"]?t["ui:autocomplete"]:""]:"",label:t["ui:autocomplete"]?Re["string"===typeof t["ui:autocomplete"]?t["ui:autocomplete"]:""]:"None"},placeholder:"Auto Complete",key:"ui:autocomplete",options:Object.keys(Re).map((function(e){return{value:e,label:Re[e]}})),onChange:function(e){a(A({},t,{"ui:autocomplete":e.value}))},className:"card-modal-select"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(M,{onChangeValue:function(){a(A({},t,{"ui:autofocus":!t["ui:autofocus"]||!0!==t["ui:autofocus"]}))},isChecked:!!t["ui:autofocus"]&&!0===t["ui:autofocus"],label:"Auto Focus"})))}var Le={shortAnswer:{displayName:"Short Answer",matchIf:[{types:["string"]}].concat(["email","hostname","uri","regex"].map((function(e){return{types:["string"],format:e}}))),defaultDataSchema:{},defaultUiSchema:{},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default value"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:$e[t.format]||"text",onChange:function(e){return a(A({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:ze},password:{displayName:"Password",matchIf:[{types:["string"],widget:"password"}],defaultDataSchema:{},defaultUiSchema:{"ui:widget":"password"},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default password"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:"password",onChange:function(e){return a(A({},t,{default:e.target.value}))},className:"card-text"}))},modalBody:ze}};var Pe={longAnswer:{displayName:"Long Answer",matchIf:[{types:["string"],widget:"textarea"}],defaultDataSchema:{},defaultUiSchema:{"ui:widget":"textarea"},type:"string",cardBody:function(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default value"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:"textarea",onChange:function(e){return a(A({},t,{default:e.target.value}))},className:"card-textarea"}))},modalBody:function(e){var t=e.parameters,a=e.onChange,i=Object(n.useState)(he())[0];return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Length"),r.a.createElement(j.a,{value:t.minLength?t.minLength:"",placeholder:"Minimum Length",key:"minLength",type:"number",onChange:function(e){a(A({},t,{minLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Length"),r.a.createElement(j.a,{value:t.maxLength?t.maxLength:"",placeholder:"Maximum Length",key:"maxLength",type:"number",onChange:function(e){a(A({},t,{maxLength:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Regular Expression Pattern"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"},r.a.createElement(P,{id:i+"_regex",type:"help",text:"Regular expression pattern that this must satisfy"}))),r.a.createElement(j.a,{value:t.pattern?t.pattern:"",placeholder:"Regular Expression Pattern",key:"pattern",type:"text",onChange:function(e){a(A({},t,{pattern:e.target.value}))},className:"card-modal-text"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(M,{onChangeValue:function(){a(A({},t,{"ui:autofocus":!t["ui:autofocus"]||!0!==t["ui:autofocus"]}))},isChecked:!!t["ui:autofocus"]&&!0===t["ui:autofocus"],label:"Auto Focus"})))}}};function Je(e){var t=e.parameters,a=e.onChange,i=Object(n.useState)(he())[0];return r.a.createElement("div",null,r.a.createElement("h4",null,"Multiple of"," ",r.a.createElement(P,{id:i+"_multiple",type:"help",text:"Require number to be a multiple of this number"})),r.a.createElement(j.a,{value:t.multipleOf?t.multipleOf:"",placeholder:"ex: 2",key:"multipleOf",type:"number",onChange:function(e){var n=parseFloat(e.target.value);Number.isNaN(n)&&(n=null),a(A({},t,{multipleOf:n}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Minimum"),r.a.createElement(j.a,{value:t.minimum||t.exclusiveMinimum||"",placeholder:"ex: 3",key:"minimum",type:"number",onChange:function(e){var n=parseFloat(e.target.value);Number.isNaN(n)&&(n=null),t.exclusiveMinimum?a(A({},t,{exclusiveMinimum:n,minimum:null})):a(A({},t,{minimum:n,exclusiveMinimum:null}))},className:"card-modal-number"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(M,{key:"exclusiveMinimum",onChangeValue:function(){var e=t.minimum||t.exclusiveMinimum;t.exclusiveMinimum?a(A({},t,{exclusiveMinimum:null,minimum:e})):a(A({},t,{exclusiveMinimum:e,minimum:null}))},isChecked:!!t.exclusiveMinimum,disabled:!t.minimum&&!t.exclusiveMinimum,label:"Exclusive Minimum"})),r.a.createElement("h4",null,"Maximum"),r.a.createElement(j.a,{value:t.maximum||t.exclusiveMaximum||"",placeholder:"ex: 8",key:"maximum",type:"number",onChange:function(e){var n=parseFloat(e.target.value);Number.isNaN(n)&&(n=null),t.exclusiveMinimum?a(A({},t,{exclusiveMaximum:n,maximum:null})):a(A({},t,{maximum:n,exclusiveMaximum:null}))},className:"card-modal-number"}),r.a.createElement("div",{className:"card-modal-boolean"},r.a.createElement(M,{key:"exclusiveMaximum",onChangeValue:function(){var e=t.maximum||t.exclusiveMaximum;t.exclusiveMaximum?a(A({},t,{exclusiveMaximum:null,maximum:e})):a(A({},t,{exclusiveMaximum:e,maximum:null}))},isChecked:!!t.exclusiveMaximum,disabled:!t.maximum&&!t.exclusiveMaximum,label:"Exclusive Maximum"})))}function Ve(e){var t=e.parameters,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Default number"),r.a.createElement(j.a,{value:t.default,placeholder:"Default",type:"number",onChange:function(e){return a(A({},t,{default:parseFloat(e.target.value)}))},className:"card-number"}))}var We={integer:{displayName:"Integer",matchIf:[{types:["integer"]},{types:["integer"],widget:"number"}],defaultDataSchema:{},defaultUiSchema:{},type:"integer",cardBody:Ve,modalBody:Je},number:{displayName:"Number",matchIf:[{types:["number"]}],defaultDataSchema:{},defaultUiSchema:{},type:"number",cardBody:Ve,modalBody:Je}};function Ke(e){var t=e.parameters,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("h4",null,"Minimum Items"),r.a.createElement(j.a,{value:t.minItems||"",placeholder:"ex: 2",key:"minimum",type:"number",onChange:function(e){a(A({},t,{minItems:parseInt(e.target.value,10)}))},className:"card-modal-number"}),r.a.createElement("h4",null,"Maximum Items"),r.a.createElement(j.a,{value:t.maxItems||"",placeholder:"ex: 2",key:"maximum",type:"number",onChange:function(e){a(A({},t,{maxItems:parseInt(e.target.value,10)}))},className:"card-modal-number"}))}function Ge(e){var t=e.defaultFormInputs;return function(e){var a=e.parameters,i=e.onChange,o=e.mods,c=Object(n.useState)(he)[0],l={},s={},d=Object.assign(A({},t),A({},o&&o.customFormInputs));Object.keys(a).forEach((function(e){e.startsWith("ui:*")?s[e.substring(4)]=a[e]:e.startsWith("ui:")?s[e]=a[e]:["name","required"].includes(e)||(l[e]=a[e])}));var m=a.definitionData?a.definitionData:{},u=a.definitionUi?a.definitionUi:{},p=r.a.useState(!1),h=p[0],f=p[1];return"array"!==a.type?r.a.createElement("h4",null,"Not an array "):r.a.createElement("div",{className:"card-array"},r.a.createElement(M,{onChangeValue:function(){"object"===l.items.type?i(A({},a,{items:A({},l.items,{type:"string"})})):i(A({},a,{items:A({},l.items,{type:"object"})}))},isChecked:"object"===l.items.type,label:"Section",id:c+"_issection"}),se({schemaData:{properties:{item:l.items}},uiSchemaData:{item:s.items},onChange:function(e,t){i(A({},a,{items:e.properties.item,"ui:*items":t.item||{}}))},path:c,definitionData:m,definitionUi:u,hideKey:!0,cardOpenArray:[h],setCardOpenArray:function(e){return f(e[0])},allFormInputs:d,mods:o,categoryHash:K(d),Card:function(e){return r.a.createElement(Ue,A({},e,{showObjectNameInput:!1}))},Section:Be}))}}var Ye=A({},Me,Le,Pe,We);Ye.array={displayName:"Array",matchIf:[{types:["array"]}],defaultDataSchema:{items:{type:"string"}},defaultUiSchema:{},type:"array",cardBody:Ge({defaultFormInputs:Ye}),modalBody:Ke};var Qe=A({},Me,Le,Pe,We,{array:{displayName:"Array",matchIf:[{types:["array"]}],defaultDataSchema:{items:{type:"string"}},defaultUiSchema:{},type:"array",cardBody:Ge({defaultFormInputs:Ye}),modalBody:Ke}}),Xe=Object(S.a)({formBuilder:A({"text-align":"center","& .fa":{cursor:"pointer"},"& .fa-question-circle":{color:"gray"},"& .fa-asterisk":{"font-size":".9em",color:"green"},"& .fa-plus-square":{color:"green","font-size":"1.5em",margin:"0 auto"}},qe,{"& .card-container":{"&:hover":{border:"1px solid green"},display:"block",width:"70%","min-width":"400px",margin:"2em auto",border:"1px solid gray","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid gray"},"& .label":{float:"left"}},"& .card-dependent":{border:"1px dashed gray"},"& .card-requirements":{border:"1px dashed black"},"& .section-container":{"&:hover":{border:"1px solid green"},display:"block",width:"90%","min-width":"400px",margin:"2em auto",border:"1px solid var(--gray)","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid var(--gray)"},"& .label":{float:"left"}},"& .section-dependent":{border:"1px dashed gray"},"& .section-requirements":{border:"1px dashed black"},"& .alert":{textAlign:"left",width:"70%",margin:"1em auto","& h5":{color:"black",fontSize:"16px",fontWeight:"bold",margin:"0"},"& .fa":{fontSize:"14px"}},"& .disabled-unchecked-checkbox":{color:"var(--gray)","& div::before":{backgroundColor:"var(--light-gray)"}},"& .disabled-input":{"& input":{backgroundColor:"var(--light-gray)"},"& input:focus":{backgroundColor:"var(--light-gray)",border:"1px solid var(--gray)"}}}),formHead:{display:"block",margin:"0 auto","background-color":"#EBEBEB",border:"1px solid #858F96","border-radius":"4px",width:"70%",padding:"10px","& div":{width:"30%",display:"inline-block","text-align":"left",padding:"10px"},"& .form-title":{"text-align":"left"},"& .form-description":{"text-align":"left"},"& h5":{"font-size":"14px","line-height":"21px","font-weight":"bold"}},formBody:{display:"flex",flexDirection:"column","& .fa-pencil-alt":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .modal-body":{maxHeight:"500px",overflowY:"scroll"},"& .card-container":{width:"70%",minWidth:"400px",margin:"2em auto",border:"1px solid var(--gray)",borderRadius:"4px",backgroundColor:"white","& h4":{width:"100%",textAlign:["left","left"],display:"inline-block",color:"#138ac2",margin:"0.25em 0.5em 0 0.5em",fontSize:"18px"},"& .d-flex":{borderBottom:"1px solid var(--gray)"},"& .label":{cssFloat:"left"}},"& .card-container:hover":{border:"1px solid var(--green)"},"& .card-dependent":{border:"1px dashed var(--gray)"},"& .card-add":{cursor:"pointer",display:"block",color:"$green",fontSize:"1.5em"},"& .section-container":{width:"90%",minWidth:"400px",margin:"2em auto",border:"1px solid var(--gray)",borderRadius:"4px","& h4":{width:"100%",textAlign:["left","left"],display:"inline-block",color:"#138ac2",margin:"0.25em 0.5em 0 0.5em",fontSize:"18px"},"& .d-flex":{borderBottom:"1px solid var(--gray)"},"& .label":{cssFloat:"left"}},"& .section-container:hover":{border:"1px solid var(--green)"},"& .section-dependent":{border:"1px dashed var(--gray)"},"& .section-requirements":{border:"1px dashed black"}},formFooter:{marginTop:"1em",textAlign:"center","& .fa":{cursor:"pointer",color:"$green",fontSize:"1.5em"}}});function Ze(e){var t=e.schema,a=e.uischema,r=e.onChange,i=e.mods,o=e.className,c=Xe(),l=J(t)||{};l.type="object";var s=J(a)||{},d=pe(Object.assign({},Qe,i&&i.customFormInputs||{}),i&&i.deactivatedFormInputs),m=X(l,s,d),p=te(l),h=[].concat(Array(p)).map((function(){return!1})),f=Object(n.useState)(h),g=f[0],b=f[1],y=K(d);return Object(n.createElement)("div",{className:c.formBuilder+" "+(o||"")},Object(n.createElement)(u.a,{style:{display:0===m.length?"none":"block"},color:"warning"},Object(n.createElement)("h5",null,"Unsupported Features:"),m.map((function(e,t){return Object(n.createElement)("li",{key:t},e)}))),(!i||!1!==i.showFormHead)&&Object(n.createElement)("div",{className:c.formHead,"data-test":"form-head"},Object(n.createElement)("div",null,Object(n.createElement)("h5",{"data-test":"form-name-label"},i&&i.labels&&"string"===typeof i.labels.formNameLabel?i.labels.formNameLabel:"Form Name"),Object(n.createElement)(j.a,{value:l.title||"",placeholder:"Title",type:"text",onChange:function(e){r(V(A({},l,{title:e.target.value})),a)},className:"form-title"})),Object(n.createElement)("div",null,Object(n.createElement)("h5",{"data-test":"form-description-label"},i&&i.labels&&"string"===typeof i.labels.formDescriptionLabel?i.labels.formDescriptionLabel:"Form Description"),Object(n.createElement)(j.a,{value:l.description||"",placeholder:"Description",type:"text",onChange:function(e){return r(V(A({},l,{description:e.target.value})),a)},className:"form-description"}))),Object(n.createElement)("div",{className:"form-body "+c.formBody},Object(n.createElement)(E.a,{onDragEnd:function(e){return de(e,{schema:l,uischema:s,onChange:function(e,t){return r(V(e),V(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y})},className:"form-body"},Object(n.createElement)(E.c,{droppableId:"droppable"},(function(e){return Object(n.createElement)("div",A({ref:e.innerRef},e.droppableProps),se({schemaData:l,uiSchemaData:s,onChange:function(e,t){return r(V(e),V(t))},definitionData:l.definitions,definitionUi:s.definitions,path:"root",cardOpenArray:g,setCardOpenArray:b,allFormInputs:d,mods:i,categoryHash:y,Card:Ue,Section:Be}).map((function(e,t){return Object(n.createElement)(E.b,{key:e.key,draggableId:e.key,index:t},(function(t){return Object(n.createElement)("div",A({ref:t.innerRef},t.draggableProps,t.dragHandleProps),e)}))})),e.placeholder)})))),Object(n.createElement)("div",{className:"form-footer "+c.formFooter},Object(n.createElement)(De,{addElem:function(e){"card"===e?ce({schema:l,uischema:s,mods:i,onChange:function(e,t){return r(V(e),V(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y}):"section"===e&&le({schema:l,uischema:s,onChange:function(e,t){return r(V(e),V(t))},definitionData:l.definitions,definitionUi:s.definitions,categoryHash:y})},hidden:l.properties&&0!==Object.keys(l.properties).length})))}function et(e){var t=e.definitionSchema,a=e.definitionUiSchema,n=e.onChange,i=e.mods,o=e.categoryHash,c=te({properties:t}),l=[].concat(Array(c)).map((function(){return!1})),s=r.a.useState(l),d=s[0],m=s[1],u=Object.assign({},Qe,i&&i.customFormInputs||{}),p=se({schemaData:{properties:t},uiSchemaData:a,onChange:function(e,t){var a=t,r={};Object.keys(a).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=a[e])})),n(e.properties,r)},path:"definitions",definitionData:t,definitionUi:a,cardOpenArray:d,setCardOpenArray:m,allFormInputs:u,mods:i,categoryHash:o,Card:Ue,Section:Be}).map((function(e){return r.a.createElement("div",{key:"string"===typeof e.key?e.key:"",className:"form_gallery_container"},e)}));return r.a.createElement("div",{className:"form_gallery"},p,0===p.length&&r.a.createElement("h5",null,'No components in "definitions"'),r.a.createElement("div",{className:"form_footer"},r.a.createElement(De,{addElem:function(e){"card"===e?ce({schema:{properties:t},uischema:a,mods:i,onChange:function(e,t){var a=t,r={};Object.keys(a).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=a[e])})),n(e.properties,r)},definitionData:t,definitionUi:a,categoryHash:o}):"section"===e&&le({schema:{properties:t},uischema:a,onChange:function(e,t){var a=t,r={};Object.keys(a).forEach((function(e){["definitions","ui:order"].includes(e)||(r[e]=a[e])})),n(e.properties,r)},definitionData:t,definitionUi:a,categoryHash:o})},hidden:!!t&&0!==Object.keys(t).length})))}var tt=Object(S.a)({preDefinedGallery:A({display:"flex",flexDirection:"column","text-align":"center","& .fa":{cursor:"pointer"},"& .fa-question-circle":{color:"gray"},"& .fa-asterisk":{"font-size":".9em",color:"green"}},qe,{"& .form_footer":{marginTop:"1em",textAlign:"center","& .fa":{cursor:"pointer",color:"$green",fontSize:"1.5em"}},"& .fa-plus-square":{color:"green","font-size":"1.5em",margin:"0 auto"},"& .card-container":{"&:hover":{border:"1px solid green"},width:"70%","min-width":"400px",margin:"2em auto",border:"1px solid gray","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid gray"},"& .label":{float:"left"}},"& .card-requirements":{border:"1px dashed black"},"& .section-container":{"&:hover":{border:"1px solid green"},display:"block",width:"90%","min-width":"400px",margin:"2em auto",border:"1px solid var(--gray)","border-radius":"4px","background-color":"white","& h4":{width:"100%","text-align":"left",display:"inline-block",color:"#138AC2",margin:"0.25em .5em 0 .5em","font-size":"18px"},"& .d-flex":{"border-bottom":"1px solid var(--gray)"},"& .label":{float:"left"}},"& .section-dependent":{border:"1px dashed gray"},"& .section-requirements":{border:"1px dashed black"},"& .fa-pencil-alt":{border:"1px solid #1d71ad",color:"#1d71ad"},"& .modal-body":{maxHeight:"500px",overflowY:"scroll"},"& .card-container:hover":{border:"1px solid var(--green)"},"& .card-dependent":{border:"1px dashed var(--gray)"},"& .card-add":{cursor:"pointer",display:"block",color:"$green",fontSize:"1.5em"},"& .section-container:hover":{border:"1px solid var(--green)"}})});function at(e){var t=e.schema,a=e.uischema,r=e.onChange,i=e.mods,o=tt(),c=J(t)||{},l=J(a)||{},s=K(pe(Object.assign({},Qe,i&&i.customFormInputs||{}),i&&i.deactivatedFormInputs));return Object(n.useEffect)((function(){if(!l.definitions){console.log("Parsing UI schema to assign UI for definitions");var e=[];!function t(a,n){n&&("object"===typeof n&&Object.keys(n).forEach((function(r){"string"===typeof r&&("$ref"===r&&e.push(a),t(r,n[r]))})),Array.isArray(n)&&n.forEach((function(e){t(a,e)})))}("root",c),l.definitions={};var t=new Set(e);Object.keys(l).forEach((function(e){t.has(e)&&(l.definitions[e]=l[e])})),Object.keys(l.definitions).length||(l.definitions=void 0),r(V(c),V(l))}}),[a,t]),Object(n.createElement)("div",{className:o.preDefinedGallery},Object(n.createElement)(et,{definitionSchema:c.definitions,definitionUiSchema:l.definitions,onChange:function(e,t){c.definitions=e,l.definitions=t,ue(c,l,(function(e,t){return r(V(e),V(t))}),s)},mods:i,categoryHash:s}))}var nt=a(7),rt=a.n(nt),it=a(576),ot=a(577),ct=a(578),lt=a(579),st=a(580),dt=a(4),mt=Object(S.a)({portalTabs:{"& .tab-content":{"& .tab-pane > .tab-pane":{display:"none",padding:"2em"},"& .active > .tab-pane":{display:"block"}},"& .nav":{"& .nav-link":{position:"relative",display:"inline-flex",padding:"10px"},"& li":{display:"inline-block"},"& .nav-item":{"& .active":{color:"#212529 !important","font-weight":600},"&:hover":{cursor:"pointer"},"& a":{color:"#ccc"}}}}});function ut(e){var t=e.defaultActiveTab,a=void 0===t?0:t,r=e.tabs,i=void 0===r?[]:r,o=e.withSeparator,l=void 0!==o&&o,s=e.preventRerender,d=void 0!==s&&s,m=mt(),u=n.useState(a),p=Object(c.a)(u,2),h=p[0],f=p[1];return Object(dt.jsxs)("div",{className:m.portalTabs,children:[Object(dt.jsx)(it.a,{tabs:!0,children:i.map((function(e,t){var a=e.name,n=e.id;return Object(dt.jsx)(ot.a,{id:n,children:Object(dt.jsx)(ct.a,{className:rt()({active:h===t}),onClick:function(){f(t)},children:a})},t)}))}),Object(dt.jsx)(lt.a,{activeTab:h,className:rt()({"with-separator":l}),children:Object(dt.jsx)(n.Fragment,{children:i.map((function(e,t){var a=e.content;return Object(dt.jsxs)(st.a,{tabId:t,children:[h===t&&(!!d||a),d?a:""]},t)}))})})]})}var pt=a(123),ht=a(122),ft=a.n(ht),gt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={hasError:!1,error:""},n}return Object(s.a)(a,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0});var t=e.toString();this.setState({error:t}),this.props.onErr&&this.props.onErr(t)}},{key:"render",value:function(){var e=this;return this.state.hasError?Object(dt.jsxs)("div",{children:[Object(dt.jsx)("p",{children:this.props.errMessage?this.props.errMessage:this.state.error}),Object(dt.jsx)("button",{onClick:function(){e.setState({hasError:!1,error:""}),e.props.onErr&&e.props.onErr("")},children:"Try Again"})]}):this.props.children}}]),a}(r.a.Component),bt=Object(y.c)(v.a);function yt(e,t){var a;try{a=JSON.parse(e)}catch(n){return n.toString()}return"string"===typeof a?"Received a string instead of object.":""}var vt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={formData:{},formToggle:!0,outputToggle:!1,schemaFormErrorFlag:"",validFormInput:!1,editorWidth:700,submissionData:{}},n}return Object(s.a)(a,[{key:"updateSchema",value:function(e){this.props.onChange&&this.props.onChange(e,this.props.uischema)}},{key:"updateUISchema",value:function(e){this.props.onChange&&this.props.onChange(this.props.schema,e)}},{key:"updateFormData",value:function(e){try{var t=JSON.parse(e);this.setState({formData:t,schemaFormErrorFlag:""})}catch(a){this.setState({schemaFormErrorFlag:a.toString()})}}},{key:"render",value:function(){var e=this,t=yt(this.props.schema,this.props.lang),a=yt(this.props.uischema,this.props.lang);return Object(dt.jsxs)("div",{style:{width:this.props.width?this.props.width:"100%",height:this.props.height?this.props.height:"500px"},className:"playground-main",children:[Object(dt.jsxs)(u.a,{style:{display:""===t?"none":"block"},color:"danger",children:[Object(dt.jsx)("h5",{children:"Schema:"})," ",t]}),Object(dt.jsxs)(u.a,{style:{display:""===a?"none":"block"},color:"danger",children:[Object(dt.jsx)("h5",{children:"UI Schema:"})," ",a]}),Object(dt.jsxs)(u.a,{style:{display:""===this.state.schemaFormErrorFlag?"none":"block"},color:"danger",children:[Object(dt.jsx)("h5",{children:"Form:"})," ",this.state.schemaFormErrorFlag]}),Object(dt.jsx)(ut,{tabs:[{name:"Visual Form Builder",id:"form-builder",content:Object(dt.jsx)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"},children:Object(dt.jsx)(gt,{onErr:function(){},children:Object(dt.jsx)(Ze,{schema:this.props.schema,uischema:this.props.uischema,mods:this.props.mods,onChange:function(t,a){e.props.onChange&&e.props.onChange(t,a)}})})})},{name:"Preview Form",id:"preview-form",content:Object(dt.jsxs)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"},children:[Object(dt.jsx)(gt,{onErr:function(t){e.setState({schemaFormErrorFlag:t})},errMessage:"Error parsing JSON Schema",children:Object(dt.jsx)(bt,{schema:""===t?JSON.parse(this.props.schema):{},uiSchema:""===a?JSON.parse(this.props.uischema):{},onChange:function(t){return e.updateFormData(JSON.stringify(t.formData))},formData:this.state.formData,submitButtonMessage:"Submit",onSubmit:function(t){e.setState({validFormInput:!0,outputToggle:!0,submissionData:t})}})}),Object(dt.jsxs)(p.a,{isOpen:this.state.outputToggle,children:[Object(dt.jsx)(h.a,{children:"Form output preview"}),Object(dt.jsx)(f.a,{children:Object(dt.jsxs)("div",{className:"editor-container",children:[Object(dt.jsxs)(gt,{onErr:function(){},errMessage:"Error parsing JSON Schema Form output",children:[Object(dt.jsx)("h4",{children:"Output Data"}),Object(dt.jsx)(pt.a,{id:"a_unique_id",placeholder:this.state.submissionData,locale:ft.a,height:"550px"})]}),Object(dt.jsx)("br",{})]})}),Object(dt.jsx)(g.a,{children:Object(dt.jsx)(b.a,{onClick:function(){e.setState({outputToggle:!1})},color:"secondary",children:"Close"})})]})]})},{name:"Edit Schema",id:"editors",content:Object(dt.jsxs)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px",display:"flex",flexDirection:"row"},children:[Object(dt.jsxs)("div",{style:{margin:"1em",width:"50em"},className:"editor-container",children:[Object(dt.jsxs)(gt,{onErr:function(t){console.error(t),e.updateSchema("{}")},errMessage:"Error parsing JSON Schema input",children:[Object(dt.jsx)("h4",{children:"Data Schema"}),Object(dt.jsx)(pt.a,{id:"data_schema",placeholder:this.props.schema?JSON.parse(this.props.schema):{},locale:ft.a,height:"550px",onChange:function(t){return e.updateSchema(t.json)}})]}),Object(dt.jsx)("br",{})]}),Object(dt.jsx)("div",{style:{margin:"1em",width:"50em"},className:"editor-container",children:Object(dt.jsxs)(gt,{onErr:function(t){console.error(t),e.updateUISchema("{}")},errMessage:"Error parsing JSON UI Schema input",children:[Object(dt.jsx)("h4",{children:"UI Schema"}),Object(dt.jsx)(pt.a,{id:"ui_schema",placeholder:this.props.uischema?JSON.parse(this.props.uischema):{},locale:ft.a,height:"550px",onChange:function(t){return e.updateUISchema(t.json)}})]})})]})},{name:"Pre-Configured Components",id:"pre-configured",content:Object(dt.jsx)("div",{className:"tab-pane",style:{height:this.props.height?this.props.height:"500px"},children:Object(dt.jsx)(gt,{onErr:function(){},children:Object(dt.jsx)(at,{schema:this.props.schema,uischema:this.props.uischema,mods:this.props.mods,onChange:function(t,a){e.props.onChange&&e.props.onChange(t,a)}})})})}]})]})}}]),a}(r.a.Component),Et=Object(S.a)({header:{"& h1":{textAlign:"center",margin:"1em"},"& p":{marginRight:"5em",marginLeft:"5em"}}}),xt={},Ot={},jt={};function Ct(e){var t=e.title,a=r.a.useState(JSON.stringify(xt)),n=Object(c.a)(a,2),i=n[0],o=n[1],l=r.a.useState(JSON.stringify(Ot)),s=Object(c.a)(l,2),d=s[0],m=s[1],u=Et();return Object(dt.jsxs)("div",{className:"playground",children:[Object(dt.jsxs)("div",{className:u.header,children:[Object(dt.jsx)("h1",{children:t}),Object(dt.jsxs)("p",{children:["Demo app for the"," ",Object(dt.jsx)("a",{href:"https://github.com/ginkgobioworks/react-json-schema-form-builder",children:"React JSON Schema Form Builder"}),", which allows a user to visually build a form and obtain the JSON Schema corresponding to it"]}),Object(dt.jsx)("p",{children:'The Visual Form Builder tab corresponds to the actual Form Builder component. This reads in code from the JSON Schema, which is stored and updated live in the "Edit Schema" tab, and renders the code as manipulatable form elements. The result of the form is rendered with the material design theme in the Preview Form tab. The Pre-Configured Components tab also demonstrates how the form builder takes advantage of the definitions property of JSON Schema to render definitions.'})]}),Object(dt.jsx)(vt,{lang:"json",schema:i,uischema:d,mods:jt,schemaTitle:"Data Schema",uischemaTitle:"UI Schema",onChange:function(e,t){o(e),m(t)},width:"95%",height:"800px"})]})}var Nt=function(){return Object(dt.jsx)(Ct,{title:"React JSON Schema Form Builder"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(563);o.a.render(Object(dt.jsx)(Nt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[564,1,2]]]);
//# sourceMappingURL=main.464af38c.chunk.js.map