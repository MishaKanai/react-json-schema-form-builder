{"version":3,"sources":["../../src/formBuilder/checkbox/FBCheckbox.js","../../src/formBuilder/FontAwesomeIcon.js","../../src/formBuilder/Collapse/Collapse.js","../../src/formBuilder/radio/FBRadioButton.js","../../src/formBuilder/radio/FBRadioGroup.js","../../src/formBuilder/Tooltip.js","../../src/formBuilder/utils.js","../../src/formBuilder/dependencies/DependencyWarning.js","../../src/formBuilder/dependencies/CardSelector.js","../../src/formBuilder/CardEnumOptions.js","../../src/formBuilder/dependencies/ValueSelector.js","../../src/formBuilder/dependencies/DependencyPossibility.js","../../src/formBuilder/dependencies/DependencyField.js","../../src/formBuilder/CardModal.js","../../src/formBuilder/GeneralParameterInputs.js","../../src/formBuilder/CardGeneralParameterInputs.js","../../src/formBuilder/Add.js","../../src/formBuilder/Card.js","../../src/formBuilder/defaults/defaultInputs.js","../../src/formBuilder/Section.js","../../src/formBuilder/styles.js","../../src/formBuilder/inputs/PlaceholderInput.js","../../src/formBuilder/defaults/shortAnswerInputs.js","../../src/formBuilder/defaults/longAnswerInputs.js","../../src/formBuilder/defaults/numberInputs.js","../../src/formBuilder/defaults/arrayInputs.js","../../src/formBuilder/defaults/referenceInputs.js","../../src/formBuilder/defaults/defaultFormInputs.js","../../src/formBuilder/FormBuilder.js","../../src/formBuilder/CardGallery.js","../../src/formBuilder/PredefinedGallery.js","tabs/Tabs.js","ErrorBoundary.js","JsonSchemaFormSuite.js","PlaygroundContainer.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","createUseStyles","checkbox","display","marginRight","FBCheckbox","onChangeValue","value","isChecked","label","use","disabled","id","dataTest","labelClassName","classjss","classes","classnames","potentialCheckboxId","checkboxId","className","type","onChange","checked","htmlFor","undefined","FontAwesomeIcon","otherProps","props","Object","React","collapseElement","cursor","marginTop","padding","fontSize","marginLeft","disableToggle","onClick","icon","faCaretRight","isOpen","FBRadioButton","name","required","autoFocus","useState","Math","key","radio","marginBottom","height","verticalAlign","FBRadioGroup","options","defaultValue","horizontal","option","index","typeMap","alert","help","faQuestionCircle","toolTip","color","Example","text","style","textDecoration","href","autohide","placement","target","parse","JSON","stringify","obj","categoryType","allFormInputs","generateCategoryHash","categoryHash","formInput","match","hash","Error","getCardCategory","currentHash","cardProps","category","console","supportedPropertyParameters","Set","supportedUiParameters","checkForUnsupportedFeatures","unsupportedFeatures","widgets","fields","Array","supportedWidgets","supportedFields","supportedOptions","schema","property","uischema","propDefined","parameter","grouping","element","includes","uiProp","checkObjectForUnsupportedFeatures","generateDependencyElement","useDefinitionDetails","uiProps","newElement","elementDetails","dataProps","pathArr","definitionData","definitionUi","requiredNames","reservedKeys","generateElementPropsFromSchemas","parameters","elementDict","definedUiProps","group","possibilityIndex","children","possibility","requiredValues","cardPropList","remainder","elementArray","elementNames","elem","newElem","updateElementNames","countElementsFromSchema","schemaData","elementCount","generateSchemaElementFromElement","title","description","returnElement","$ref","length","prop","generateSchemaFromElementProps","newSchema","dependencies","dependentElements","elementArr","oneOf","childrenComponents","properties","dependent","updateSchemas","newUiSchema","uiSchema","uiOrder","definitions","uiOption","generateUiSchemaFromElementProps","DEFAULT_INPUT_NAME","getIdFromElementsBlock","elements","names","defaultNameLength","Number","isNaN","addCardObj","mods","newElementObjArr","i","dataOptions","default","getNewElementDefaultDataOptions","uiOptions","propType","neighborNames","addSectionObj","generateElementComponentsFromSchemas","uiSchemaData","hideKey","path","cardOpenArray","setCardOpenArray","Card","Section","elementPropArr","expanded","elementProp","TypeSpecificParameters","getCardParameterInputComponentForType","componentProps","dependents","parent","newDataProps","newUiProps","propName","newCardObj","oldElement","onDelete","onMoveUp","tempBlock","onMoveDown","addElem","choice","cardOpen","setCardOpen","oldSection","onNameChange","newName","onRequireToggle","onDependentsChange","newDependents","reference","React.createElement","onDragEnd","details","src","result","dest","propagateElementChange","updatedElementArr","updatedChildren","propagateDefinitionChanges","excludeKeys","keysHash","keys","acc","getRandomId","chars","numberOfChars","DependencyWarning","elementId","definedVals","undefinedVals","CardSelector","possibleChoices","chosenChoices","placeholder","val","cardEnumOption","width","flexDirection","justifyContent","CardEnumOptions","initialValues","showNames","possibleValues","newVal","ev","parseFloat","parseInt","ValueSelector","parentEnums","parentType","parentName","parentSchema","enumType","enum","enumArr","combination","string","oldCombo","number","array","error","object","newCase","propArr","newEnum","DependencyPossibility","dependencyField","textAlign","border","borderRadius","margin","DependencyField","valueBased","checkIfValueBasedDependency","selection","cardModal","paddingTop","paddingBottom","CardModal","onClose","componentPropsState","setComponentProps","rel","min","GeneralParameterInputs","CardBody","getCardBody","CardGeneralParameterInputs","showObjectNameInput","keyState","setKeyState","keyError","setKeyError","titleState","setTitleState","descriptionState","setDescriptionState","categoryMap","categoryNameMap","categoryToNameMap","fetchLabel","labelName","objectNameLabel","displayNameLabel","descriptionLabel","inputTypeLabel","invalid","onBlur","definitionsInSchema","inputKeys","array2","array1","subtractArray","a","b","availableInputTypes","newCategory","newProps","defaultUiProps","defaultDataProps","firstDefinition","addDetails","borderBottom","Add","hidden","popoverOpen","setPopoverOpen","createChoice","setCreateChoice","toggle","cardEntries","backgroundColor","fontWeight","cardInteractions","modalOpen","setModalOpen","toggleCollapse","CardDefaultParameterInputs","getInputCardBodyComponent","MultipleChoice","enumArray","containsUnparsableString","containsString","isNumber","setIsNumber","enumNames","newNum","newEnumNames","defaultInputs","dateTime","displayName","matchIf","types","format","defaultDataSchema","defaultUiSchema","cardBody","modalBody","date","time","widget","dropdown","sectionContainer","borderTop","elementNum","defaultCollapseStates","keyName","setKeyName","readOnly","message","droppableId","ref","providedDroppable","innerRef","draggableId","providedDraggable","newComponentProps","arrows","float","PlaceholderInput","formatDictionary","email","hostname","uri","regex","formatTypeDictionary","url","autoDictionary","username","password","country","CardShortAnswerParameterInputs","minLength","maxLength","pattern","shortAnswerInput","shortAnswer","map","longAnswerInput","longAnswer","CardNumberParameterInputs","multipleOf","exclusiveMinimum","minimum","newMin","exclusiveMaximum","maximum","newMax","NumberField","numberInputs","integer","CardArrayParameterInputs","minItems","maxItems","getInnerCardComponent","defaultFormInputs","items","item","newArr","referenceInputs","currentValueLabel","DEFAULT_FORM_INPUTS","formBuilder","formHead","formBody","maxHeight","overflowY","minWidth","cssFloat","formFooter","FormBuilder","CardGallery","definitionSchema","definitionUiSchema","componentArr","oldUi","newUi","newDefinitions","preDefinedGallery","PredefinedGallery","references","findRefs","schemaObject","referenceSet","portalTabs","position","Tabs","defaultActiveTab","tabs","withSeparator","preventRerender","activeTab","setActiveTab","Nav","NavItem","NavLink","active","TabContent","content","TabPane","tabId","ErrorBoundary","state","hasError","this","setState","errorMessage","toString","onErr","errMessage","Component","Form","withTheme","Bootstrap4Theme","checkError","language","data","e","JsonSchemaFormEditor","formData","formToggle","outputToggle","schemaFormErrorFlag","validFormInput","editorWidth","submissionData","err","schemaError","lang","schemaUiError","Alert","updateFormData","submitButtonMessage","onSubmit","Modal","ModalHeader","ModalBody","codeViewer","ModalFooter","Button","updateSchema","locale","json","updateUISchema","withStyles","header","initialJsonSchema","initialUiSchema","PlaygroundContainer","setSchema","setUischema","JsonSchemaFormSuite","schemaTitle","uischemaTitle","App","Boolean","window","location","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.0b071f3a.chunk.js","sourcesContent":["// @flow\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport { createUseStyles } from 'react-jss';\nimport type { Node } from 'react';\n\nconst useStyles = createUseStyles({\n  checkbox: {\n    '& *': {\n      display: 'inline-block',\n    },\n    '& input': {\n      marginRight: '5px',\n    },\n  },\n});\n\ntype Props = {\n  onChangeValue: Function,\n  isChecked: boolean,\n  id?: string,\n  label?: string,\n  use?: string,\n  value?: string,\n  disabled?: boolean,\n  dataTest?: string,\n  labelClassName?: string,\n};\n\nexport default function FBCheckbox({\n  onChangeValue,\n  value = '',\n  isChecked = false,\n  label = '',\n  use = 'action',\n  disabled = false,\n  id = '',\n  dataTest = '',\n  labelClassName = '',\n}: Props): Node {\n  const classjss = useStyles();\n  const classes = classnames('fb-checkbox', {\n    'edit-checkbox': !disabled && use === 'edit',\n    'action-checkbox': !disabled && use === 'action',\n    'disabled-checked-checkbox': disabled && isChecked,\n    'disabled-unchecked-checkbox': disabled && !isChecked,\n  });\n  const potentialCheckboxId = id !== '' ? id : label;\n  const checkboxId = potentialCheckboxId !== '' ? potentialCheckboxId : null;\n  return (\n    <div data-test='checkbox' className={`${classes} ${classjss.checkbox}`}>\n      <input\n        type='checkbox'\n        id={checkboxId}\n        data-test={dataTest || undefined}\n        onChange={disabled ? () => {} : onChangeValue}\n        value={value}\n        disabled={disabled}\n        checked={isChecked}\n      />\n      <div className='checkbox-overlay'>\n        {label && (\n          <label htmlFor={checkboxId} className={labelClassName || undefined}>\n            {label}\n          </label>\n        )}\n      </div>\n    </div>\n  );\n}\n","// @flow\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport { FontAwesomeIcon as FortAwesomeFontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport type { Node } from 'react';\n\nexport default function FontAwesomeIcon({\n  className,\n  ...otherProps\n}: {\n  className?: string,\n  [string]: any,\n}): Node {\n  const props = Object.assign(\n    { className: classnames([className, 'fa']) },\n    otherProps,\n  );\n  return <FortAwesomeFontAwesomeIcon {...props} />;\n}\n","// @flow\n\nimport React from 'react';\nimport type { Node } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { Collapse as RSCollapse } from 'reactstrap';\nimport classnames from 'classnames';\nimport { faCaretDown, faCaretRight } from '@fortawesome/free-solid-svg-icons';\nimport FontAwesomeIcon from '../FontAwesomeIcon';\n\nconst useStyles = createUseStyles({\n  collapseElement: {\n    '& .disabled': { '.toggle-collapse': { cursor: 'default' } },\n    '& h4': { marginTop: '7px', padding: '13px 10px 10px 10px' },\n    '& .toggle-collapse': {\n      fontSize: '2.3rem',\n      cursor: 'pointer',\n      marginLeft: '33px',\n      '& .fa-caret-right': {\n        marginRight: '9px',\n      },\n    },\n  },\n});\n\ntype Props = {\n  // Determines if the Collapse component is open\n  isOpen: boolean,\n  // Toggles the isOpen boolean between true and false\n  toggleCollapse: () => void,\n  // The title to display in the collapse header\n  title: Node,\n  // Anything to be rendered within the collapse\n  children: any,\n  // If true will gray out and disable */\n  disableToggle?: boolean,\n  className?: string,\n};\n\nexport default function Collapse(props: Props): Node {\n  const classes = classnames(\n    `collapse-element ${props.className || ''} ${useStyles().collapseElement}`,\n    {\n      disabled: props.disableToggle,\n    },\n  );\n\n  return (\n    <div className={classes}>\n      <div className='d-flex'>\n        <span className='toggle-collapse'>\n          <FontAwesomeIcon\n            onClick={!props.disableToggle ? props.toggleCollapse : () => {}}\n            icon={props.isOpen ? faCaretDown : faCaretRight}\n          />\n        </span>\n        <h4>{props.title}</h4>\n      </div>\n      <RSCollapse isOpen={props.isOpen}>\n        <div>{props.children}</div>\n      </RSCollapse>\n    </div>\n  );\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport classnames from 'classnames';\nimport type { Node } from 'react';\n\ntype Props = {\n  label: Node,\n  value?: any,\n  name?: string,\n  checked?: boolean,\n  required?: boolean,\n  disabled?: boolean,\n  autoFocus?: boolean,\n  onChange: (any) => void,\n};\n\nexport default function FBRadioButton(props: Props): Node {\n  const {\n    label,\n    value,\n    checked,\n    name,\n    onChange,\n    required,\n    disabled,\n    autoFocus,\n  } = props;\n  const [id] = useState(`radio-${Math.floor(Math.random() * 1000000)}`);\n  const classes = classnames('fb-radio-button', { disabled });\n  return (\n    <div className={classes} key={value}>\n      <input\n        id={id}\n        type='radio'\n        name={name}\n        value={value}\n        checked={checked}\n        required={required}\n        disabled={disabled}\n        autoFocus={autoFocus}\n        onChange={() => onChange(value)}\n      />\n      <label htmlFor={id}>{label}</label>\n    </div>\n  );\n}\n","// @flow\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport { createUseStyles } from 'react-jss';\nimport type { Node } from 'react';\nimport FBRadioButton from './FBRadioButton';\n\nconst useStyles = createUseStyles({\n  radio: {\n    '& .fb-radio-button': {\n      display: 'block',\n      '& input[type=\"radio\"]': {\n        marginRight: '5px',\n        marginBottom: 0,\n        height: '1em',\n        verticalAlign: 'middle',\n      },\n      '& input[type=\"radio\"] + label': {\n        marginTop: 0,\n        marginBottom: 0,\n        verticalAlign: 'middle',\n      },\n    },\n  },\n});\n\ntype Props = {\n  options: Array<{ label: Node, value: string | number }>,\n  defaultValue?: any,\n  horizontal?: boolean,\n  id?: string,\n  required?: boolean,\n  disabled?: boolean,\n  autoFocus?: boolean,\n  onChange: (any) => void,\n};\n\nexport default function FBRadioGroup(props: Props): Node {\n  const {\n    options,\n    defaultValue,\n    onChange,\n    horizontal,\n    id,\n    autoFocus,\n    disabled,\n  } = props;\n  const name = Math.random().toString();\n  const classjss = useStyles();\n  const classes = classnames('fb-radio-group', {\n    horizontal,\n  });\n  return (\n    <div id={id} className={`${classes} ${classjss.radio}`}>\n      {options.map((option, index) => (\n        <FBRadioButton\n          value={option.value}\n          label={option.label}\n          id={id}\n          name={name}\n          key={option.value}\n          checked={option.value === defaultValue}\n          autoFocus={autoFocus && index === 1}\n          onChange={onChange}\n          disabled={disabled}\n        />\n      ))}\n    </div>\n  );\n}\n","// @flow\n\n/* eslint react/no-multi-comp: 0, react/prop-types: 0 */\nimport React from 'react';\nimport type { Node } from 'react';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport {\n  faAsterisk,\n  faQuestionCircle,\n} from '@fortawesome/free-solid-svg-icons';\nimport FontAwesomeIcon from './FontAwesomeIcon';\n\nconst typeMap = {\n  alert: faAsterisk,\n  help: faQuestionCircle,\n};\n\nconst useStyles = createUseStyles({\n  toolTip: {\n    color: 'white',\n    'background-color': 'black',\n  },\n});\n\nexport default function Example({\n  text,\n  type,\n  id,\n}: {\n  text: Node,\n  type: 'alert' | 'help',\n  id: string,\n}): Node {\n  const classes = useStyles();\n\n  return (\n    <React.Fragment>\n      <span\n        style={{ textDecoration: 'underline', color: 'blue' }}\n        href='#'\n        id={id}\n      >\n        <FontAwesomeIcon icon={typeMap[type]} />\n      </span>\n      <UncontrolledTooltip\n        autohide={false}\n        className={classes.toolTip}\n        placement='top'\n        target={id}\n      >\n        {text}\n      </UncontrolledTooltip>\n    </React.Fragment>\n  );\n}\n","// @flow\nimport * as React from 'react';\nimport type { Node } from 'react';\nimport type {\n  CardBody,\n  CardProps,\n  ElementProps,\n  FormInput,\n  Mods,\n  ModalBody,\n  DataOptions,\n  DataType,\n} from './types';\n\n// parse in either YAML or JSON\nexport function parse(text: string): any {\n  if (!text) return {};\n  return JSON.parse(text);\n}\n\n// stringify in either YAML or JSON\nexport function stringify(obj: any): string {\n  if (!obj) return '{}';\n  return JSON.stringify(obj);\n}\n\nexport function defaultDataProps(\n  category: string,\n  allFormInputs: { [string]: FormInput },\n): { [string]: any } {\n  return allFormInputs[category].defaultDataSchema;\n}\n\nexport function defaultUiProps(\n  category: string,\n  allFormInputs: { [string]: FormInput },\n): { [string]: any } {\n  return allFormInputs[category].defaultUiSchema;\n}\nexport function categoryType(\n  category: string,\n  allFormInputs: { [string]: FormInput },\n): DataType {\n  return allFormInputs[category].type;\n}\nexport function getCardBody(\n  category: string,\n  allFormInputs: { [string]: FormInput },\n): CardBody {\n  return (\n    (allFormInputs[category] && allFormInputs[category].cardBody) ||\n    (() => null)\n  );\n}\nexport function categoryToNameMap(\n  category: string,\n  allFormInputs: { [string]: FormInput },\n): { [string]: string } {\n  const categoryNameMap = {};\n  Object.keys(allFormInputs).forEach((inputName) => {\n    categoryNameMap[inputName] = allFormInputs[inputName].displayName;\n  });\n  return categoryNameMap;\n}\n\nfunction updateElementNames(elementArray: Array<ElementProps>) {\n  const elementNames = elementArray.map((elem) => elem.name);\n  return elementArray.map((elem) => {\n    const newElem = elem;\n    newElem.neighborNames = elementNames;\n    return newElem;\n  });\n}\n\nexport function generateCategoryHash(allFormInputs: { [string]: FormInput }): {\n  [string]: string,\n} {\n  const categoryHash = {};\n  Object.keys(allFormInputs).forEach((categoryName) => {\n    const formInput = allFormInputs[categoryName];\n    formInput.matchIf.forEach((match) => {\n      match.types.forEach((type) => {\n        const hash = `type:${type === 'null' ? '' : type};widget:${\n          match.widget || ''\n        };field:${match.field || ''};format:${match.format || ''};$ref:${\n          match.$ref ? 'true' : 'false'\n        };enum:${match.enum ? 'true' : 'false'}`;\n        if (categoryHash[hash]) {\n          throw new Error(`Duplicate hash: ${hash}`);\n        }\n        categoryHash[hash] = categoryName;\n      });\n    });\n  });\n  return categoryHash;\n}\n\n// determines a card's category based on it's properties\n// mostly useful for reading a schema for the first time\nexport function getCardCategory(\n  cardProps: CardProps,\n  categoryHash: { [string]: string },\n): string {\n  const currentHash = `type:${cardProps.dataOptions.type || ''};widget:${\n    cardProps.uiOptions['ui:widget'] || ''\n  };field:${cardProps.uiOptions['ui:field'] || ''};format:${\n    cardProps.dataOptions.format || ''\n  };$ref:${cardProps.$ref !== undefined ? 'true' : 'false'};enum:${\n    cardProps.dataOptions.enum ? 'true' : 'false'\n  }`;\n  const category = categoryHash[currentHash];\n  if (!category) {\n    if (cardProps.$ref) return 'ref';\n    // eslint-disable-next-line no-console\n    console.error(`No match for card': ${currentHash} among set`);\n    return 'shortAnswer';\n  }\n  return category;\n}\n\n// check for unsupported feature in schema and uischema\nconst supportedPropertyParameters = new Set([\n  'title',\n  'description',\n  'enum',\n  'minLength',\n  'maxLength',\n  'multipleOf',\n  'minimum',\n  'maximum',\n  'format',\n  'exclusiveMinimum',\n  'exclusiveMaximum',\n  'type',\n  'default',\n  'pattern',\n  'required',\n  'properties',\n  'items',\n  'definitions',\n  '$ref',\n  'minItems',\n  'maxItems',\n  'enumNames',\n  'dependencies',\n  '$id',\n  '$schema',\n  'meta',\n  'additionalProperties',\n]);\n\nconst supportedUiParameters = new Set([\n  'ui:order',\n  'ui:widget',\n  'ui:autofocus',\n  'ui:autocomplete',\n  'ui:options',\n  'ui:field',\n  'ui:placeholder',\n  'ui:column',\n  'items',\n  'definitions',\n]);\n\n// recursively called function to check an object for unsupported features\nfunction checkObjectForUnsupportedFeatures(\n  schema: { [string]: any },\n  uischema: { [string]: any },\n  supportedWidgets: Set<string>,\n  supportedFields: Set<string>,\n  supportedOptions: Set<string>,\n) {\n  // add each unsupported feature to this array\n  const unsupportedFeatures = [];\n\n  // check for unsupported whole object features\n  if (schema && typeof schema === 'object')\n    Object.keys(schema).forEach((property) => {\n      if (\n        !supportedPropertyParameters.has(property) &&\n        property !== 'properties'\n      )\n        unsupportedFeatures.push(`Unrecognized Object Property: ${property}`);\n    });\n\n  if (uischema && typeof uischema === 'object')\n    Object.keys(uischema).forEach((uiProperty) => {\n      let propDefined = false;\n      // search for the property in the schema properties and dependencies\n      if (\n        schema.properties &&\n        Object.keys(schema.properties).includes(uiProperty)\n      )\n        propDefined = true;\n      if (schema.dependencies) {\n        Object.keys(schema.dependencies).forEach((dependencyKey) => {\n          Object.keys(schema.dependencies[dependencyKey]).forEach(\n            (parameter) => {\n              if (parameter === 'oneOf') {\n                schema.dependencies[dependencyKey].oneOf.forEach((grouping) => {\n                  if (grouping.properties)\n                    if (Object.keys(grouping.properties).includes(uiProperty))\n                      propDefined = true;\n                });\n              } else if (parameter === 'properties') {\n                if (\n                  Object.keys(\n                    schema.dependencies[dependencyKey].properties,\n                  ).includes(uiProperty)\n                )\n                  propDefined = true;\n              }\n            },\n          );\n        });\n      }\n\n      if (!propDefined && !supportedUiParameters.has(uiProperty))\n        unsupportedFeatures.push(\n          `Unrecognized UI schema property: ${uiProperty}`,\n        );\n    });\n\n  // check for unsupported property parameters\n  if (schema.properties)\n    Object.entries(schema.properties).forEach(\n      ([parameter, element]: [string, any]) => {\n        if (\n          element &&\n          typeof element === 'object' &&\n          element.type &&\n          element.type !== 'object'\n        ) {\n          // make sure that the type is valid\n          if (\n            !['array', 'string', 'integer', 'number', 'boolean'].includes(\n              element.type,\n            )\n          )\n            unsupportedFeatures.push(\n              `Unrecognized type: ${element.type} in ${parameter}`,\n            );\n          // check the properties of each property if it is a basic object\n          Object.keys(element).forEach((key) => {\n            if (!supportedPropertyParameters.has(key))\n              unsupportedFeatures.push(\n                `Property Parameter: ${key} in ${parameter}`,\n              );\n          });\n        } else {\n          // check the properties of each property if it is a basic object\n          Object.keys(element).forEach((key) => {\n            if (!supportedPropertyParameters.has(key))\n              unsupportedFeatures.push(\n                `Property Parameter: ${key} in ${parameter}`,\n              );\n          });\n        }\n\n        // check for unsupported UI components\n        if (\n          uischema &&\n          uischema[parameter] &&\n          element &&\n          (!element.type || element.type !== 'object')\n        ) {\n          // check for unsupported ui properties\n          Object.keys(uischema[parameter]).forEach((uiProp) => {\n            if (!supportedUiParameters.has(uiProp))\n              unsupportedFeatures.push(\n                `UI Property: ${uiProp} for ${parameter}`,\n              );\n\n            // check for unsupported ui widgets\n            if (\n              uiProp === 'ui:widget' &&\n              !supportedWidgets.has(uischema[parameter][uiProp])\n            ) {\n              unsupportedFeatures.push(\n                `UI Widget: ${uischema[parameter][uiProp]} for ${parameter}`,\n              );\n            }\n\n            // check for unsupported ui fields\n            if (\n              uiProp === 'ui:field' &&\n              !supportedFields.has(uischema[parameter][uiProp])\n            )\n              unsupportedFeatures.push(\n                `UI Field: ${uischema[parameter][uiProp]} for ${parameter}`,\n              );\n\n            // check unsupported ui option\n            if (uiProp === 'ui:options')\n              Object.keys(uischema[parameter]['ui:options']).forEach(\n                (uiOption) => {\n                  if (!supportedOptions.has(uiOption))\n                    unsupportedFeatures.push(\n                      `UI Property: ui:options.${uiOption} for ${parameter}`,\n                    );\n                },\n              );\n          });\n        }\n      },\n    );\n  return unsupportedFeatures;\n}\n\n// parent function that checks for unsupported features in an entire document\nexport function checkForUnsupportedFeatures(\n  schema: { [string]: any },\n  uischema: { [string]: any },\n  allFormInputs: { [string]: FormInput },\n): string[] {\n  // add each unsupported feature to this array\n  const unsupportedFeatures = [];\n\n  const widgets = [];\n  const fields = [];\n  const options = [];\n  Object.keys(allFormInputs).forEach((inputType) => {\n    allFormInputs[inputType].matchIf.forEach((match) => {\n      if (match.widget && !widgets.includes(match.widget))\n        widgets.push(match.widget);\n      if (match.field && !fields.includes(match.field))\n        fields.push(match.field);\n    });\n    if (\n      allFormInputs[inputType].possibleOptions &&\n      Array.isArray(allFormInputs[inputType].possibleOptions)\n    ) {\n      options.push(...allFormInputs[inputType].possibleOptions);\n    }\n  });\n  const supportedWidgets = new Set(widgets);\n  const supportedFields = new Set(fields);\n  const supportedOptions = new Set(options);\n\n  // check for unsupported whole form features\n  if (schema && typeof schema === 'object' && schema.type === 'object') {\n    unsupportedFeatures.push(\n      ...checkObjectForUnsupportedFeatures(\n        schema,\n        uischema,\n        supportedWidgets,\n        supportedFields,\n        supportedOptions,\n      ),\n    );\n  } else {\n    unsupportedFeatures.push('jsonSchema form is not of type object');\n  }\n\n  return unsupportedFeatures;\n}\n\n// make an element out of the corresponding properties and UI properties\nfunction generateDependencyElement(\n  name: string,\n  dataProps: any,\n  uiProperties: any,\n  requiredNames: any,\n  definitionData?: { [string]: any },\n  definitionUi?: { [string]: any },\n  categoryHash: { [string]: string },\n  useDefinitionDetails: boolean = true, // determines whether to use an element's definition details or not.\n) {\n  let uiProps = {\n    ...uiProperties,\n  };\n  const newElement = {};\n  let elementDetails =\n    dataProps && typeof dataProps === 'object' ? dataProps : {};\n\n  // populate newElement with reference if applicable\n  if (elementDetails.$ref !== undefined && definitionData) {\n    const pathArr =\n      typeof elementDetails.$ref === 'string'\n        ? elementDetails.$ref.split('/')\n        : [];\n    if (\n      pathArr[0] === '#' &&\n      pathArr[1] === 'definitions' &&\n      definitionData[pathArr[2]] &&\n      useDefinitionDetails === true\n    ) {\n      elementDetails = {\n        ...elementDetails,\n        ...definitionData[pathArr[2]],\n      };\n    }\n\n    const definedUiProps = (definitionUi || {})[pathArr[2]];\n    uiProps = {\n      ...(definedUiProps || {}),\n      ...uiProps,\n    };\n  }\n\n  newElement.name = name;\n  newElement.required = requiredNames.includes(name);\n  newElement.$ref =\n    typeof elementDetails.$ref === 'string' ? elementDetails.$ref : undefined;\n\n  if (elementDetails.type && elementDetails.type === 'object') {\n    // create a section\n    newElement.schema = elementDetails;\n    newElement.uischema = uiProps || {};\n    newElement.propType = 'section';\n  } else {\n    // create a card\n    newElement.dataOptions = elementDetails;\n    newElement.uiOptions = uiProps || {};\n\n    // ensure that uiOptions does not have duplicate keys with dataOptions\n    const reservedKeys = Object.keys(newElement.dataOptions);\n    Object.keys(newElement.uiOptions).forEach((uiKey) => {\n      if (reservedKeys.includes(uiKey)) {\n        newElement.uiOptions[`ui:*${uiKey}`] = newElement.uiOptions[uiKey];\n      }\n    });\n\n    newElement.dataOptions.category = getCardCategory(newElement, categoryHash);\n    newElement.propType = 'card';\n  }\n  return newElement;\n}\n\n// generate an array of element objects from a schema and uischema\nexport function generateElementPropsFromSchemas(parameters: {\n  schema: { [string]: any },\n  uischema: { [string]: any },\n  definitionData?: { [string]: any },\n  definitionUi?: { [string]: any },\n  categoryHash: { [string]: string },\n}): Array<ElementProps> {\n  const { schema, uischema, definitionData, definitionUi, categoryHash } =\n    parameters;\n\n  if (!schema.properties) return [];\n\n  const elementDict = {};\n  const requiredNames = schema.required ? schema.required : [];\n\n  // read regular elements from properties\n  Object.entries(schema.properties).forEach(([parameter, element]) => {\n    const newElement = {};\n    let elementDetails =\n      element && typeof element === 'object'\n        ? (element: {\n            ...any,\n            $ref?: string,\n          })\n        : {};\n\n    // populate newElement with reference if applicable\n    if (elementDetails.$ref !== undefined && definitionData) {\n      if (\n        elementDetails.$ref &&\n        !elementDetails.$ref.startsWith('#/definitions')\n      )\n        throw new Error(\n          `Invalid definition, not at '#/definitions': ${elementDetails.$ref}`,\n        );\n      const pathArr =\n        elementDetails.$ref !== undefined ? elementDetails.$ref.split('/') : [];\n      if (\n        pathArr[0] === '#' &&\n        pathArr[1] === 'definitions' &&\n        definitionData[pathArr[2]]\n      ) {\n        elementDetails = {\n          ...definitionData[pathArr[2]],\n          ...elementDetails,\n        };\n      }\n\n      const definedUiProps = (definitionUi || {})[pathArr[2]];\n      uischema[parameter] = {\n        ...(definedUiProps || {}),\n        ...uischema[parameter],\n      };\n    }\n    newElement.name = parameter;\n    newElement.required = requiredNames.includes(parameter);\n    newElement.$ref = elementDetails.$ref;\n    newElement.dataOptions = elementDetails;\n\n    if (elementDetails.type && elementDetails.type === 'object') {\n      // create a section\n      newElement.schema = elementDetails;\n      newElement.uischema = uischema[parameter] || {};\n      newElement.propType = 'section';\n    } else {\n      // create a card\n      newElement.uiOptions = uischema[parameter] || {};\n\n      // ensure that uiOptions does not have duplicate keys with dataOptions\n      const reservedKeys = Object.keys(newElement.dataOptions);\n      Object.keys(newElement.uiOptions).forEach((uiKey) => {\n        if (reservedKeys.includes(uiKey)) {\n          newElement.uiOptions[`ui:*${uiKey}`] = newElement.uiOptions[uiKey];\n        }\n      });\n\n      newElement.dataOptions.category = getCardCategory(\n        newElement,\n        categoryHash,\n      );\n      newElement.propType = 'card';\n    }\n    elementDict[newElement.name] = newElement;\n  });\n  // read dependent elements from dependencies\n  if (schema.dependencies) {\n    const useDefinitionDetails = false;\n    Object.keys(schema.dependencies).forEach((parent) => {\n      const group = schema.dependencies[parent];\n      if (group.oneOf) {\n        let possibilityIndex = 0;\n        group.oneOf.forEach((possibility) => {\n          if (!elementDict[parent].dependents) {\n            elementDict[parent].dependents = [];\n          }\n          elementDict[parent].dependents.push({\n            children: [],\n            value: possibility.properties[parent],\n          });\n          const requiredValues = possibility.required || [];\n          Object.entries(possibility.properties).forEach(\n            ([parameter, element]) => {\n              // create a new element if not present in main properties\n              if (!Object.keys(elementDict).includes(parameter)) {\n                const newElement = generateDependencyElement(\n                  parameter,\n                  element,\n                  uischema[parameter],\n                  requiredNames,\n                  definitionData,\n                  definitionUi,\n                  categoryHash,\n                  useDefinitionDetails,\n                );\n                newElement.required = requiredValues.includes(newElement.name);\n                elementDict[newElement.name] = newElement;\n              }\n              if (parameter !== parent) {\n                const newElement = elementDict[parameter];\n                newElement.dependent = true;\n                newElement.parent = parent;\n                elementDict[parent].dependents[possibilityIndex].children.push(\n                  parameter,\n                );\n              }\n            },\n          );\n          possibilityIndex += 1;\n        });\n      } else if (group.properties) {\n        const requiredValues = group.required || [];\n        Object.entries(group.properties).forEach(([parameter, element]) => {\n          const newElement = generateDependencyElement(\n            parameter,\n            element,\n            uischema[parameter],\n            requiredNames,\n            definitionData,\n            definitionUi,\n            categoryHash,\n            useDefinitionDetails,\n          );\n          newElement.required = requiredValues.includes(newElement.name);\n          newElement.dependent = true;\n          newElement.parent = parent;\n          elementDict[newElement.name] = newElement;\n          if (elementDict[parent].dependents) {\n            elementDict[parent].dependents[0].children.push(parameter);\n          } else {\n            elementDict[parent].dependents = [{ children: [parameter] }];\n          }\n        });\n      } else {\n        // eslint-disable-next-line no-console\n        console.error('unsupported dependency type encountered');\n      }\n    });\n  }\n\n  // now reorder in accordance with ui:order if defined\n  const cardPropList = [];\n  if (uischema['ui:order']) {\n    // in case there are any options not in ui:order\n    const remainder = [];\n    Object.keys(elementDict).forEach((name) => {\n      if (!uischema['ui:order'].includes(name))\n        remainder.push(elementDict[name]);\n    });\n\n    // map ui order elements into the right order\n    uischema['ui:order'].forEach((name) => {\n      // if contains the wildcard *, insert remainder cards there\n      if (name === '*') {\n        remainder.forEach((remCard) => {\n          cardPropList.push(remCard);\n        });\n      } else if (elementDict[name]) {\n        cardPropList.push(elementDict[name]);\n      }\n    });\n  } else {\n    Object.keys(elementDict).forEach((name) => {\n      cardPropList.push(elementDict[name]);\n    });\n  }\n\n  updateElementNames(cardPropList);\n  return (cardPropList: Array<ElementProps>);\n}\n\n// determine the number of element objects from schema and uischema\nexport function countElementsFromSchema(schemaData: any): number {\n  if (!schemaData.properties) return 0;\n  const elementDict = {};\n  let elementCount = 0;\n\n  // read regular elements from properties\n  Object.entries(schemaData.properties).forEach(([parameter]) => {\n    elementDict[parameter] = {};\n    elementCount += 1;\n  });\n  // read dependent elements from dependencies\n  if (schemaData.dependencies) {\n    Object.keys(schemaData.dependencies).forEach((parent) => {\n      const group = schemaData.dependencies[parent];\n      if (group.oneOf) {\n        let possibilityIndex = 0;\n        group.oneOf.forEach((possibility) => {\n          if (!elementDict[parent].dependents) {\n            elementDict[parent].dependents = [];\n          }\n          elementDict[parent].dependents.push({\n            children: [],\n            value: possibility.properties[parent],\n          });\n          Object.entries(possibility.properties).forEach(([parameter]) => {\n            // create a new element if not present in main properties\n            if (!Object.keys(elementDict).includes(parameter)) {\n              elementDict[parameter] = {};\n              elementCount += 1;\n            }\n            if (parameter !== parent) {\n              const newElement = elementDict[parameter];\n              newElement.dependent = true;\n              newElement.parent = parent;\n              elementDict[parent].dependents[possibilityIndex].children.push(\n                parameter,\n              );\n            }\n          });\n          possibilityIndex += 1;\n        });\n      } else if (group.properties) {\n        Object.entries(group.properties).forEach(([parameter]) => {\n          elementDict[parameter] = {};\n          elementCount += 1;\n          if (elementDict[parent].dependents) {\n            elementDict[parent].dependents[0].children.push(parameter);\n          } else {\n            elementDict[parent].dependents = [{ children: [parameter] }];\n          }\n        });\n      } else {\n        // eslint-disable-next-line no-console\n        console.error('unsupported dependency type encountered');\n      }\n    });\n  }\n\n  return (elementCount: number);\n}\n\n// convert an element into a schema equivalent\nfunction generateSchemaElementFromElement(element: ElementProps) {\n  if (element.$ref !== undefined) {\n    const title =\n      element.schema !== undefined && element.schema.title !== undefined\n        ? element.schema.title\n        : element.dataOptions.title;\n    const description =\n      element.schema !== undefined && element.schema.description !== undefined\n        ? element.schema.description\n        : element.dataOptions.description;\n\n    let returnElement = {\n      $ref: element.$ref,\n      title: title,\n      description: description,\n    };\n\n    const length = element?.schema?.required?.length;\n    if (length !== undefined && length > 0) {\n      returnElement = { ...returnElement, required: element.schema.required };\n    }\n    return returnElement;\n  } else if (element.propType === 'card') {\n    if (element.dataOptions.category === 'section') {\n      return {\n        type: 'object',\n      };\n    } else {\n      const prop = {};\n\n      Object.keys(element.dataOptions).forEach((key) => {\n        if (\n          ![\n            'category',\n            'hideKey',\n            'path',\n            'definitionData',\n            'definitionUi',\n            'allFormInputs',\n          ].includes(key) &&\n          element.dataOptions[key] !== ''\n        )\n          prop[key] = element.dataOptions[key];\n      });\n      return prop;\n    }\n  } else if (element.propType === 'section') {\n    return element.schema;\n  } else {\n    throw new Error('Element that is neither card, section, nor ref');\n  }\n}\n\n// generate a new schema from a complete array of card objects\nexport function generateSchemaFromElementProps(\n  elementArr: Array<ElementProps>,\n): { [string]: any, definitions?: { [string]: any }, ... } {\n  if (!elementArr) return {};\n  const newSchema = {};\n\n  const props = {};\n  const dependencies = {};\n  const elementDict = {};\n  const dependentElements = new Set([]);\n  for (let index = 0; index < elementArr.length; index += 1) {\n    const element = elementArr[index];\n    elementDict[element.name] = { ...element };\n    if (element.dependents)\n      element.dependents.forEach((possibility) => {\n        possibility.children.forEach((dependentElement) => {\n          dependentElements.add(dependentElement);\n        });\n      });\n  }\n  Object.keys(elementDict).forEach((elementName) => {\n    const element = elementDict[elementName];\n    if (element.dependents && element.dependents[0]) {\n      if (element.dependents[0].value) {\n        // handle value based case\n        dependencies[elementName] = {\n          oneOf: element.dependents.map((possibility) => {\n            const childrenComponents = {};\n            const requiredValues = [];\n            possibility.children.forEach((child) => {\n              if (elementDict[child]) {\n                childrenComponents[child] = generateSchemaElementFromElement(\n                  elementDict[child],\n                );\n                if (elementDict[child].required) requiredValues.push(child);\n              }\n            });\n            return {\n              properties: {\n                [elementName]: possibility.value,\n                ...childrenComponents,\n              },\n              required: requiredValues,\n            };\n          }),\n        };\n      } else {\n        // handle definition based case\n        const childrenComponents = {};\n        const requiredValues = [];\n        element.dependents[0].children.forEach((child) => {\n          childrenComponents[child] = generateSchemaElementFromElement(\n            elementDict[child],\n          );\n          if (elementDict[child].required) requiredValues.push(child);\n        });\n        dependencies[elementName] = {\n          properties: childrenComponents,\n          required: requiredValues,\n        };\n      }\n    }\n    if (!dependentElements.has(elementName))\n      props[element.name] = generateSchemaElementFromElement(element);\n  });\n\n  newSchema.properties = props;\n  newSchema.dependencies = dependencies;\n  newSchema.required = elementArr\n    .filter(({ required, dependent }) => required && !dependent)\n    .map(({ name }) => name);\n\n  return newSchema;\n}\n\nexport function generateUiSchemaFromElementProps(\n  elementArr: Array<ElementProps>,\n  definitionUi: any,\n): { [string]: any, definitions?: { [string]: any }, ... } {\n  if (!elementArr) return {};\n\n  const uiSchema = {};\n  const uiOrder = [];\n  const definitions = definitionUi;\n\n  elementArr.forEach((element) => {\n    uiOrder.push(element.name);\n    if (element.$ref !== undefined) {\n      // look for the reference\n      const pathArr =\n        typeof element.$ref === 'string' ? element.$ref.split('/') : [];\n      if (definitions && definitions[pathArr[2]])\n        uiSchema[element.name] = definitions[pathArr[2]];\n    }\n    if (element.propType === 'card' && element.uiOptions) {\n      Object.keys(element.uiOptions).forEach((uiOption) => {\n        if (!uiSchema[element.name]) uiSchema[element.name] = {};\n        if (uiOption.startsWith('ui:*')) {\n          uiSchema[element.name][uiOption.substring(4)] =\n            element.uiOptions[uiOption];\n        } else {\n          uiSchema[element.name][uiOption] = element.uiOptions[uiOption];\n        }\n      });\n    } else if (element.propType === 'section' && element.uischema) {\n      uiSchema[element.name] = element.uischema;\n    }\n  });\n\n  uiSchema['ui:order'] = uiOrder;\n\n  return uiSchema;\n}\n\nexport function getCardParameterInputComponentForType(\n  category: string,\n  allFormInputs: { [string]: FormInput },\n): ModalBody {\n  return (\n    (allFormInputs[category] && allFormInputs[category].modalBody) ||\n    (() => null)\n  );\n}\n\n// takes in an array of Card Objects and updates both schemas\nexport function updateSchemas(\n  elementArr: Array<ElementProps>,\n  parameters: {\n    schema: { [string]: any, definitions?: { [string]: any }, ... },\n    uischema: { [string]: any, definitions?: { [string]: any }, ... },\n    onChange: ({ [string]: any }, { [string]: any }) => any,\n    definitionData?: { [string]: any },\n    definitionUi?: { [string]: any },\n  },\n) {\n  const { schema, uischema, onChange, definitionUi } = parameters;\n\n  const newUiSchema = Object.assign(\n    { ...uischema },\n    generateUiSchemaFromElementProps(elementArr, definitionUi),\n  );\n  const newSchema = Object.assign(\n    { ...schema },\n    generateSchemaFromElementProps(elementArr),\n  );\n\n  // mandate that the type is an object if not already done\n  newSchema.type = 'object';\n  onChange(newSchema, newUiSchema);\n}\n\nexport const DEFAULT_INPUT_NAME = 'newInput';\n\n// ensure that each added block has a unique name\nfunction getIdFromElementsBlock(elements: Array<ElementProps>) {\n  const names = elements.map((element) => element.name);\n  const defaultNameLength = DEFAULT_INPUT_NAME.length;\n\n  return names.length > 0\n    ? Math.max(\n        ...names.map((name) => {\n          if (name.startsWith(DEFAULT_INPUT_NAME)) {\n            const index = name.substring(defaultNameLength, name.length);\n            const value = Number.parseInt(index);\n\n            if (!isNaN(value)) {\n              return value;\n            }\n          }\n\n          return 0;\n        }),\n      ) + 1\n    : 1;\n}\n\n// given an initial schema, update with a new card appended\nexport function addCardObj(parameters: {\n  schema: { [string]: any },\n  uischema: { [string]: any },\n  mods?: Mods,\n  onChange: ({ [string]: any }, { [string]: any }) => any,\n  definitionData: { [string]: any },\n  definitionUi: { [string]: any },\n  index?: number,\n  categoryHash: { [string]: string },\n}) {\n  const {\n    schema,\n    uischema,\n    mods,\n    onChange,\n    definitionData,\n    definitionUi,\n    index,\n    categoryHash,\n  } = parameters;\n  const newElementObjArr = generateElementPropsFromSchemas({\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    categoryHash,\n  });\n\n  const i = getIdFromElementsBlock(newElementObjArr);\n  const dataOptions = getNewElementDefaultDataOptions(i, mods);\n\n  const newElement = ({\n    name: `${DEFAULT_INPUT_NAME}${i}`,\n    required: false,\n    dataOptions: dataOptions,\n    uiOptions: (mods && mods.newElementDefaultUiSchema) || {},\n    propType: 'card',\n    schema: {},\n    uischema: {},\n    neighborNames: [],\n  }: ElementProps);\n\n  if (index !== undefined && index !== null) {\n    newElementObjArr.splice(index + 1, 0, newElement);\n  } else {\n    newElementObjArr.push(newElement);\n  }\n  updateSchemas(newElementObjArr, {\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    onChange,\n  });\n}\n\n// given an initial schema, update with a new section appended\nexport function addSectionObj(parameters: {\n  schema: { [string]: any },\n  uischema: { [string]: any },\n  onChange: ({ [string]: any }, { [string]: any }) => any,\n  definitionData: { [string]: any },\n  definitionUi: { [string]: any },\n  index?: number,\n  categoryHash: { [string]: string },\n}) {\n  const {\n    schema,\n    uischema,\n    onChange,\n    definitionData,\n    definitionUi,\n    index,\n    categoryHash,\n  } = parameters;\n  const newElementObjArr = generateElementPropsFromSchemas({\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    categoryHash,\n  });\n\n  const i = getIdFromElementsBlock(newElementObjArr);\n\n  const newElement = ({\n    name: `${DEFAULT_INPUT_NAME}${i}`,\n    required: false,\n    dataOptions: {\n      title: `New Input ${i}`,\n      type: 'object',\n      default: '',\n    },\n    uiOptions: {},\n    propType: 'section',\n    schema: { title: `New Input ${i}`, type: 'object' },\n    uischema: {},\n    neighborNames: [],\n  }: ElementProps);\n\n  if (index !== undefined && index !== null) {\n    newElementObjArr.splice(index + 1, 0, newElement);\n  } else {\n    newElementObjArr.push(newElement);\n  }\n  updateSchemas(newElementObjArr, {\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    onChange,\n  });\n}\n\n// generate an array of Card and Section components from a schema\nexport function generateElementComponentsFromSchemas(parameters: {\n  schemaData: { [string]: any },\n  uiSchemaData: { [string]: any },\n  onChange: ({ [string]: any }, { [string]: any }) => any,\n  definitionData?: { [string]: any },\n  definitionUi?: { [string]: any },\n  hideKey?: boolean,\n  path: string,\n  cardOpenArray: Array<boolean>,\n  setCardOpenArray: (newArr: Array<boolean>) => void,\n  allFormInputs: { [string]: FormInput },\n  mods?: Mods,\n  categoryHash: { [string]: string },\n  Card: React.AbstractComponent<{ [string]: any }>,\n  Section: React.AbstractComponent<{ [string]: any }>,\n}): Node[] {\n  const {\n    schemaData,\n    uiSchemaData,\n    onChange,\n    definitionData,\n    definitionUi,\n    hideKey,\n    path,\n    cardOpenArray,\n    setCardOpenArray,\n    allFormInputs,\n    mods,\n    categoryHash,\n    Card,\n    Section,\n  } = parameters;\n\n  const schema = parse(stringify(schemaData));\n  const uischema = parse(stringify(uiSchemaData));\n\n  if (!schema.properties) return [];\n  const elementPropArr = generateElementPropsFromSchemas({\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    categoryHash,\n  });\n\n  const elementList = elementPropArr.map((elementProp, index) => {\n    const expanded =\n      (cardOpenArray && index < cardOpenArray.length && cardOpenArray[index]) ||\n      false;\n    if (elementProp.propType === 'card') {\n      // choose the appropriate type specific parameters\n      const TypeSpecificParameters = getCardParameterInputComponentForType(\n        elementProp.dataOptions.category || 'string',\n        allFormInputs,\n      );\n\n      // add a fully defined card component to the list of components\n      return (\n        <Card\n          componentProps={Object.assign(\n            {\n              name: elementPropArr[index].name,\n              required: elementPropArr[index].required,\n              hideKey,\n              path: `${path}_${elementPropArr[index].name}`,\n              definitionData,\n              definitionUi,\n              neighborNames: elementPropArr[index].neighborNames,\n              dependents: elementPropArr[index].dependents,\n              dependent: elementPropArr[index].dependent,\n              parent: elementPropArr[index].parent,\n            },\n            elementPropArr[index].uiOptions,\n            elementPropArr[index].dataOptions,\n          )}\n          key={`${path}_${elementPropArr[index].name}`}\n          TypeSpecificParameters={TypeSpecificParameters}\n          onChange={(newCardObj: { [string]: any }) => {\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n\n            // extract uiOptions and other properties\n            const newDataProps = {};\n            const newUiProps = {};\n            Object.keys(newCardObj).forEach((propName) => {\n              if (propName.startsWith('ui:')) {\n                if (propName.startsWith('ui:*')) {\n                  newUiProps[propName.substring(4)] = newCardObj[propName];\n                } else {\n                  newUiProps[propName] = newCardObj[propName];\n                }\n              } else if (\n                ![\n                  'name',\n                  'required',\n                  'neighborNames',\n                  'dependents',\n                  'dependent',\n                  'parent',\n                ].includes(propName)\n              ) {\n                newDataProps[propName] = newCardObj[propName];\n              }\n            });\n\n            if (newElementObjArr[index].propType === 'card') {\n              const oldElement = newElementObjArr[index];\n              newElementObjArr[index] = {\n                ...oldElement,\n                dataOptions: newDataProps,\n                uiOptions: newUiProps,\n                required: newCardObj.required,\n                dependents: newCardObj.dependents,\n                dependent: newCardObj.dependent,\n                parent: newCardObj.parent,\n                name: newCardObj.name,\n                $ref: newCardObj.$ref,\n                propType: 'card',\n              };\n            } else {\n              throw new Error('Card editing non card element');\n            }\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onDelete={() => {\n            // splice out this index from the card array\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            newElementObjArr.splice(index, 1);\n            setCardOpenArray([\n              ...cardOpenArray.slice(0, index),\n              ...cardOpenArray.slice(index + 1),\n            ]);\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onMoveUp={() => {\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            if (index === 0) return;\n\n            const tempBlock = newElementObjArr[index - 1];\n            newElementObjArr[index - 1] = newElementObjArr[index];\n            newElementObjArr[index] = tempBlock;\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onMoveDown={() => {\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            if (index === elementPropArr.length - 1) return;\n\n            const tempBlock = newElementObjArr[index + 1];\n            newElementObjArr[index + 1] = newElementObjArr[index];\n            newElementObjArr[index] = tempBlock;\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          addElem={(choice: string) => {\n            if (choice === 'card') {\n              addCardObj({\n                schema,\n                uischema,\n                mods,\n                onChange,\n                definitionData: definitionData || {},\n                definitionUi: definitionUi || {},\n                index,\n                categoryHash,\n              });\n            } else if (choice === 'section') {\n              addSectionObj({\n                schema,\n                uischema,\n                onChange,\n                definitionData: definitionData || {},\n                definitionUi: definitionUi || {},\n                index,\n                categoryHash,\n              });\n            }\n            setCardOpenArray([...cardOpenArray, false]);\n          }}\n          cardOpen={expanded}\n          setCardOpen={(newState: boolean) =>\n            setCardOpenArray([\n              ...cardOpenArray.slice(0, index),\n              newState,\n              ...cardOpenArray.slice(index + 1),\n            ])\n          }\n          allFormInputs={allFormInputs}\n          mods={mods}\n        />\n      );\n    } else if (elementProp.propType === 'section') {\n      // create a section with the appropriate schemas here\n      return (\n        <Section\n          schema={elementProp.schema}\n          uischema={elementProp.uischema}\n          onChange={(\n            newSchema: { [string]: any },\n            newUiSchema: { [string]: any },\n            newRef?: string,\n          ) => {\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n\n            const oldSection = newElementObjArr[index];\n\n            newElementObjArr[index] = {\n              ...oldSection,\n              schema: newSchema,\n              uischema: newUiSchema,\n              propType: 'section',\n            };\n\n            if (newRef) newElementObjArr[index].$ref = newRef;\n\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onNameChange={(newName: string) => {\n            const oldSection = elementProp;\n\n            // check if newName overlaps with an existing name\n            if (elementPropArr.map((elem) => elem.name).includes(newName))\n              return;\n\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            newElementObjArr[index] = {\n              ...oldSection,\n              name: newName,\n            };\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onRequireToggle={() => {\n            const oldSection = elementProp;\n\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            newElementObjArr[index] = {\n              ...oldSection,\n              required: !oldSection.required,\n            };\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onDependentsChange={(\n            newDependents: Array<{\n              children: Array<string>,\n              value?: any,\n            }>,\n          ) => {\n            const oldSection = elementProp;\n\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            newElementObjArr[index] = {\n              ...oldSection,\n              dependents: newDependents,\n            };\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              onChange,\n              definitionData,\n              definitionUi,\n            });\n          }}\n          onDelete={() => {\n            // splice out this index from the card array\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            newElementObjArr.splice(index, 1);\n            setCardOpenArray([\n              ...cardOpenArray.slice(0, index),\n              ...cardOpenArray.slice(index + 1),\n            ]);\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onMoveUp={() => {\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            if (index === 0) return;\n\n            const tempBlock = newElementObjArr[index - 1];\n            newElementObjArr[index - 1] = newElementObjArr[index];\n            newElementObjArr[index] = tempBlock;\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          onMoveDown={() => {\n            const newElementObjArr = generateElementPropsFromSchemas({\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              categoryHash,\n            });\n            if (index === elementPropArr.length - 1) return;\n\n            const tempBlock = newElementObjArr[index + 1];\n            newElementObjArr[index + 1] = newElementObjArr[index];\n            newElementObjArr[index] = tempBlock;\n            updateSchemas(newElementObjArr, {\n              schema,\n              uischema,\n              definitionData,\n              definitionUi,\n              onChange,\n            });\n          }}\n          name={elementProp.name}\n          key={`${path}_${elementPropArr[index].name}`}\n          required={elementProp.required}\n          path={`${path}_${elementProp.name}`}\n          definitionData={definitionData || {}}\n          definitionUi={definitionUi || {}}\n          hideKey={hideKey}\n          reference={elementProp.$ref}\n          neighborNames={elementProp.neighborNames}\n          dependents={elementProp.dependents}\n          dependent={elementProp.dependent}\n          parent={elementProp.parent}\n          addElem={(choice: string) => {\n            if (choice === 'card') {\n              addCardObj({\n                schema,\n                uischema,\n                mods,\n                onChange,\n                definitionData: definitionData || {},\n                definitionUi: definitionUi || {},\n                index,\n                categoryHash,\n              });\n            } else if (choice === 'section') {\n              addSectionObj({\n                schema,\n                uischema,\n                onChange,\n                definitionData: definitionData || {},\n                definitionUi: definitionUi || {},\n                index,\n                categoryHash,\n              });\n            }\n            setCardOpenArray([...cardOpenArray, false]);\n          }}\n          cardOpen={expanded}\n          setCardOpen={(newState: boolean) =>\n            setCardOpenArray([\n              ...cardOpenArray.slice(0, index),\n              newState,\n              ...cardOpenArray.slice(index + 1),\n            ])\n          }\n          allFormInputs={allFormInputs}\n          categoryHash={categoryHash}\n          mods={mods}\n        />\n      );\n    } else {\n      return (\n        <div>\n          <h2> Error parsing element </h2>\n        </div>\n      );\n    }\n  });\n\n  return elementList;\n}\n\n// function called when drag and drop ends\nexport function onDragEnd(\n  result: any,\n  details: {\n    schema: { [string]: any },\n    uischema: { [string]: any },\n    onChange: ({ [string]: any }, { [string]: any }) => any,\n    definitionData?: { [string]: any },\n    definitionUi?: { [string]: any },\n    categoryHash: { [string]: string },\n  },\n) {\n  const {\n    schema,\n    uischema,\n    onChange,\n    definitionData,\n    definitionUi,\n    categoryHash,\n  } = details;\n  const src = result.source.index;\n  const dest = result.destination.index;\n  const newElementObjArr = generateElementPropsFromSchemas({\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    categoryHash,\n  });\n\n  const tempBlock = newElementObjArr[src];\n  newElementObjArr[src] = newElementObjArr[dest];\n  newElementObjArr[dest] = tempBlock;\n\n  updateSchemas(newElementObjArr, {\n    schema,\n    uischema,\n    definitionData: definitionData || {},\n    definitionUi: definitionUi || {},\n    onChange,\n  });\n}\n\n// helper function to recursively update sections\nfunction propagateElementChange(\n  elementArr: Array<ElementProps>,\n  definitionData: { [string]: any },\n  definitionUi: { [string]: any },\n  categoryHash: { [string]: string },\n) {\n  const updatedElementArr = [];\n  elementArr.forEach((element) => {\n    // update section and it's children\n    if (element.propType === 'section') {\n      const childrenElements = generateElementPropsFromSchemas({\n        schema: element.schema,\n        uischema: element.uischema,\n        definitionData,\n        definitionUi,\n        categoryHash,\n      });\n      const updatedChildren = propagateElementChange(\n        childrenElements,\n        definitionData,\n        definitionUi,\n        categoryHash,\n      );\n      const newUiSchema = Object.assign(\n        { ...element.uischema },\n        generateSchemaFromElementProps(updatedChildren),\n      );\n      const newSchema = Object.assign(\n        { ...element.schema },\n        generateSchemaFromElementProps(updatedChildren),\n      );\n      const newElement = {\n        ...element,\n        schema: newSchema,\n        uischema: newUiSchema,\n      };\n      updatedElementArr.push(newElement);\n    } else {\n      updatedElementArr.push(element);\n    }\n  });\n  return updatedElementArr;\n}\n\n// propogate changes in a schema and ui schema with updated definitions but outdated body componenents\nexport function propagateDefinitionChanges(\n  schema: { [string]: any },\n  uischema: { [string]: any },\n  onChange: ({ [string]: any }, { [string]: any }) => void,\n  categoryHash: { [string]: string },\n) {\n  const definitionData = schema.definitions;\n  const definitionUi = uischema.definitions;\n  const bodyElements = generateElementPropsFromSchemas({\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    categoryHash,\n  });\n  const updatedBodyElements = propagateElementChange(\n    bodyElements,\n    definitionData,\n    definitionUi,\n    categoryHash,\n  );\n\n  updateSchemas(updatedBodyElements, {\n    schema,\n    uischema,\n    definitionData,\n    definitionUi,\n    onChange,\n  });\n}\n\n// Member-wise subtraction of array2 from array1\nexport function subtractArray(\n  array1: Array<string>,\n  array2?: Array<string>,\n): Array<string> {\n  if (array2 === undefined || array2 === null) return array1;\n\n  const keys = array2.reduce((acc, curr) => {\n    acc[curr] = true;\n    return acc;\n  }, {});\n\n  return array1.filter((v) => !keys[v]);\n}\n\nexport function excludeKeys(\n  obj: { [string]: any },\n  keys: ?(string[]),\n): { [string]: any } {\n  if (!keys) return { ...obj };\n\n  const keysHash = keys.reduce((acc, curr) => {\n    acc[curr] = true;\n    return acc;\n  }, {});\n\n  return Object.keys(obj).reduce(\n    (acc, curr) => (keysHash[curr] ? acc : { ...acc, [curr]: obj[curr] }),\n    {},\n  );\n}\n\nexport function getNewElementDefaultDataOptions(\n  i: number,\n  mods?: Mods,\n): DataOptions {\n  if (mods && mods.newElementDefaultDataOptions !== undefined) {\n    const title = `${mods.newElementDefaultDataOptions.title} ${i}`;\n    return { ...mods.newElementDefaultDataOptions, ...{ title: title } };\n  } else {\n    return {\n      title: `New Input ${i}`,\n      type: 'string',\n      default: '',\n    };\n  }\n}\n\nexport function getRandomId(): string {\n  const chars = [\n    'a',\n    'b',\n    'c',\n    'd',\n    'e',\n    'f',\n    'g',\n    'h',\n    'i',\n    'j',\n    'k',\n    'l',\n    'm',\n    'n',\n    'o',\n    'p',\n    'q',\n    'r',\n    's',\n    't',\n    'u',\n    'v',\n    'w',\n    'x',\n    'y',\n    'z',\n  ];\n  const numberOfChars = chars.length;\n  const randomIdLength = 50;\n\n  return Array.from({ length: randomIdLength })\n    .map(() => chars[Math.floor(Math.random() * numberOfChars)])\n    .join('');\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport { getRandomId } from '../utils';\nimport Tooltip from '../Tooltip';\nimport type { Node } from 'react';\n\n// warning message if not all possibilities specified\nexport default function DependencyWarning({\n  parameters,\n}: {\n  parameters: {\n    [string]: any,\n    name?: string,\n    dependents?: Array<{\n      children: Array<string>,\n      value?: any,\n    }>,\n    type?: string,\n    enum?: Array<string | number>,\n    neighborNames?: Array<string>,\n    schema?: string,\n  },\n}): Node {\n  const [elementId] = useState(getRandomId());\n  if (\n    parameters.enum &&\n    parameters.dependents &&\n    parameters.dependents.length &&\n    parameters.dependents[0].value\n  ) {\n    // get the set of defined enum values\n    const definedVals = new Set([]);\n    (parameters.dependents || []).forEach((possibility) => {\n      if (possibility.value && possibility.value.enum)\n        possibility.value.enum.forEach((val) => definedVals.add(val));\n    });\n    const undefinedVals = [];\n    if (Array.isArray(parameters.enum))\n      parameters.enum.forEach((val) => {\n        if (!definedVals.has(val)) undefinedVals.push(val);\n      });\n    if (undefinedVals.length === 0) return null;\n    return (\n      <React.Fragment>\n        <p>\n          Warning! The following values do not have associated dependency\n          values:{' '}\n          <Tooltip\n            id={`${elementId}_valuewarning`}\n            type='help'\n            text='Each possible value for a value-based dependency must be defined to work properly'\n          />\n        </p>\n\n        <ul>\n          {undefinedVals.map((val, index) => (\n            <li key={index}>{val}</li>\n          ))}\n        </ul>\n      </React.Fragment>\n    );\n  }\n\n  return null;\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport Select from 'react-select';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport FontAwesomeIcon from '../FontAwesomeIcon';\nimport { getRandomId } from '../utils';\nimport type { Node } from 'react';\n\n// a field that lets you choose adjacent blocks\nexport default function CardSelector({\n  possibleChoices,\n  chosenChoices,\n  onChange,\n  placeholder,\n  path,\n}: {\n  possibleChoices: Array<string>,\n  chosenChoices: Array<string>,\n  onChange: (chosenChoices: Array<string>) => void,\n  placeholder: string,\n  path: string,\n}): Node {\n  const [elementId] = useState(getRandomId());\n  return (\n    <React.Fragment>\n      <ul>\n        {chosenChoices.map((chosenChoice, index) => (\n          <li key={`${elementId}_neighbor_${index}`}>\n            {chosenChoice}{' '}\n            <FontAwesomeIcon\n              icon={faTimes}\n              onClick={() =>\n                onChange([\n                  ...chosenChoices.slice(0, index),\n                  ...chosenChoices.slice(index + 1),\n                ])\n              }\n            />\n          </li>\n        ))}\n      </ul>\n      <Select\n        value={{\n          value: '',\n          label: '',\n        }}\n        placeholder={placeholder}\n        options={possibleChoices\n          .filter((choice) => !chosenChoices.includes(choice))\n          .map((choice) => ({\n            value: choice,\n            label: choice,\n          }))}\n        onChange={(val: any) => {\n          onChange([...chosenChoices, val.value]);\n        }}\n        className='card-modal-select'\n      />\n    </React.Fragment>\n  );\n}\n","// @flow\n\nimport * as React from 'react';\nimport { Input } from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport { faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport FontAwesomeIcon from './FontAwesomeIcon';\nimport type { Node } from 'react';\n\nconst useStyles = createUseStyles({\n  cardEnumOption: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    marginBottom: '.5em',\n    '& input': { width: '80%', marginRight: '1em', marginBottom: 0 },\n    '& .delete-button': {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n    },\n  },\n});\n\n// Input field corresponding to an array of values, add and remove\nexport default function CardEnumOptions({\n  initialValues,\n  names,\n  showNames,\n  onChange,\n  type,\n}: {\n  initialValues: Array<any>,\n  names?: Array<string>,\n  showNames: boolean,\n  onChange: (newEnums: Array<any>, newEnumNames?: Array<string>) => void,\n  type: string,\n}): Node {\n  const classes = useStyles();\n\n  const possibleValues = [];\n  for (let index = 0; index < initialValues.length; index += 1) {\n    const value = initialValues[index];\n    let name = `${value}`;\n    if (names && index < names.length) name = names[index];\n    possibleValues.push(\n      <div key={index} className={classes.cardEnumOption}>\n        <Input\n          value={value === undefined || value === null ? '' : value}\n          placeholder='Possible Value'\n          key={`val-${index}`}\n          type={type === 'string' ? 'text' : 'number'}\n          onChange={(ev: any) => {\n            let newVal;\n            switch (type) {\n              case 'string':\n                newVal = ev.target.value;\n                break;\n              case 'number':\n              case 'integer':\n                newVal = parseFloat(ev.target.value);\n                if (Number.isInteger(newVal))\n                  newVal = parseInt(ev.target.value, 10);\n                if (Number.isNaN(newVal)) newVal = type === 'string' ? '' : 0;\n                break;\n              default:\n                throw new Error(`Enum called with unknown type ${type}`);\n            }\n            onChange(\n              [\n                ...initialValues.slice(0, index),\n                newVal,\n                ...initialValues.slice(index + 1),\n              ],\n              names,\n            );\n          }}\n          className='card-text'\n        />\n        <Input\n          value={name || ''}\n          placeholder='Label'\n          key={`name-${index}`}\n          type='text'\n          onChange={(ev: any) => {\n            if (names)\n              onChange(initialValues, [\n                ...names.slice(0, index),\n                ev.target.value,\n                ...names.slice(index + 1),\n              ]);\n          }}\n          className='card-text'\n          style={{ display: showNames ? 'initial' : 'none' }}\n        />\n        <div className='delete-button'>\n          <FontAwesomeIcon\n            icon={faTimes}\n            onClick={() => {\n              // remove this value\n              onChange(\n                [\n                  ...initialValues.slice(0, index),\n                  ...initialValues.slice(index + 1),\n                ],\n                names\n                  ? [...names.slice(0, index), ...names.slice(index + 1)]\n                  : undefined,\n              );\n            }}\n          />\n        </div>\n      </div>,\n    );\n  }\n\n  return (\n    <React.Fragment>\n      {possibleValues}\n      <FontAwesomeIcon\n        icon={faPlus}\n        onClick={() => {\n          // add a new dropdown option\n          onChange(\n            [...initialValues, type === 'string' ? '' : 0],\n            names ? [...names, ''] : undefined,\n          );\n        }}\n      />\n    </React.Fragment>\n  );\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport { Input } from 'reactstrap';\nimport { faTimes, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport CardEnumOptions from '../CardEnumOptions';\nimport CardSelector from './CardSelector';\nimport FBCheckbox from '../checkbox/FBCheckbox';\nimport FontAwesomeIcon from '../FontAwesomeIcon';\nimport { getRandomId } from '../utils';\nimport type { Node } from 'react';\n\n// handle value options for different card types\nexport default function ValueSelector({\n  possibility,\n  onChange,\n  parentEnums,\n  parentType,\n  parentName,\n  parentSchema,\n  path,\n}: {\n  possibility: {\n    children: Array<string>,\n    value: any,\n  },\n  onChange: (newPossibility: {\n    children: Array<string>,\n    value?: any,\n  }) => void,\n  parentEnums?: Array<string | number>,\n  parentType?: string,\n  parentName?: string,\n  parentSchema?: any,\n  path: string,\n}): Node {\n  const [elementId] = useState(getRandomId());\n  if (possibility.value) {\n    // enum type\n    if (parentEnums) {\n      const enumType = typeof parentEnums[0] === 'number' ? 'number' : 'string';\n      if (enumType === 'string')\n        return (\n          <CardSelector\n            possibleChoices={parentEnums.map((val) => `${val}`)}\n            chosenChoices={possibility.value.enum}\n            onChange={(chosenChoices: Array<string>) =>\n              onChange({ ...possibility, value: { enum: chosenChoices } })\n            }\n            placeholder='Allowed value'\n            path={path}\n          />\n        );\n      if (enumType === 'number')\n        return (\n          <CardSelector\n            possibleChoices={parentEnums.map((val) => `${val}`)}\n            chosenChoices={possibility.value.enum}\n            onChange={(chosenChoices: Array<string>) =>\n              onChange({\n                ...possibility,\n                value: {\n                  enum: chosenChoices.map((val) => Number.parseFloat(val)),\n                },\n              })\n            }\n            placeholder='Allowed value'\n            path={path}\n          />\n        );\n    }\n    // check box type\n    if (parentType === 'boolean') {\n      return (\n        <FBCheckbox\n          onChangeValue={() => {\n            if (possibility.value.enum && possibility.value.enum[0]) {\n              onChange({\n                ...possibility,\n                value: { enum: [false] },\n              });\n            } else {\n              onChange({\n                ...possibility,\n                value: { enum: [true] },\n              });\n            }\n          }}\n          isChecked={possibility.value.enum && possibility.value.enum[0]}\n          label={parentName}\n        />\n      );\n    }\n    // object type\n    if (parentType === 'object') {\n      const enumArr = (possibility.value.enum: Array<any>);\n\n      return (\n        <div>\n          {enumArr.map((combination, index) => (\n            <li key={`${elementId}_possibleValue${index}`}>\n              {Object.keys(combination).map((key) => {\n                const val = combination[key];\n                return (\n                  <div key={key}>\n                    <h5>{key}:</h5>\n                    {\n                      {\n                        string: (\n                          <Input\n                            value={val || ''}\n                            placeholder='String value'\n                            type='string'\n                            onChange={(ev: any) => {\n                              const newVal = ev.target.value;\n                              const oldCombo = possibility.value.enum[index];\n                              onChange({\n                                ...possibility,\n                                value: {\n                                  enum: [\n                                    ...enumArr.slice(0, index),\n                                    { ...oldCombo, [key]: newVal },\n                                    ...enumArr.slice(index + 1),\n                                  ],\n                                },\n                              });\n                            }}\n                            className='card-modal-text'\n                          />\n                        ),\n                        number: (\n                          <Input\n                            value={val || ''}\n                            placeholder='Number value'\n                            type='number'\n                            onChange={(ev: any) => {\n                              const newVal = Number.parseFloat(ev.target.value);\n                              const oldCombo = possibility.value.enum[index];\n                              onChange({\n                                ...possibility,\n                                value: {\n                                  enum: [\n                                    ...enumArr.slice(0, index),\n                                    { ...oldCombo, [key]: newVal },\n                                    ...enumArr.slice(index + 1),\n                                  ],\n                                },\n                              });\n                            }}\n                            className='card-modal-number'\n                          />\n                        ),\n                        array: (\n                          <Input\n                            value={JSON.stringify(val) || ''}\n                            placeholder='Array in JSON'\n                            type='string'\n                            onChange={(ev: any) => {\n                              let newVal = val;\n                              try {\n                                newVal = JSON.parse(ev.target.value);\n                              } catch (error) {\n                                // eslint-disable-next-line no-console\n                                console.error('invalid JSON array input');\n                              }\n                              const oldCombo = possibility.value.enum[index];\n                              onChange({\n                                ...possibility,\n                                value: {\n                                  enum: [\n                                    ...enumArr.slice(0, index),\n                                    { ...oldCombo, [key]: newVal },\n                                    ...enumArr.slice(index + 1),\n                                  ],\n                                },\n                              });\n                            }}\n                            className='card-modal-text'\n                          />\n                        ),\n                        object: (\n                          <Input\n                            value={JSON.stringify(val) || ''}\n                            placeholder='Object in JSON'\n                            type='string'\n                            onChange={(ev: any) => {\n                              let newVal = val;\n                              try {\n                                newVal = JSON.parse(ev.target.value);\n                              } catch (error) {\n                                // eslint-disable-next-line no-console\n                                console.error('invalid JSON object input');\n                              }\n                              const oldCombo = possibility.value.enum[index];\n                              onChange({\n                                ...possibility,\n                                value: {\n                                  enum: [\n                                    ...enumArr.slice(0, index),\n                                    { ...oldCombo, [key]: newVal },\n                                    ...enumArr.slice(index + 1),\n                                  ],\n                                },\n                              });\n                            }}\n                            className='card-modal-text'\n                          />\n                        ),\n                      }[typeof val]\n                    }\n                  </div>\n                );\n              })}\n              <FontAwesomeIcon\n                icon={faTimes}\n                onClick={() =>\n                  onChange({\n                    ...possibility,\n                    value: {\n                      enum: [\n                        ...enumArr.slice(0, index),\n                        ...enumArr.slice(index + 1),\n                      ],\n                    },\n                  })\n                }\n              />\n            </li>\n          ))}\n          <FontAwesomeIcon\n            icon={faPlus}\n            onClick={() => {\n              const newCase = {};\n              const propArr = parentSchema ? parentSchema.properties : {};\n              Object.keys(propArr).forEach((key) => {\n                if (\n                  propArr[key].type === 'number' ||\n                  propArr[key].type === 'integer'\n                ) {\n                  newCase[key] = 0;\n                } else if (propArr[key].type === 'array' || propArr[key].enum) {\n                  newCase[key] = [];\n                } else if (\n                  propArr[key].type === 'object' ||\n                  propArr[key].properties\n                ) {\n                  newCase[key] = {};\n                } else {\n                  newCase[key] = '';\n                }\n              });\n              onChange({\n                ...possibility,\n                value: { enum: [...enumArr, newCase] },\n              });\n            }}\n          />\n        </div>\n      );\n    }\n    return (\n      <CardEnumOptions\n        initialValues={possibility.value.enum}\n        onChange={(newEnum: Array<any>) =>\n          onChange({ ...possibility, value: { enum: newEnum } })\n        }\n        type={parentType || 'string'}\n        showNames={false}\n      />\n    );\n  } else {\n    return <h5> Appear if defined </h5>;\n  }\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport Tooltip from '../Tooltip';\nimport CardSelector from './CardSelector';\nimport ValueSelector from './ValueSelector';\nimport FontAwesomeIcon from '../FontAwesomeIcon';\nimport { getRandomId } from '../utils';\nimport type { Node } from 'react';\n\n// a possible dependency\nexport default function DependencyPossibility({\n  possibility,\n  neighborNames,\n  path,\n  onChange,\n  onDelete,\n  parentEnums,\n  parentType,\n  parentName,\n  parentSchema,\n}: {\n  possibility: {\n    children: Array<string>,\n    value?: any,\n  },\n  neighborNames: Array<string>,\n  path: string,\n  onChange: (newPossibility: {\n    children: Array<string>,\n    value?: any,\n  }) => void,\n  onDelete: () => void,\n  parentEnums?: Array<string | number>,\n  parentType?: string,\n  parentName?: string,\n  parentSchema?: any,\n}): Node {\n  const [elementId] = useState(getRandomId());\n  return (\n    <div className='form-dependency-condition'>\n      <h5>\n        Display the following:{' '}\n        <Tooltip\n          id={`${elementId}_bulk`}\n          type='help'\n          text='Choose the other form elements that depend on this one'\n        />\n      </h5>\n      <CardSelector\n        possibleChoices={\n          neighborNames.filter((name) => name !== parentName) || []\n        }\n        chosenChoices={possibility.children}\n        onChange={(chosenChoices: Array<string>) =>\n          onChange({ ...possibility, children: [...chosenChoices] })\n        }\n        placeholder='Choose a dependent...'\n        path={path}\n      />\n      <h5>\n        If \"{parentName}\" has {possibility.value ? 'the value:' : 'a value.'}\n      </h5>\n      <div style={{ display: possibility.value ? 'block' : 'none' }}>\n        <ValueSelector\n          possibility={possibility}\n          onChange={(newPossibility: {\n            children: Array<string>,\n            value?: any,\n          }) => onChange(newPossibility)}\n          parentEnums={parentEnums}\n          parentType={parentType}\n          parentName={parentName}\n          parentSchema={parentSchema}\n          path={path}\n        />\n      </div>\n      <FontAwesomeIcon icon={faTimes} onClick={() => onDelete()} />\n    </div>\n  );\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport FBRadioGroup from '../radio/FBRadioGroup';\nimport Tooltip from '../Tooltip';\nimport DependencyWarning from './DependencyWarning';\nimport DependencyPossibility from './DependencyPossibility';\nimport FontAwesomeIcon from '../FontAwesomeIcon';\nimport { getRandomId } from '../utils';\nimport type { Node } from 'react';\n\nconst useStyles = createUseStyles({\n  dependencyField: {\n    '& .fa': { cursor: 'pointer' },\n    '& .plus': { marginLeft: '1em' },\n    '& h4': { marginBottom: '.5em' },\n    '& h5': { fontSize: '1em' },\n    '& .form-dependency-select': { fontSize: '0.75em', marginBottom: '1em' },\n    '& .form-dependency-conditions': {\n      textAlign: 'left',\n      '& .form-dependency-condition': {\n        padding: '1em',\n        border: '1px solid gray',\n        borderRadius: '4px',\n        margin: '1em',\n        '& *': { textAlign: 'initial' },\n      },\n    },\n    '& p': { fontSize: '0.75em' },\n    '& .fb-radio-button': {\n      display: 'block',\n    },\n  },\n});\n\n// checks whether an array corresponds to oneOf dependencies\nfunction checkIfValueBasedDependency(\n  dependents: Array<{\n    children: Array<string>,\n    value?: any,\n  }>,\n) {\n  let valueBased = true;\n  if (dependents && Array.isArray(dependents) && dependents.length > 0) {\n    dependents.forEach((possibility) => {\n      if (!possibility.value || !possibility.value.enum) {\n        valueBased = false;\n      }\n    });\n  } else {\n    valueBased = false;\n  }\n\n  return valueBased;\n}\n\ntype DependencyParams = {\n  [string]: any,\n  name?: string,\n  dependents?: Array<{\n    children: Array<string>,\n    value?: any,\n  }>,\n  type?: string,\n  enum?: Array<string | number>,\n  neighborNames?: Array<string>,\n  schema?: any,\n};\n\nexport default function DependencyField({\n  parameters,\n  onChange,\n}: {\n  parameters: DependencyParams,\n  onChange: (newParams: DependencyParams) => void,\n}): Node {\n  const [elementId] = useState(getRandomId());\n  const classes = useStyles();\n  const valueBased = checkIfValueBasedDependency(parameters.dependents || []);\n  return (\n    <div className={`form-dependency ${classes.dependencyField}`}>\n      <h4>\n        Dependencies{' '}\n        <Tooltip\n          id={`${elementId}_dependent`}\n          type='help'\n          text='Control whether other form elements show based on this one'\n        />\n      </h4>\n      {!!parameters.dependents && parameters.dependents.length > 0 && (\n        <React.Fragment>\n          <FBRadioGroup\n            defaultValue={valueBased ? 'value' : 'definition'}\n            horizontal={false}\n            options={[\n              {\n                value: 'definition',\n                label: 'Any value dependency',\n              },\n              {\n                value: 'value',\n                label: (\n                  <React.Fragment>\n                    Specific value dependency{' '}\n                    <Tooltip\n                      id={`${elementId}_valuebased`}\n                      type='help'\n                      text=\"Specify whether these elements should show based on this element's value\"\n                    />\n                  </React.Fragment>\n                ),\n              },\n            ]}\n            onChange={(selection) => {\n              if (parameters.dependents) {\n                const newDependents = [...parameters.dependents];\n                if (selection === 'definition') {\n                  parameters.dependents.forEach((possibility, index) => {\n                    newDependents[index] = {\n                      ...possibility,\n                      value: undefined,\n                    };\n                  });\n                } else {\n                  parameters.dependents.forEach((possibility, index) => {\n                    newDependents[index] = {\n                      ...possibility,\n                      value: { enum: [] },\n                    };\n                  });\n                }\n                onChange({\n                  ...parameters,\n                  dependents: newDependents,\n                });\n              }\n            }}\n          />\n        </React.Fragment>\n      )}\n      <DependencyWarning parameters={parameters} />\n      <div className='form-dependency-conditions'>\n        {parameters.dependents\n          ? parameters.dependents.map((possibility, index) => (\n              <DependencyPossibility\n                possibility={possibility}\n                neighborNames={parameters.neighborNames || []}\n                parentEnums={parameters.enum}\n                parentType={parameters.type}\n                parentName={parameters.name}\n                parentSchema={parameters.schema}\n                path={parameters.path}\n                key={`${elementId}_possibility${index}`}\n                onChange={(newPossibility: {\n                  children: Array<string>,\n                  value?: any,\n                }) => {\n                  const newDependents = parameters.dependents\n                    ? [...parameters.dependents]\n                    : [];\n                  newDependents[index] = newPossibility;\n                  onChange({\n                    ...parameters,\n                    dependents: newDependents,\n                  });\n                }}\n                onDelete={() => {\n                  const newDependents = parameters.dependents\n                    ? [...parameters.dependents]\n                    : [];\n                  onChange({\n                    ...parameters,\n                    dependents: [\n                      ...newDependents.slice(0, index),\n                      ...newDependents.slice(index + 1),\n                    ],\n                  });\n                }}\n              />\n            ))\n          : ''}\n\n        <span className='plus' id={`${elementId}_adddependency`}>\n          <FontAwesomeIcon\n            icon={faPlus}\n            onClick={() => {\n              const newDependents = parameters.dependents\n                ? [...parameters.dependents]\n                : [];\n              newDependents.push({\n                children: [],\n                value: valueBased ? { enum: [] } : undefined,\n              });\n              onChange({\n                ...parameters,\n                dependents: newDependents,\n              });\n            }}\n          />\n        </span>\n        <UncontrolledTooltip\n          placement='top'\n          target={`${elementId}_adddependency`}\n        >\n          Add another dependency relation linking this element and other form\n          elements\n        </UncontrolledTooltip>\n      </div>\n    </div>\n  );\n}\n","// @flow\n\nimport * as React from 'react';\nimport {\n  Modal,\n  ModalHeader,\n  Button,\n  ModalBody,\n  ModalFooter,\n  Input,\n} from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport DependencyField from './dependencies/DependencyField';\nimport type { Node } from 'react';\nimport type { Parameters } from './types';\nimport Tooltip from './Tooltip';\n\nconst useStyles = createUseStyles({\n  cardModal: {\n    '& .card-modal-header': { paddingTop: '.5em', paddingBottom: '.5em' },\n    '& .card-modal-entries': { padding: '1em' },\n    '& h4, h5, p, label, li': { marginTop: '.5em', marginBottom: '.5em' },\n    '& h5, p, label, li': { fontSize: '14px' },\n    '& h4': { fontSize: '16px' },\n    '& h3': { fontSize: '18px', marginBottom: 0 },\n    '& .card-modal-entries > div > input': {\n      marginBottom: '1em',\n      height: '32px',\n    },\n    '& .fa-question-circle': { color: 'var(--gray)' },\n    '& .card-modal-boolean': {\n      '& *': { marginRight: '0.25em', height: 'auto', display: 'inline-block' },\n    },\n    '& .card-modal-select': {\n      '& input': { margin: '0', height: '20px' },\n      marginBottom: '1em',\n    },\n  },\n});\n\nexport default function CardModal({\n  componentProps,\n  onChange,\n  isOpen,\n  onClose,\n  TypeSpecificParameters,\n}: {\n  componentProps: {\n    [string]: any,\n  },\n  onChange: (any) => void,\n  isOpen: boolean,\n  onClose: () => void,\n  TypeSpecificParameters: React.AbstractComponent<{\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n  }>,\n}): Node {\n  const classes = useStyles();\n  // assign state values for parameters that should only change on hitting \"Save\"\n  const [componentPropsState, setComponentProps] =\n    React.useState(componentProps);\n\n  React.useEffect(() => {\n    setComponentProps(componentProps);\n  }, [componentProps]);\n  return (\n    <Modal isOpen={isOpen} data-test='card-modal' className={classes.cardModal}>\n      <ModalHeader className='card-modal-header'>\n        <div style={{ display: componentProps.hideKey ? 'none' : 'initial' }}>\n          <h3>Additional Settings</h3>\n        </div>\n      </ModalHeader>\n      <ModalBody className='card-modal-entries'>\n        <TypeSpecificParameters\n          parameters={componentPropsState}\n          onChange={(newState: any) => {\n            setComponentProps({\n              ...componentPropsState,\n              ...newState,\n            });\n          }}\n        />\n        <div>\n          <h4>\n            Column Size{' '}\n            <a\n              href='https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Basic_Concepts_of_Grid_Layout'\n              target='_blank'\n              rel='noopener noreferrer'\n            >\n              <Tooltip\n                id='column_size_tooltip'\n                type='help'\n                text='Set the column size of the input'\n              />\n            </a>\n          </h4>\n          <Input\n            value={\n              componentPropsState['ui:column']\n                ? componentPropsState['ui:column']\n                : ''\n            }\n            placeholder='Column size'\n            key='ui:column'\n            type='number'\n            min={0}\n            onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n              setComponentProps({\n                ...componentPropsState,\n                'ui:column': ev.target.value,\n              });\n            }}\n            className='card-modal-text'\n          />\n        </div>\n        <DependencyField\n          parameters={(componentPropsState: { [string]: any })}\n          onChange={(newState: any) => {\n            setComponentProps({\n              ...componentPropsState,\n              ...newState,\n            });\n          }}\n        />\n      </ModalBody>\n      <ModalFooter>\n        <Button\n          onClick={() => {\n            onClose();\n            onChange(componentPropsState);\n          }}\n          color='primary'\n        >\n          Save\n        </Button>\n        <Button\n          onClick={() => {\n            onClose();\n            setComponentProps(componentProps);\n          }}\n          color='secondary'\n        >\n          Cancel\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n}\n","// @flow\n\nimport * as React from 'react';\nimport { getCardBody } from './utils';\nimport type { Node } from 'react';\nimport type { Parameters, Mods, FormInput } from './types';\n\n// specify the inputs required for any type of object\nexport default function GeneralParameterInputs({\n  category,\n  parameters,\n  onChange,\n  mods,\n  allFormInputs,\n}: {\n  category: string,\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n  mods?: Mods,\n  allFormInputs: { [string]: FormInput },\n}): Node {\n  const CardBody = getCardBody(category, allFormInputs);\n  return (\n    <div>\n      <CardBody parameters={parameters} onChange={onChange} mods={mods || {}} />\n    </div>\n  );\n}\n","// @flow\n\nimport React from 'react';\nimport Select from 'react-select';\nimport { Input, FormGroup, FormFeedback } from 'reactstrap';\nimport classnames from 'classnames';\nimport GeneralParameterInputs from './GeneralParameterInputs';\nimport {\n  defaultUiProps,\n  defaultDataProps,\n  categoryToNameMap,\n  categoryType,\n  subtractArray,\n  getRandomId,\n} from './utils';\nimport type { Node } from 'react';\nimport type { Parameters, Mods, FormInput } from './types';\nimport Tooltip from './Tooltip';\n\n// specify the inputs required for any type of object\nexport default function CardGeneralParameterInputs({\n  parameters,\n  onChange,\n  allFormInputs,\n  mods,\n  showObjectNameInput = true,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n  mods?: Mods,\n  allFormInputs: { [string]: FormInput },\n  showObjectNameInput?: boolean,\n}): Node {\n  const [keyState, setKeyState] = React.useState(parameters.name);\n  const [keyError, setKeyError] = React.useState(null);\n  const [titleState, setTitleState] = React.useState(parameters.title);\n  const [descriptionState, setDescriptionState] = React.useState(\n    parameters.description,\n  );\n  const [elementId] = React.useState(getRandomId());\n  const categoryMap = categoryToNameMap(parameters.category, allFormInputs);\n\n  const fetchLabel = (labelName: string, defaultLabel: string): string => {\n    return mods && mods.labels && typeof mods.labels[labelName] === 'string'\n      ? mods.labels[labelName]\n      : defaultLabel;\n  };\n\n  const objectNameLabel = fetchLabel('objectNameLabel', 'Object Name');\n  const displayNameLabel = fetchLabel('displayNameLabel', 'Display Name');\n  const descriptionLabel = fetchLabel('descriptionLabel', 'Description');\n  const inputTypeLabel = fetchLabel('inputTypeLabel', 'Input Type');\n\n  const availableInputTypes = () => {\n    const definitionsInSchema =\n      parameters.definitionData &&\n      Object.keys(parameters.definitionData).length !== 0;\n\n    // Hide the \"Reference\" option if there are no definitions in the schema\n    let inputKeys = Object.keys(categoryMap).filter(\n      (key) => key !== 'ref' || definitionsInSchema,\n    );\n    // Exclude hidden inputs based on mods\n    if (mods) inputKeys = subtractArray(inputKeys, mods.deactivatedFormInputs);\n\n    return inputKeys\n      .map((key) => ({ value: key, label: categoryMap[key] }))\n      .sort((a, b) => a.label.localeCompare(b.label));\n  };\n\n  return (\n    <React.Fragment>\n      <div className='card-entry-row'>\n        {showObjectNameInput && (\n          <div className='card-entry'>\n            <h5>\n              {`${objectNameLabel} `}\n              <Tooltip\n                text={\n                  mods &&\n                  mods.tooltipDescriptions &&\n                  typeof mods.tooltipDescriptions.cardObjectName === 'string'\n                    ? mods.tooltipDescriptions.cardObjectName\n                    : 'The back-end name of the object'\n                }\n                id={`${elementId}_nameinfo`}\n                type='help'\n              />\n            </h5>\n\n            <FormGroup>\n              <Input\n                invalid={keyError !== null}\n                value={keyState || ''}\n                placeholder='Key'\n                type='text'\n                onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n                  setKeyState(ev.target.value)\n                }\n                onBlur={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n                  const { value } = ev.target;\n                  if (\n                    value === parameters.name ||\n                    !(\n                      parameters.neighborNames &&\n                      parameters.neighborNames.includes(value)\n                    )\n                  ) {\n                    setKeyError(null);\n                    onChange({\n                      ...parameters,\n                      name: value,\n                    });\n                  } else {\n                    setKeyState(parameters.name);\n                    setKeyError(`\"${value}\" is already in use.`);\n                    onChange({ ...parameters });\n                  }\n                }}\n                className='card-text'\n              />\n              <FormFeedback>{keyError}</FormFeedback>\n            </FormGroup>\n          </div>\n        )}\n        <div\n          className={`card-entry ${\n            parameters.$ref === undefined ? '' : 'disabled-input'\n          }`}\n        >\n          <h5>\n            {`${displayNameLabel} `}\n            <Tooltip\n              text={\n                mods &&\n                mods.tooltipDescriptions &&\n                typeof mods.tooltipDescriptions.cardDisplayName === 'string'\n                  ? mods.tooltipDescriptions.cardDisplayName\n                  : 'The user-facing name of this object'\n              }\n              id={`${elementId}-titleinfo`}\n              type='help'\n            />\n          </h5>\n          <Input\n            value={titleState || ''}\n            placeholder='Title'\n            type='text'\n            onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n              setTitleState(ev.target.value)\n            }\n            onBlur={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n              onChange({ ...parameters, title: ev.target.value });\n            }}\n            className='card-text'\n          />\n        </div>\n      </div>\n      <div className='card-entry-row'>\n        <div\n          className={`card-entry ${parameters.$ref ? 'disabled-input' : ''}`}\n        >\n          <h5>\n            {`${descriptionLabel} `}\n            <Tooltip\n              text={\n                mods &&\n                mods.tooltipDescriptions &&\n                typeof mods.tooltipDescriptions.cardDescription === 'string'\n                  ? mods.tooltipDescriptions.cardDescription\n                  : 'This will appear as help text on the form'\n              }\n              id={`${elementId}-descriptioninfo`}\n              type='help'\n            />\n          </h5>\n          <FormGroup>\n            <Input\n              value={descriptionState || ''}\n              placeholder='Description'\n              type='text'\n              onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n                setDescriptionState(ev.target.value)\n              }\n              onBlur={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n                onChange({ ...parameters, description: ev.target.value });\n              }}\n              className='card-text'\n            />\n          </FormGroup>\n        </div>\n        <div\n          className={classnames('card-entry', {\n            'wide-card-entry': !showObjectNameInput,\n          })}\n        >\n          <h5>\n            {`${inputTypeLabel} `}\n            <Tooltip\n              text={\n                mods &&\n                mods.tooltipDescriptions &&\n                typeof mods.tooltipDescriptions.cardInputType === 'string'\n                  ? mods.tooltipDescriptions.cardInputType\n                  : 'The type of form input displayed on the form'\n              }\n              id={`${elementId}-inputinfo`}\n              type='help'\n            />\n          </h5>\n          <Select\n            value={{\n              value: parameters.category,\n              label: categoryMap[parameters.category],\n            }}\n            placeholder={inputTypeLabel}\n            options={availableInputTypes()}\n            onChange={(val: any) => {\n              // figure out the new 'type'\n              const newCategory = val.value;\n\n              const newProps = {\n                ...defaultUiProps(newCategory, allFormInputs),\n                ...defaultDataProps(newCategory, allFormInputs),\n                name: parameters.name,\n                required: parameters.required,\n              };\n              if (newProps.$ref !== undefined && !newProps.$ref) {\n                // assign an initial reference\n                const firstDefinition = Object.keys(\n                  parameters.definitionData,\n                )[0];\n                newProps.$ref = `#/definitions/${firstDefinition || 'empty'}`;\n              }\n              onChange({\n                ...newProps,\n                title: newProps.title || parameters.title,\n                default: newProps.default || '',\n                type: newProps.type || categoryType(newCategory, allFormInputs),\n                category: newProps.category || newCategory,\n              });\n            }}\n            className='card-select'\n          />\n        </div>\n      </div>\n\n      <div className='card-category-options'>\n        <GeneralParameterInputs\n          category={parameters.category}\n          parameters={parameters}\n          onChange={onChange}\n          mods={mods}\n          allFormInputs={allFormInputs}\n        />\n      </div>\n    </React.Fragment>\n  );\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport {\n  Popover,\n  PopoverHeader,\n  PopoverBody,\n  UncontrolledTooltip,\n  Button,\n} from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport { faPlusSquare } from '@fortawesome/free-solid-svg-icons';\nimport FontAwesomeIcon from './FontAwesomeIcon';\nimport FBRadioGroup from './radio/FBRadioGroup';\nimport { getRandomId } from './utils';\nimport type { Node } from 'react';\n\nconst useStyles = createUseStyles({\n  addDetails: {\n    '& .popover': {\n      width: '300px',\n      'z-index': '1051 !important',\n      '& .popover-inner': {\n        border: '1px solid #1d71ad',\n        borderRadius: '4px',\n        '& .popover-header': { borderBottom: '1px solid #1d71ad' },\n        '& .action-buttons': {\n          display: 'flex',\n          justifyContent: 'space-between',\n          marginTop: '.5em',\n        },\n      },\n    },\n  },\n});\n\nexport default function Add({\n  addElem,\n  hidden,\n}: {\n  addElem: (choice: string) => void,\n  hidden?: boolean,\n}): Node {\n  const classes = useStyles();\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const [createChoice, setCreateChoice] = useState('card');\n  const [elementId] = useState(getRandomId());\n\n  return (\n    <div style={{ display: hidden ? 'none' : 'initial' }}>\n      <span id={`${elementId}_add`}>\n        <FontAwesomeIcon\n          icon={faPlusSquare}\n          onClick={() => setPopoverOpen(true)}\n        />\n      </span>\n      <UncontrolledTooltip placement='top' target={`${elementId}_add`}>\n        Create new form element\n      </UncontrolledTooltip>\n      <Popover\n        placement='bottom'\n        target={`${elementId}_add`}\n        isOpen={popoverOpen}\n        toggle={() => setPopoverOpen(false)}\n        className={`add-details ${classes.addDetails}`}\n        id={`${elementId}_add_popover`}\n      >\n        <PopoverHeader>Create New</PopoverHeader>\n        <PopoverBody>\n          <FBRadioGroup\n            className='choose-create'\n            defaultValue={createChoice}\n            horizontal={false}\n            options={[\n              {\n                value: 'card',\n                label: 'Form element',\n              },\n              {\n                value: 'section',\n                label: 'Form section',\n              },\n            ]}\n            onChange={(selection) => {\n              setCreateChoice(selection);\n            }}\n          />\n          <div className='action-buttons'>\n            <Button onClick={() => setPopoverOpen(false)} color='secondary'>\n              Cancel\n            </Button>\n            <Button\n              onClick={() => {\n                addElem(createChoice);\n                setPopoverOpen(false);\n              }}\n              color='primary'\n            >\n              Create\n            </Button>\n          </div>\n        </PopoverBody>\n      </Popover>\n    </div>\n  );\n}\n","// @flow\n\nimport * as React from 'react';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport {\n  faArrowUp,\n  faArrowDown,\n  faPencilAlt,\n  faTrash,\n} from '@fortawesome/free-solid-svg-icons';\nimport FBCheckbox from './checkbox/FBCheckbox';\nimport Collapse from './Collapse/Collapse';\nimport CardModal from './CardModal';\nimport CardGeneralParameterInputs from './CardGeneralParameterInputs';\nimport Add from './Add';\nimport FontAwesomeIcon from './FontAwesomeIcon';\nimport Tooltip from './Tooltip';\nimport { getRandomId } from './utils';\nimport type { Node } from 'react';\nimport type { Parameters, Mods, FormInput } from './types';\n\nconst useStyles = createUseStyles({\n  cardEntries: {\n    'border-bottom': '1px solid gray',\n    margin: '.5em 1.5em 0 1.5em',\n    '& h5': {\n      color: 'black',\n      'font-size': '14px',\n      'font-weight': 'bold',\n    },\n    '& .card-entry-row': {\n      display: 'flex',\n    },\n    '& .card-entry': {\n      margin: 0,\n      width: '50%',\n      'text-align': 'left',\n      padding: '0.5em',\n      '&.wide-card-entry': {\n        width: '100%',\n      },\n    },\n    '& input': {\n      border: '1px solid gray',\n      'border-radius': '4px',\n    },\n    '& .card-category-options': {\n      padding: '.5em',\n    },\n    '& .card-select': {\n      border: '1px solid var(--gray)',\n      'border-radius': '4px',\n    },\n    '& .card-array': {\n      '& .fa-plus-square': { display: 'none' },\n      '& .section-entries': { '& .fa-plus-square': { display: 'initial' } },\n    },\n    '& .card-enum': {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      backgroundColor: 'var(--light-gray)',\n      textAlign: 'left',\n      padding: '1em',\n      '& h3': { fontSize: '16px', margin: '0 0 .5em 0' },\n      '& label': { color: 'black', fontSize: '14px' },\n      '& .card-enum-header': {\n        marginTop: '0.5em',\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        '& h5': { width: '50%', fontWeight: 'bold', fontSize: '14px' },\n      },\n      '& .fa': { cursor: 'pointer' },\n    },\n  },\n  cardInteractions: {\n    margin: '.5em 1.5em',\n    textAlign: 'left',\n    '& .fa': {\n      marginRight: '1em',\n      borderRadius: '4px',\n      padding: '.25em',\n      height: '25px',\n      width: '25px',\n    },\n    '& .fa-arrow-up, .fa-arrow-down': { marginRight: '.5em' },\n    '& .fa-trash': { border: '1px solid #DE5354', color: '#DE5354' },\n    '& .fb-checkbox': { display: 'inline-block' },\n    '& .interactions-left, & .interactions-right': {\n      display: 'inline-block',\n      width: '48%',\n      margin: '0 auto',\n    },\n    '& .interactions-left': { textAlign: 'left' },\n    '& .interactions-right': { textAlign: 'right' },\n  },\n});\n\nexport default function Card({\n  componentProps,\n  onChange,\n  onDelete,\n  onMoveUp,\n  onMoveDown,\n  TypeSpecificParameters,\n  addElem,\n  cardOpen,\n  setCardOpen,\n  allFormInputs,\n  mods,\n  showObjectNameInput = true,\n}: {\n  componentProps: {\n    [string]: string | number | boolean | Array<string | number>,\n    path: string,\n  },\n  onChange: ({ [string]: any }) => void,\n  onDelete?: () => void,\n  onMoveUp?: () => void,\n  onMoveDown?: () => void,\n  TypeSpecificParameters: React.AbstractComponent<{\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n  }>,\n  addElem?: (choice: string) => void,\n  cardOpen: boolean,\n  setCardOpen: (newState: boolean) => void,\n  mods?: Mods,\n  allFormInputs: { [string]: FormInput },\n  showObjectNameInput?: boolean,\n}): Node {\n  const classes = useStyles();\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const [elementId] = React.useState(getRandomId());\n\n  return (\n    <React.Fragment>\n      <Collapse\n        isOpen={cardOpen}\n        toggleCollapse={() => setCardOpen(!cardOpen)}\n        title={\n          <React.Fragment>\n            <span onClick={() => setCardOpen(!cardOpen)} className='label'>\n              {componentProps.title || componentProps.name}{' '}\n              {componentProps.parent ? (\n                <Tooltip\n                  text={`Depends on ${(componentProps.parent: any)}`}\n                  id={`${elementId}_parentinfo`}\n                  type='alert'\n                />\n              ) : (\n                ''\n              )}\n              {componentProps.$ref !== undefined ? (\n                <Tooltip\n                  text={`Is an instance of pre-configured component ${(componentProps.$ref: any)}`}\n                  id={`${elementId}_refinfo`}\n                  type='alert'\n                />\n              ) : (\n                ''\n              )}\n            </span>\n            <span className='arrows'>\n              <span id={`${elementId}_moveupbiginfo`}>\n                <FontAwesomeIcon\n                  icon={faArrowUp}\n                  onClick={() => (onMoveUp ? onMoveUp() : {})}\n                />\n              </span>\n              <UncontrolledTooltip\n                placement='top'\n                target={`${elementId}_moveupbiginfo`}\n              >\n                Move form element up\n              </UncontrolledTooltip>\n              <span id={`${elementId}_movedownbiginfo`}>\n                <FontAwesomeIcon\n                  icon={faArrowDown}\n                  onClick={() => (onMoveDown ? onMoveDown() : {})}\n                />\n              </span>\n              <UncontrolledTooltip\n                placement='top'\n                target={`${elementId}_movedownbiginfo`}\n              >\n                Move form element down\n              </UncontrolledTooltip>\n            </span>\n          </React.Fragment>\n        }\n        className={`card-container ${\n          componentProps.dependent ? 'card-dependent' : ''\n        } ${componentProps.$ref === undefined ? '' : 'card-reference'}`}\n      >\n        <div className={classes.cardEntries}>\n          <CardGeneralParameterInputs\n            parameters={(componentProps: any)}\n            onChange={onChange}\n            allFormInputs={allFormInputs}\n            mods={mods}\n            showObjectNameInput={showObjectNameInput}\n          />\n        </div>\n        <div className={classes.cardInteractions}>\n          <span id={`${elementId}_editinfo`}>\n            <FontAwesomeIcon\n              icon={faPencilAlt}\n              onClick={() => setModalOpen(true)}\n            />\n          </span>\n          <UncontrolledTooltip placement='top' target={`${elementId}_editinfo`}>\n            Additional configurations for this form element\n          </UncontrolledTooltip>\n          <span id={`${elementId}_trashinfo`}>\n            <FontAwesomeIcon icon={faTrash} onClick={onDelete || (() => {})} />\n          </span>\n          <UncontrolledTooltip\n            placement='top'\n            target={`${elementId}_trashinfo`}\n          >\n            Delete form element\n          </UncontrolledTooltip>\n          <FBCheckbox\n            onChangeValue={() =>\n              onChange({\n                ...componentProps,\n                required: !componentProps.required,\n              })\n            }\n            isChecked={!!componentProps.required}\n            label='Required'\n            id={`${elementId}_required`}\n          />\n        </div>\n        <CardModal\n          componentProps={componentProps}\n          isOpen={modalOpen}\n          onClose={() => setModalOpen(false)}\n          onChange={(newComponentProps: {\n            [string]: string | number | boolean | Array<string | number>,\n          }) => {\n            onChange(newComponentProps);\n          }}\n          TypeSpecificParameters={TypeSpecificParameters}\n        />\n      </Collapse>\n      {addElem ? <Add addElem={(choice: string) => addElem(choice)} /> : ''}\n    </React.Fragment>\n  );\n}\n","// @flow\nimport * as React from 'react';\nimport { Input } from 'reactstrap';\nimport Select from 'react-select';\nimport { createUseStyles } from 'react-jss';\nimport FBCheckbox from '../checkbox/FBCheckbox';\nimport CardEnumOptions from '../CardEnumOptions';\nimport { getRandomId } from '../utils';\nimport type { Node } from 'react';\nimport type { Parameters, FormInput } from '../types';\n\nconst useStyles = createUseStyles({\n  hidden: {\n    display: 'none',\n  },\n});\n\n// specify the inputs required for a string type object\nexport function CardDefaultParameterInputs({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (Parameters) => void,\n}): Node {\n  return <div />;\n}\n\nconst getInputCardBodyComponent = ({ type }: { type: string }) =>\n  function InputCardBodyComponent({\n    parameters,\n    onChange,\n  }: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n  }) {\n    return (\n      <React.Fragment>\n        <h5>Default value</h5>\n        <Input\n          value={parameters.default || ''}\n          placeholder='Default'\n          type={type}\n          onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n            onChange({ ...parameters, default: ev.target.value })\n          }\n          className='card-text'\n        />\n      </React.Fragment>\n    );\n  };\n\nfunction Checkbox({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  return (\n    <div className='card-boolean'>\n      <FBCheckbox\n        onChangeValue={() => {\n          onChange({\n            ...parameters,\n            default: parameters.default ? parameters.default !== true : true,\n          });\n        }}\n        isChecked={parameters.default ? parameters.default === true : false}\n        label='Default'\n      />\n    </div>\n  );\n}\n\nfunction MultipleChoice({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  const classes = useStyles();\n  const enumArray = Array.isArray(parameters.enum) ? parameters.enum : [];\n  // eslint-disable-next-line no-restricted-globals\n  const containsUnparsableString = enumArray.some((val) => isNaN(val));\n  const containsString =\n    containsUnparsableString ||\n    enumArray.some((val) => typeof val === 'string');\n  const [isNumber, setIsNumber] = React.useState(\n    !!enumArray.length && !containsString,\n  );\n  const [elementId] = React.useState(getRandomId());\n  return (\n    <div className='card-enum'>\n      <h3>Possible Values</h3>\n      <FBCheckbox\n        onChangeValue={() => {\n          if (Array.isArray(parameters.enumNames)) {\n            // remove the enumNames\n            onChange({\n              ...parameters,\n              enumNames: null,\n            });\n          } else {\n            // create enumNames as a copy of enum values\n            onChange({\n              ...parameters,\n              enumNames: enumArray.map((val) => `${val}`),\n            });\n          }\n        }}\n        isChecked={Array.isArray(parameters.enumNames)}\n        label='Display label is different from value'\n        id={`${elementId}_different`}\n      />\n      <div\n        className={\n          containsUnparsableString || !enumArray.length ? classes.hidden : ''\n        }\n      >\n        <FBCheckbox\n          onChangeValue={() => {\n            if (containsString || !isNumber) {\n              // attempt converting enum values into numbers\n              try {\n                const newEnum = enumArray.map((val) => {\n                  let newNum = 0;\n                  if (val) newNum = parseFloat(val) || 0;\n                  if (Number.isNaN(newNum))\n                    throw new Error(`Could not convert ${val}`);\n                  return newNum;\n                });\n                setIsNumber(true);\n                onChange({\n                  ...parameters,\n                  enum: newEnum,\n                });\n              } catch (error) {\n                // eslint-disable-next-line no-console\n                console.error(error);\n              }\n            } else {\n              // convert enum values back into strings\n              const newEnum = enumArray.map((val) => `${val || 0}`);\n              setIsNumber(false);\n              onChange({\n                ...parameters,\n                enum: newEnum,\n              });\n            }\n          }}\n          isChecked={isNumber}\n          disabled={containsUnparsableString}\n          label='Force number'\n          id={`${elementId}_forceNumber`}\n        />\n      </div>\n      <CardEnumOptions\n        initialValues={enumArray}\n        names={\n          Array.isArray(parameters.enumNames)\n            ? parameters.enumNames.map((val) => `${val}`)\n            : undefined\n        }\n        showNames={Array.isArray(parameters.enumNames)}\n        onChange={(newEnum: Array<string>, newEnumNames?: Array<string>) =>\n          onChange({\n            ...parameters,\n            enum: newEnum,\n            enumNames: newEnumNames,\n          })\n        }\n        type={isNumber ? 'number' : 'string'}\n      />\n    </div>\n  );\n}\n\nconst defaultInputs: { [string]: FormInput } = {\n  dateTime: {\n    displayName: 'Date-Time',\n    matchIf: [\n      {\n        types: ['string'],\n        format: 'date-time',\n      },\n    ],\n    defaultDataSchema: {\n      format: 'date-time',\n    },\n    defaultUiSchema: {},\n    type: 'string',\n    cardBody: getInputCardBodyComponent({ type: 'datetime-local' }),\n    modalBody: CardDefaultParameterInputs,\n  },\n  date: {\n    displayName: 'Date',\n    matchIf: [\n      {\n        types: ['string'],\n        format: 'date',\n      },\n    ],\n    defaultDataSchema: {\n      format: 'date',\n    },\n    defaultUiSchema: {},\n    type: 'string',\n    cardBody: getInputCardBodyComponent({ type: 'date' }),\n    modalBody: CardDefaultParameterInputs,\n  },\n  time: {\n    displayName: 'Time',\n    matchIf: [\n      {\n        types: ['string'],\n        format: 'time',\n      },\n    ],\n    defaultDataSchema: {\n      format: 'time',\n    },\n    defaultUiSchema: {},\n    type: 'string',\n    cardBody: getInputCardBodyComponent({ type: 'time' }),\n    modalBody: CardDefaultParameterInputs,\n  },\n  checkbox: {\n    displayName: 'Checkbox',\n    matchIf: [\n      {\n        types: ['boolean'],\n      },\n    ],\n    defaultDataSchema: {},\n    defaultUiSchema: {},\n    type: 'boolean',\n    cardBody: Checkbox,\n    modalBody: CardDefaultParameterInputs,\n  },\n  radio: {\n    displayName: 'Radio',\n    matchIf: [\n      {\n        types: ['string', 'number', 'integer', 'array', 'boolean', 'null'],\n        widget: 'radio',\n        enum: true,\n      },\n    ],\n    defaultDataSchema: { enum: [] },\n    defaultUiSchema: {\n      'ui:widget': 'radio',\n    },\n    type: 'string',\n    cardBody: MultipleChoice,\n    modalBody: CardDefaultParameterInputs,\n  },\n  dropdown: {\n    displayName: 'Dropdown',\n    matchIf: [\n      {\n        types: ['string', 'number', 'integer', 'array', 'boolean', 'null'],\n        enum: true,\n      },\n    ],\n    defaultDataSchema: { enum: [] },\n    defaultUiSchema: {},\n    type: 'string',\n    cardBody: MultipleChoice,\n    modalBody: CardDefaultParameterInputs,\n  },\n};\n\nexport default defaultInputs;\n","// @flow\nimport React, { useState } from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Select from 'react-select';\nimport { createUseStyles } from 'react-jss';\nimport {\n  Alert,\n  Input,\n  UncontrolledTooltip,\n  FormGroup,\n  FormFeedback,\n} from 'reactstrap';\nimport {\n  faArrowUp,\n  faArrowDown,\n  faPencilAlt,\n  faTrash,\n} from '@fortawesome/free-solid-svg-icons';\nimport FBCheckbox from './checkbox/FBCheckbox';\nimport Collapse from './Collapse/Collapse';\nimport CardModal from './CardModal';\nimport { CardDefaultParameterInputs } from './defaults/defaultInputs';\nimport Tooltip from './Tooltip';\nimport Add from './Add';\nimport Card from './Card';\nimport {\n  checkForUnsupportedFeatures,\n  generateElementComponentsFromSchemas,\n  countElementsFromSchema,\n  addCardObj,\n  addSectionObj,\n  onDragEnd,\n} from './utils';\nimport FontAwesomeIcon from './FontAwesomeIcon';\nimport { getRandomId } from './utils';\nimport type { Node } from 'react';\nimport type { FormInput, Mods } from './types';\n\nconst useStyles = createUseStyles({\n  sectionContainer: {\n    '& .section-head': {\n      display: 'flex',\n      borderBottom: '1px solid var(--gray)',\n      margin: '0.5em 1.5em 0 1.5em',\n      '& h5': {\n        color: 'black',\n        fontSize: '14px',\n        fontWeight: 'bold',\n      },\n      '& .section-entry': {\n        width: '33%',\n        textAlign: 'left',\n        padding: '0.5em',\n      },\n      '& .section-reference': { width: '100%' },\n    },\n    '& .section-footer': {\n      marginTop: '1em',\n      textAlign: 'center',\n      '& .fa': { cursor: 'pointer' },\n    },\n    '& .section-interactions': {\n      margin: '0.5em 1.5em',\n      textAlign: 'left',\n      borderTop: '1px solid var(--gray)',\n      paddingTop: '1em',\n      '& .fa': {\n        marginRight: '1em',\n        borderRadius: '4px',\n        padding: '0.25em',\n        height: '25px',\n        width: '25px',\n      },\n      '& .fa-pencil-alt, & .fa-arrow-up, & .fa-arrow-down': {\n        border: '1px solid #1d71ad',\n        color: '#1d71ad',\n      },\n      '& .fa-trash': { border: '1px solid #de5354', color: '#de5354' },\n      '& .fa-arrow-up, & .fa-arrow-down': { marginRight: '0.5em' },\n      '& .fb-checkbox': {\n        display: 'inline-block',\n        label: { color: '#9aa4ab' },\n      },\n      '& .interactions-left, & .interactions-right': {\n        display: 'inline-block',\n        width: '48%',\n        margin: '0 auto',\n      },\n      '& .interactions-left': { textAlign: 'left' },\n      '& .interactions-right': { textAlign: 'right' },\n    },\n  },\n});\n\nexport default function Section({\n  name,\n  required,\n  schema,\n  uischema,\n  onChange,\n  onNameChange,\n  onRequireToggle,\n  onDependentsChange,\n  onDelete,\n  onMoveUp,\n  onMoveDown,\n  path,\n  definitionData,\n  definitionUi,\n  hideKey,\n  reference,\n  dependents,\n  dependent,\n  parent,\n  neighborNames,\n  addElem,\n  cardOpen,\n  setCardOpen,\n  allFormInputs,\n  mods,\n  categoryHash,\n}: {\n  name: string,\n  required: boolean,\n  schema: { [string]: any },\n  uischema: { [string]: any },\n  onChange: (\n    schema: { [string]: any },\n    uischema: { [string]: any },\n    ref?: string,\n  ) => void,\n  onNameChange: (string) => void,\n  onDependentsChange: (\n    Array<{\n      children: Array<string>,\n      value?: any,\n    }>,\n  ) => void,\n  onRequireToggle: () => any,\n  onDelete: () => any,\n  onMoveUp?: () => any,\n  onMoveDown?: () => any,\n  path: string,\n  definitionData: { [string]: any },\n  definitionUi: { [string]: any },\n  hideKey?: boolean,\n  reference?: string,\n  dependents?: Array<{\n    children: Array<string>,\n    value?: any,\n  }>,\n  dependent?: boolean,\n  parent?: string,\n  neighborNames?: Array<string>,\n  addElem?: (choice: string) => void,\n  cardOpen: boolean,\n  setCardOpen: (newState: boolean) => void,\n  allFormInputs: { [string]: FormInput },\n  mods?: Mods,\n  categoryHash: { [string]: string },\n}): Node {\n  const classes = useStyles();\n  const unsupportedFeatures = checkForUnsupportedFeatures(\n    schema || {},\n    uischema || {},\n    allFormInputs,\n  );\n  const schemaData = schema || {};\n  const elementNum = countElementsFromSchema(schemaData);\n  const defaultCollapseStates = [...Array(elementNum)].map(() => false);\n  const [cardOpenArray, setCardOpenArray] = React.useState(\n    defaultCollapseStates,\n  );\n  // keep name in state to avoid losing focus\n  const [keyName, setKeyName] = React.useState(name);\n  const [keyError, setKeyError] = React.useState(null);\n  // keep requirements in state to avoid rapid updates\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const [elementId] = React.useState(getRandomId());\n\n  return (\n    <React.Fragment>\n      <Collapse\n        isOpen={cardOpen}\n        toggleCollapse={() => setCardOpen(!cardOpen)}\n        title={\n          <React.Fragment>\n            <span onClick={() => setCardOpen(!cardOpen)} className='label'>\n              {schemaData.title || keyName}{' '}\n              {parent ? (\n                <Tooltip\n                  text={`Depends on ${parent}`}\n                  id={`${elementId}_parentinfo`}\n                  type='alert'\n                />\n              ) : (\n                ''\n              )}\n            </span>\n            <span className='arrows'>\n              <span id={`${elementId}_moveupbiginfo`}>\n                <FontAwesomeIcon\n                  icon={faArrowUp}\n                  onClick={() => (onMoveUp ? onMoveUp() : {})}\n                />\n              </span>\n              <UncontrolledTooltip\n                placement='top'\n                target={`${elementId}_moveupbiginfo`}\n              >\n                Move form element up\n              </UncontrolledTooltip>\n              <span id={`${elementId}_movedownbiginfo`}>\n                <FontAwesomeIcon\n                  icon={faArrowDown}\n                  onClick={() => (onMoveDown ? onMoveDown() : {})}\n                />\n              </span>\n              <UncontrolledTooltip\n                placement='top'\n                target={`${elementId}_movedownbiginfo`}\n              >\n                Move form element down\n              </UncontrolledTooltip>\n            </span>\n          </React.Fragment>\n        }\n        className={`section-container ${classes.sectionContainer} ${\n          dependent ? 'section-dependent' : ''\n        } ${reference ? 'section-reference' : ''}`}\n      >\n        <div\n          className={`section-entries ${reference ? 'section-reference' : ''}`}\n        >\n          <div className='section-head'>\n            {reference ? (\n              <div className='section-entry section-reference'>\n                <h5>Reference Section</h5>\n                <Select\n                  value={{\n                    value: reference,\n                    label: reference,\n                  }}\n                  placeholder='Reference'\n                  options={Object.keys(definitionData).map((key) => ({\n                    value: `#/definitions/${key}`,\n                    label: `#/definitions/${key}`,\n                  }))}\n                  onChange={(val: any) => {\n                    onChange(schema, uischema, val.value);\n                  }}\n                  className='section-select'\n                />\n              </div>\n            ) : (\n              ''\n            )}\n            <div className='section-entry' data-test='section-object-name'>\n              <h5>\n                Section Object Name{' '}\n                <Tooltip\n                  text={\n                    mods &&\n                    mods.tooltipDescriptions &&\n                    mods.tooltipDescriptions &&\n                    typeof mods.tooltipDescriptions.cardSectionObjectName ===\n                      'string'\n                      ? mods.tooltipDescriptions.cardSectionObjectName\n                      : 'The key to the object that will represent this form section.'\n                  }\n                  id={`${elementId}_nameinfo`}\n                  type='help'\n                />\n              </h5>\n              <FormGroup>\n                <Input\n                  invalid={keyError !== null}\n                  value={keyName || ''}\n                  placeholder='Key'\n                  type='text'\n                  onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n                    setKeyName(ev.target.value)\n                  }\n                  onBlur={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n                    const { value } = ev.target;\n                    if (\n                      value === name ||\n                      !(neighborNames && neighborNames.includes(value))\n                    ) {\n                      setKeyError(null);\n                      onNameChange(value);\n                    } else {\n                      setKeyName(name);\n                      setKeyError(`\"${value}\" is already in use.`);\n                      onNameChange(name);\n                    }\n                  }}\n                  className='card-text'\n                  readOnly={hideKey}\n                />\n                <FormFeedback>{keyError}</FormFeedback>\n              </FormGroup>\n            </div>\n            <div className='section-entry' data-test='section-display-name'>\n              <h5>\n                Section Display Name{' '}\n                <Tooltip\n                  text={\n                    mods &&\n                    mods.tooltipDescriptions &&\n                    mods.tooltipDescriptions &&\n                    typeof mods.tooltipDescriptions.cardSectionDisplayName ===\n                      'string'\n                      ? mods.tooltipDescriptions.cardSectionDisplayName\n                      : 'The name of the form section that will be shown to users of the form.'\n                  }\n                  id={`${elementId}_titleinfo`}\n                  type='help'\n                />\n              </h5>\n              <Input\n                value={schemaData.title || ''}\n                placeholder='Title'\n                type='text'\n                onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n                  onChange(\n                    {\n                      ...schema,\n                      title: ev.target.value,\n                    },\n                    uischema,\n                  )\n                }\n                className='card-text'\n              />\n            </div>\n            <div className='section-entry' data-test='section-description'>\n              <h5>\n                Section Description{' '}\n                <Tooltip\n                  text={\n                    mods &&\n                    mods.tooltipDescriptions &&\n                    mods.tooltipDescriptions &&\n                    typeof mods.tooltipDescriptions.cardSectionDescription ===\n                      'string'\n                      ? mods.tooltipDescriptions.cardSectionDescription\n                      : 'A description of the section which will be visible on the form.'\n                  }\n                  id={`${elementId}_descriptioninfo`}\n                  type='help'\n                />\n              </h5>\n              <Input\n                value={schemaData.description || ''}\n                placeholder='Description'\n                type='text'\n                onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n                  onChange(\n                    {\n                      ...schema,\n                      description: ev.target.value,\n                    },\n                    uischema,\n                  )\n                }\n                className='card-text'\n              />\n            </div>\n            <Alert\n              style={{\n                display: unsupportedFeatures.length === 0 ? 'none' : 'block',\n              }}\n              color='warning'\n            >\n              <h5>Unsupported Features:</h5>\n              {unsupportedFeatures.map((message) => (\n                <li key={`${elementId}_${message}`}>{message}</li>\n              ))}\n            </Alert>\n          </div>\n          <div className='section-body'>\n            <DragDropContext\n              onDragEnd={(result) =>\n                onDragEnd(result, {\n                  schema,\n                  uischema,\n                  onChange,\n                  definitionData,\n                  definitionUi,\n                  categoryHash,\n                })\n              }\n              className='section-body'\n            >\n              <Droppable droppableId='droppable'>\n                {(providedDroppable) => (\n                  <div\n                    ref={providedDroppable.innerRef}\n                    {...providedDroppable.droppableProps}\n                  >\n                    {generateElementComponentsFromSchemas({\n                      schemaData: schema,\n                      uiSchemaData: uischema,\n                      onChange,\n                      path,\n                      definitionData,\n                      definitionUi,\n                      cardOpenArray,\n                      setCardOpenArray,\n                      allFormInputs,\n                      mods,\n                      categoryHash,\n                      Card,\n                      Section,\n                    }).map((element: any, index) => (\n                      <Draggable\n                        key={element.key}\n                        draggableId={element.key}\n                        index={index}\n                      >\n                        {(providedDraggable) => (\n                          <div\n                            ref={providedDraggable.innerRef}\n                            {...providedDraggable.draggableProps}\n                            {...providedDraggable.dragHandleProps}\n                          >\n                            {element}\n                          </div>\n                        )}\n                      </Draggable>\n                    ))}\n                    {providedDroppable.placeholder}\n                  </div>\n                )}\n              </Droppable>\n            </DragDropContext>\n          </div>\n          <div className='section-footer'>\n            <Add\n              addElem={(choice: string) => {\n                if (choice === 'card') {\n                  addCardObj({\n                    schema,\n                    uischema,\n                    mods,\n                    onChange,\n                    definitionData,\n                    definitionUi,\n                    categoryHash,\n                  });\n                } else if (choice === 'section') {\n                  addSectionObj({\n                    schema,\n                    uischema,\n                    onChange,\n                    definitionData,\n                    definitionUi,\n                    categoryHash,\n                  });\n                }\n              }}\n              hidden={\n                schemaData.properties &&\n                Object.keys(schemaData.properties).length !== 0\n              }\n            />\n          </div>\n          <div className='section-interactions'>\n            <span id={`${elementId}_editinfo`}>\n              <FontAwesomeIcon\n                icon={faPencilAlt}\n                onClick={() => setModalOpen(true)}\n              />\n            </span>\n            <UncontrolledTooltip\n              placement='top'\n              target={`${elementId}_editinfo`}\n            >\n              Additional configurations for this form element\n            </UncontrolledTooltip>\n            <span id={`${elementId}_trashinfo`}>\n              <FontAwesomeIcon\n                icon={faTrash}\n                onClick={() => (onDelete ? onDelete() : {})}\n              />\n            </span>\n            <UncontrolledTooltip\n              placement='top'\n              target={`${elementId}_trashinfo`}\n            >\n              Delete form element\n            </UncontrolledTooltip>\n            <FBCheckbox\n              onChangeValue={() => onRequireToggle()}\n              isChecked={required}\n              label='Required'\n              id={`${elementId}_required`}\n            />\n          </div>\n        </div>\n        <CardModal\n          componentProps={{\n            dependents,\n            neighborNames,\n            name: keyName,\n            schema,\n            type: 'object',\n            'ui:column': uischema['ui:column'] ?? '',\n          }}\n          isOpen={modalOpen}\n          onClose={() => setModalOpen(false)}\n          onChange={(newComponentProps: { [string]: any }) => {\n            onDependentsChange(newComponentProps.dependents);\n\n            onChange(schema, {\n              ...uischema,\n              'ui:column': newComponentProps['ui:column'],\n            });\n          }}\n          TypeSpecificParameters={CardDefaultParameterInputs}\n        />\n      </Collapse>\n      {addElem ? <Add addElem={(choice: string) => addElem(choice)} /> : ''}\n    </React.Fragment>\n  );\n}\n","// @flow\n\nexport const arrows = {\n  '& .arrows': {\n    float: 'right',\n    '& .fa-arrow-up, & .fa-arrow-down': {\n      'border-radius': '4px',\n      padding: '.25em',\n      margin: '0 .5em 0 0',\n      border: '1px solid #1d71ad',\n      color: '#1d71ad',\n      height: '28px',\n      width: '28px',\n    },\n  },\n};\n","// @flow\n\nimport React, { useState } from 'react';\nimport type { Node } from 'react';\nimport type { Parameters } from '../types';\nimport { getRandomId } from '../utils';\nimport Tooltip from '../Tooltip';\nimport { Input } from 'reactstrap';\n\nexport function PlaceholderInput({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (Parameters) => void,\n}): Node {\n  const [elementId] = useState(getRandomId());\n  return (\n    <React.Fragment>\n      <h4>\n        Placeholder{' '}\n        <a\n          href='https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-placeholder'\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <Tooltip\n            id={`${elementId}_placeholder`}\n            type='help'\n            text='Hint to the user as to what kind of information is expected in the field'\n          />\n        </a>\n      </h4>\n      <Input\n        value={parameters['ui:placeholder']}\n        placeholder='Placeholder'\n        key='placeholder'\n        type='text'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            'ui:placeholder': ev.target.value,\n          });\n        }}\n        className='card-modal-text'\n      />\n    </React.Fragment>\n  );\n}\n","// @flow\n\nimport React, { useState } from 'react';\nimport Select from 'react-select';\nimport { Input } from 'reactstrap';\nimport FBCheckbox from '../checkbox/FBCheckbox';\nimport Tooltip from '../Tooltip';\nimport { getRandomId } from '../utils';\nimport type { Parameters, FormInput } from '../types';\nimport { PlaceholderInput } from '../inputs/PlaceholderInput';\n\nconst formatDictionary = {\n  '': 'None',\n  email: 'Email',\n  hostname: 'Hostname',\n  uri: 'URI',\n  regex: 'Regular Expression',\n};\n\nconst formatTypeDictionary = {\n  email: 'email',\n  url: 'uri',\n};\n\nconst autoDictionary = {\n  '': 'None',\n  email: 'Email',\n  username: 'User Name',\n  password: 'Password',\n  'street-address': 'Street Address',\n  country: 'Country',\n};\n\n// specify the inputs required for a string type object\nfunction CardShortAnswerParameterInputs({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  const [elementId] = useState(getRandomId());\n  return (\n    <div>\n      <h4>Minimum Length</h4>\n      <Input\n        value={parameters.minLength ? parameters.minLength : ''}\n        placeholder='Minimum Length'\n        key='minLength'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            minLength: parseInt(ev.target.value, 10),\n          });\n        }}\n        className='card-modal-number'\n      />\n      <h4>Maximum Length</h4>\n      <Input\n        value={parameters.maxLength ? parameters.maxLength : ''}\n        placeholder='Maximum Length'\n        key='maxLength'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            maxLength: parseInt(ev.target.value, 10),\n          });\n        }}\n        className='card-modal-number'\n      />\n      <h4>\n        Regular Expression Pattern{' '}\n        <a\n          href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions'\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <Tooltip\n            id={`${elementId}_regex`}\n            type='help'\n            text='Regular expression pattern that this must satisfy'\n          />\n        </a>\n      </h4>\n      <Input\n        value={parameters.pattern ? parameters.pattern : ''}\n        placeholder='Regular Expression Pattern'\n        key='pattern'\n        type='text'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            pattern: ev.target.value,\n          });\n        }}\n        className='card-modal-text'\n      />\n      <h4>\n        Format{' '}\n        <Tooltip\n          id={`${elementId}_format`}\n          type='help'\n          text='Require string input to match a certain common format'\n        />\n      </h4>\n      <Select\n        value={{\n          value: parameters.format\n            ? formatDictionary[\n                typeof parameters.format === 'string' ? parameters.format : ''\n              ]\n            : '',\n          label: parameters.format\n            ? formatDictionary[\n                typeof parameters.format === 'string' ? parameters.format : ''\n              ]\n            : 'None',\n        }}\n        placeholder='Format'\n        key='format'\n        options={Object.keys(formatDictionary).map((key) => ({\n          value: key,\n          label: formatDictionary[key],\n        }))}\n        onChange={(val: any) => {\n          onChange({\n            ...parameters,\n            format: val.value,\n          });\n        }}\n        className='card-modal-select'\n      />\n      <h5>\n        Auto Complete Category{' '}\n        <a\n          href='https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete'\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <Tooltip\n            id={`${elementId}_autocomplete`}\n            type='help'\n            text=\"Suggest entries based on the user's browser history\"\n          />\n        </a>\n      </h5>\n      <Select\n        value={{\n          value: parameters['ui:autocomplete']\n            ? autoDictionary[\n                typeof parameters['ui:autocomplete'] === 'string'\n                  ? parameters['ui:autocomplete']\n                  : ''\n              ]\n            : '',\n          label: parameters['ui:autocomplete']\n            ? autoDictionary[\n                typeof parameters['ui:autocomplete'] === 'string'\n                  ? parameters['ui:autocomplete']\n                  : ''\n              ]\n            : 'None',\n        }}\n        placeholder='Auto Complete'\n        key='ui:autocomplete'\n        options={Object.keys(autoDictionary).map((key) => ({\n          value: key,\n          label: autoDictionary[key],\n        }))}\n        onChange={(val: any) => {\n          onChange({\n            ...parameters,\n            'ui:autocomplete': val.value,\n          });\n        }}\n        className='card-modal-select'\n      />\n      <PlaceholderInput parameters={parameters} onChange={onChange} />\n      <h4>\n        Column Size{' '}\n        <a\n          href='https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Basic_Concepts_of_Grid_Layout'\n          target='_blank'\n          rel='noopener noreferrer'\n        >\n          <Tooltip\n            id={`${elementId}_column_size`}\n            type='help'\n            text='Set the column size of the input'\n          />\n        </a>\n      </h4>\n      <Input\n        value={parameters['ui:column'] ? parameters['ui:column'] : ''}\n        placeholder='Column size'\n        key='ui:column'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            'ui:column': ev.target.value,\n          });\n        }}\n        className='card-modal-text'\n      />\n      <div className='card-modal-boolean'>\n        <FBCheckbox\n          onChangeValue={() => {\n            onChange({\n              ...parameters,\n              'ui:autofocus': parameters['ui:autofocus']\n                ? parameters['ui:autofocus'] !== true\n                : true,\n            });\n          }}\n          isChecked={\n            parameters['ui:autofocus']\n              ? parameters['ui:autofocus'] === true\n              : false\n          }\n          label='Auto Focus'\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction ShortAnswerField({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  return (\n    <React.Fragment>\n      <h5>Default value</h5>\n      <Input\n        value={parameters.default}\n        placeholder='Default'\n        type={formatTypeDictionary[parameters.format] || 'text'}\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n          onChange({ ...parameters, default: ev.target.value })\n        }\n        className='card-text'\n      />\n    </React.Fragment>\n  );\n}\n\nfunction Password({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  return (\n    <React.Fragment>\n      <h5>Default password</h5>\n      <Input\n        value={parameters.default}\n        placeholder='Default'\n        type='password'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n          onChange({ ...parameters, default: ev.target.value })\n        }\n        className='card-text'\n      />\n    </React.Fragment>\n  );\n}\n\nconst shortAnswerInput: { [string]: FormInput } = {\n  shortAnswer: {\n    displayName: 'Short Answer',\n    matchIf: [\n      {\n        types: ['string'],\n      },\n      ...['email', 'hostname', 'uri', 'regex'].map((format) => ({\n        types: ['string'],\n        format,\n      })),\n    ],\n    defaultDataSchema: {},\n    defaultUiSchema: {},\n    type: 'string',\n    cardBody: ShortAnswerField,\n    modalBody: CardShortAnswerParameterInputs,\n  },\n  password: {\n    displayName: 'Password',\n    matchIf: [\n      {\n        types: ['string'],\n        widget: 'password',\n      },\n    ],\n    defaultDataSchema: {},\n    defaultUiSchema: {\n      'ui:widget': 'password',\n    },\n    type: 'string',\n    cardBody: Password,\n    modalBody: CardShortAnswerParameterInputs,\n  },\n};\n\nexport default shortAnswerInput;\n","// @flow\n\nimport React, { useState } from 'react';\nimport { Input } from 'reactstrap';\nimport FBCheckbox from '../checkbox/FBCheckbox';\nimport Tooltip from '../Tooltip';\nimport { getRandomId } from '../utils';\nimport type { Parameters, FormInput } from '../types';\nimport { PlaceholderInput } from '../inputs/PlaceholderInput';\n\n// specify the inputs required for a string type object\nfunction CardLongAnswerParameterInputs({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  const [elementId] = useState(getRandomId());\n  return (\n    <div>\n      <h4>Minimum Length</h4>\n      <Input\n        value={parameters.minLength ? parameters.minLength : ''}\n        placeholder='Minimum Length'\n        key='minLength'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            minLength: parseInt(ev.target.value, 10),\n          });\n        }}\n        className='card-modal-number'\n      />\n      <h4>Maximum Length</h4>\n      <Input\n        value={parameters.maxLength ? parameters.maxLength : ''}\n        placeholder='Maximum Length'\n        key='maxLength'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            maxLength: parseInt(ev.target.value, 10),\n          });\n        }}\n        className='card-modal-number'\n      />\n      <h4>\n        Regular Expression Pattern{' '}\n        <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions'>\n          <Tooltip\n            id={`${elementId}_regex`}\n            type='help'\n            text='Regular expression pattern that this must satisfy'\n          />\n        </a>\n      </h4>\n      <Input\n        value={parameters.pattern ? parameters.pattern : ''}\n        placeholder='Regular Expression Pattern'\n        key='pattern'\n        type='text'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            pattern: ev.target.value,\n          });\n        }}\n        className='card-modal-text'\n      />\n      <PlaceholderInput parameters={parameters} onChange={onChange} />\n      <div className='card-modal-boolean'>\n        <FBCheckbox\n          onChangeValue={() => {\n            onChange({\n              ...parameters,\n              'ui:autofocus': parameters['ui:autofocus']\n                ? parameters['ui:autofocus'] !== true\n                : true,\n            });\n          }}\n          isChecked={\n            parameters['ui:autofocus']\n              ? parameters['ui:autofocus'] === true\n              : false\n          }\n          label='Auto Focus'\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction LongAnswer({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  return (\n    <React.Fragment>\n      <h5>Default value</h5>\n      <Input\n        value={parameters.default}\n        placeholder='Default'\n        type='textarea'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n          onChange({ ...parameters, default: ev.target.value })\n        }\n        className='card-textarea'\n      />\n    </React.Fragment>\n  );\n}\n\nconst longAnswerInput: { [string]: FormInput } = {\n  longAnswer: {\n    displayName: 'Long Answer',\n    matchIf: [\n      {\n        types: ['string'],\n        widget: 'textarea',\n      },\n    ],\n    defaultDataSchema: {},\n    defaultUiSchema: {\n      'ui:widget': 'textarea',\n    },\n    type: 'string',\n    cardBody: LongAnswer,\n    modalBody: CardLongAnswerParameterInputs,\n  },\n};\n\nexport default longAnswerInput;\n","// @flow\n\nimport React, { useState } from 'react';\nimport { Input } from 'reactstrap';\nimport FBCheckbox from '../checkbox/FBCheckbox';\nimport Tooltip from '../Tooltip';\nimport { getRandomId } from '../utils';\nimport type { Parameters, FormInput } from '../types';\n\n// specify the inputs required for a number type object\nfunction CardNumberParameterInputs({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  const [elementId] = useState(getRandomId());\n  return (\n    <div>\n      <h4>\n        Multiple of{' '}\n        <Tooltip\n          id={`${elementId}_multiple`}\n          type='help'\n          text='Require number to be a multiple of this number'\n        />\n      </h4>\n      <Input\n        value={parameters.multipleOf ? parameters.multipleOf : ''}\n        placeholder='ex: 2'\n        key='multipleOf'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          let newVal = parseFloat(ev.target.value);\n          if (Number.isNaN(newVal)) newVal = null;\n          onChange({\n            ...parameters,\n            multipleOf: newVal,\n          });\n        }}\n        className='card-modal-number'\n      />\n      <h4>Minimum</h4>\n      <Input\n        value={parameters.minimum || parameters.exclusiveMinimum || ''}\n        placeholder='ex: 3'\n        key='minimum'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          let newVal = parseFloat(ev.target.value);\n          if (Number.isNaN(newVal)) newVal = null;\n          // change either min or exclusiveMin depending on which one is active\n          if (parameters.exclusiveMinimum) {\n            onChange({\n              ...parameters,\n              exclusiveMinimum: newVal,\n              minimum: null,\n            });\n          } else {\n            onChange({\n              ...parameters,\n              minimum: newVal,\n              exclusiveMinimum: null,\n            });\n          }\n        }}\n        className='card-modal-number'\n      />\n      <div className='card-modal-boolean'>\n        <FBCheckbox\n          key='exclusiveMinimum'\n          onChangeValue={() => {\n            const newMin = parameters.minimum || parameters.exclusiveMinimum;\n            if (parameters.exclusiveMinimum) {\n              onChange({\n                ...parameters,\n                exclusiveMinimum: null,\n                minimum: newMin,\n              });\n            } else {\n              onChange({\n                ...parameters,\n                exclusiveMinimum: newMin,\n                minimum: null,\n              });\n            }\n          }}\n          isChecked={!!parameters.exclusiveMinimum}\n          disabled={!parameters.minimum && !parameters.exclusiveMinimum}\n          label='Exclusive Minimum'\n        />\n      </div>\n      <h4>Maximum</h4>\n      <Input\n        value={parameters.maximum || parameters.exclusiveMaximum || ''}\n        placeholder='ex: 8'\n        key='maximum'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          let newVal = parseFloat(ev.target.value);\n          if (Number.isNaN(newVal)) newVal = null;\n          // change either max or exclusiveMax depending on which one is active\n          if (parameters.exclusiveMinimum) {\n            onChange({\n              ...parameters,\n              exclusiveMaximum: newVal,\n              maximum: null,\n            });\n          } else {\n            onChange({\n              ...parameters,\n              maximum: newVal,\n              exclusiveMaximum: null,\n            });\n          }\n        }}\n        className='card-modal-number'\n      />\n      <div className='card-modal-boolean'>\n        <FBCheckbox\n          key='exclusiveMaximum'\n          onChangeValue={() => {\n            const newMax = parameters.maximum || parameters.exclusiveMaximum;\n            if (parameters.exclusiveMaximum) {\n              onChange({\n                ...parameters,\n                exclusiveMaximum: null,\n                maximum: newMax,\n              });\n            } else {\n              onChange({\n                ...parameters,\n                exclusiveMaximum: newMax,\n                maximum: null,\n              });\n            }\n          }}\n          isChecked={!!parameters.exclusiveMaximum}\n          disabled={!parameters.maximum && !parameters.exclusiveMaximum}\n          label='Exclusive Maximum'\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction NumberField({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  return (\n    <React.Fragment>\n      <h5>Default number</h5>\n      <Input\n        value={parameters.default}\n        placeholder='Default'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n          onChange({\n            ...parameters,\n            default: parseFloat(ev.target.value),\n          })\n        }\n        className='card-number'\n      />\n    </React.Fragment>\n  );\n}\n\nconst numberInputs: { [string]: FormInput } = {\n  integer: {\n    displayName: 'Integer',\n    matchIf: [\n      {\n        types: ['integer'],\n      },\n      {\n        types: ['integer'],\n        widget: 'number',\n      },\n    ],\n    defaultDataSchema: {},\n    defaultUiSchema: {},\n    type: 'integer',\n    cardBody: NumberField,\n    modalBody: CardNumberParameterInputs,\n  },\n  number: {\n    displayName: 'Number',\n    matchIf: [\n      {\n        types: ['number'],\n      },\n    ],\n    defaultDataSchema: {},\n    defaultUiSchema: {},\n    type: 'number',\n    cardBody: NumberField,\n    modalBody: CardNumberParameterInputs,\n  },\n};\n\nexport default numberInputs;\n","// @flow\n\nimport React, { useState } from 'react';\nimport { Input } from 'reactstrap';\nimport {\n  excludeKeys,\n  generateElementComponentsFromSchemas,\n  generateCategoryHash,\n} from '../utils';\nimport Card from '../Card';\nimport Section from '../Section';\nimport FBCheckbox from '../checkbox/FBCheckbox';\nimport shortAnswerInputs from './shortAnswerInputs';\nimport longAnswerInputs from './longAnswerInputs';\nimport numberInputs from './numberInputs';\nimport defaultInputs from './defaultInputs';\nimport { getRandomId } from '../utils';\nimport type { CardBody, Parameters, Mods, FormInput } from '../types';\n\n// specify the inputs required for a string type object\nfunction CardArrayParameterInputs({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: ({ [string]: any }) => void,\n}) {\n  return (\n    <div>\n      <h4>Minimum Items</h4>\n      <Input\n        value={parameters.minItems || ''}\n        placeholder='ex: 2'\n        key='minimum'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            minItems: parseInt(ev.target.value, 10),\n          });\n        }}\n        className='card-modal-number'\n      />\n      <h4>Maximum Items</h4>\n      <Input\n        value={parameters.maxItems || ''}\n        placeholder='ex: 2'\n        key='maximum'\n        type='number'\n        onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n          onChange({\n            ...parameters,\n            maxItems: parseInt(ev.target.value, 10),\n          });\n        }}\n        className='card-modal-number'\n      />\n    </div>\n  );\n}\n\nfunction getInnerCardComponent({\n  defaultFormInputs,\n}: {\n  defaultFormInputs: { [string]: FormInput },\n}): CardBody {\n  return function InnerCard({\n    parameters,\n    onChange,\n    mods,\n  }: {\n    parameters: Parameters,\n    onChange: (newParams: Parameters) => void,\n    mods?: Mods,\n  }) {\n    const [elementId] = useState(getRandomId);\n    const newDataProps = {};\n    const newUiProps = {};\n    const allFormInputs = excludeKeys(\n      Object.assign(\n        {},\n        defaultFormInputs,\n        (mods && mods.customFormInputs) || {},\n      ),\n      mods && mods.deactivatedFormInputs,\n    );\n\n    // parse components into data and ui relevant pieces\n    Object.keys(parameters).forEach((propName) => {\n      if (propName.startsWith('ui:*')) {\n        newUiProps[propName.substring(4)] = parameters[propName];\n      } else if (propName.startsWith('ui:')) {\n        newUiProps[propName] = parameters[propName];\n      } else if (!['name', 'required'].includes(propName)) {\n        newDataProps[propName] = parameters[propName];\n      }\n    });\n\n    const definitionData = parameters.definitionData\n      ? parameters.definitionData\n      : {};\n    const definitionUi = parameters.definitionUi ? parameters.definitionUi : {};\n    const [cardOpen, setCardOpen] = React.useState(false);\n    if (parameters.type !== 'array') {\n      return <h4>Not an array </h4>;\n    }\n    return (\n      <div className='card-array'>\n        <FBCheckbox\n          onChangeValue={() => {\n            if (newDataProps.items.type === 'object') {\n              onChange({\n                ...parameters,\n                items: {\n                  ...newDataProps.items,\n                  type: 'string',\n                },\n              });\n            } else {\n              onChange({\n                ...parameters,\n                items: {\n                  ...newDataProps.items,\n                  type: 'object',\n                },\n              });\n            }\n          }}\n          isChecked={newDataProps.items.type === 'object'}\n          label='Section'\n          id={`${elementId}_issection`}\n        />\n        {generateElementComponentsFromSchemas({\n          schemaData: { properties: { item: newDataProps.items } },\n          uiSchemaData: { item: newUiProps.items },\n          onChange: (schema, uischema) => {\n            onChange({\n              ...parameters,\n              items: schema.properties.item,\n              'ui:*items': uischema.item || {},\n            });\n          },\n          path: elementId,\n          definitionData,\n          definitionUi,\n          hideKey: true,\n          cardOpenArray: [cardOpen],\n          setCardOpenArray: (newArr) => setCardOpen(newArr[0]),\n          allFormInputs,\n          mods,\n          categoryHash: generateCategoryHash(allFormInputs),\n          Card: (props) => <Card {...props} showObjectNameInput={false} />,\n          Section,\n        })}\n      </div>\n    );\n  };\n}\n\nconst defaultFormInputs = ({\n  ...defaultInputs,\n  ...shortAnswerInputs,\n  ...longAnswerInputs,\n  ...numberInputs,\n}: { [string]: FormInput });\ndefaultFormInputs.array = {\n  displayName: 'Array',\n  matchIf: [\n    {\n      types: ['array'],\n    },\n  ],\n  defaultDataSchema: {\n    items: { type: 'string' },\n  },\n  defaultUiSchema: {},\n  type: 'array',\n  cardBody: getInnerCardComponent({ defaultFormInputs }),\n  modalBody: CardArrayParameterInputs,\n};\n\nconst ArrayInputs: { [string]: FormInput } = {\n  array: {\n    displayName: 'Array',\n    matchIf: [\n      {\n        types: ['array'],\n      },\n    ],\n    defaultDataSchema: {\n      items: { type: 'string' },\n    },\n    defaultUiSchema: {},\n    type: 'array',\n    cardBody: getInnerCardComponent({ defaultFormInputs }),\n    modalBody: CardArrayParameterInputs,\n  },\n};\n\nexport default ArrayInputs;\n","// @flow\n\nimport type { FormInput, Parameters } from '../types';\nimport Select from 'react-select';\nimport React, { useState } from 'react';\nimport type { Node } from 'react';\nimport { PlaceholderInput } from '../inputs/PlaceholderInput';\n\nexport function CardReferenceParameterInputs({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (Parameters) => void,\n}): Node {\n  return (\n    <div>\n      <PlaceholderInput parameters={parameters} onChange={onChange} />\n    </div>\n  );\n}\n\nfunction RefChoice({\n  parameters,\n  onChange,\n}: {\n  parameters: Parameters,\n  onChange: (newParams: Parameters) => void,\n}) {\n  const pathArr = (parameters.$ref || '').split('/');\n  const currentValueLabel =\n    pathArr.length === 3 &&\n    pathArr[0] === '#' &&\n    pathArr[1] === 'definitions' &&\n    (parameters.definitionData || {})[pathArr[2]]\n      ? parameters.definitionData[pathArr[2]].title || parameters.$ref\n      : parameters.$ref;\n\n  return (\n    <div className='card-select'>\n      <Select\n        value={{\n          value: parameters.$ref,\n          label: currentValueLabel,\n        }}\n        placeholder='Reference'\n        options={Object.keys(parameters.definitionData || {}).map((key) => ({\n          value: `#/definitions/${key}`,\n          label: parameters.definitionData[key].title || `#/definitions/${key}`,\n        }))}\n        onChange={(val: any) => {\n          onChange({ ...parameters, $ref: val.value });\n        }}\n        className='card-select'\n      />\n    </div>\n  );\n}\n\nconst referenceInputs: { [string]: FormInput } = {\n  ref: {\n    displayName: 'Reference',\n    matchIf: [\n      {\n        types: ['null'],\n        $ref: true,\n      },\n    ],\n    defaultDataSchema: {\n      $ref: '',\n      title: '',\n      description: '',\n    },\n    defaultUiSchema: {},\n    type: 'string',\n    cardBody: RefChoice,\n    modalBody: CardReferenceParameterInputs,\n  },\n};\n\nexport default referenceInputs;\n","// @flow\nimport shortAnswerInputs from './shortAnswerInputs';\nimport longAnswerInputs from './longAnswerInputs';\nimport numberInputs from './numberInputs';\nimport arrayInputs from './arrayInputs';\nimport defaultInputs from './defaultInputs';\nimport referenceInputs from './referenceInputs';\nimport type { FormInput } from '../types';\n\nconst DEFAULT_FORM_INPUTS = ({\n  ...defaultInputs,\n  ...referenceInputs,\n  ...shortAnswerInputs,\n  ...longAnswerInputs,\n  ...numberInputs,\n  ...arrayInputs,\n}: { [string]: FormInput });\n\nexport default DEFAULT_FORM_INPUTS;\n","// @flow\nimport * as React from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Alert, Input } from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\nimport Card from './Card';\nimport Section from './Section';\nimport Add from './Add';\nimport { arrows as arrowsStyle } from './styles';\nimport {\n  parse,\n  stringify,\n  checkForUnsupportedFeatures,\n  generateElementComponentsFromSchemas,\n  addCardObj,\n  addSectionObj,\n  onDragEnd,\n  countElementsFromSchema,\n  generateCategoryHash,\n  excludeKeys,\n} from './utils';\nimport DEFAULT_FORM_INPUTS from './defaults/defaultFormInputs';\nimport type { Node } from 'react';\nimport type { Mods } from './types';\n\nconst useStyles = createUseStyles({\n  formBuilder: {\n    'text-align': 'center',\n    '& .fa': {\n      cursor: 'pointer',\n    },\n    '& .fa-question-circle': {\n      color: 'gray',\n    },\n    '& .fa-asterisk': {\n      'font-size': '.9em',\n      color: 'green',\n    },\n    '& .fa-plus-square': {\n      color: 'green',\n      'font-size': '1.5em',\n      margin: '0 auto',\n    },\n    ...arrowsStyle,\n    '& .card-container': {\n      '&:hover': {\n        border: '1px solid green',\n      },\n      display: 'block',\n      width: '70%',\n      'min-width': '400px',\n      margin: '2em auto',\n      border: '1px solid gray',\n      'border-radius': '4px',\n      'background-color': 'white',\n      '& h4': {\n        width: '100%',\n        'text-align': 'left',\n        display: 'inline-block',\n        color: '#138AC2',\n        margin: '0.25em .5em 0 .5em',\n        'font-size': '18px',\n      },\n      '& .d-flex': {\n        'border-bottom': '1px solid gray',\n      },\n      '& .label': {\n        float: 'left',\n      },\n    },\n    '& .card-dependent': {\n      border: '1px dashed gray',\n    },\n    '& .card-requirements': {\n      border: '1px dashed black',\n    },\n    '& .section-container': {\n      '&:hover': {\n        border: '1px solid green',\n      },\n      display: 'block',\n      width: '90%',\n      'min-width': '400px',\n      margin: '2em auto',\n      border: '1px solid var(--gray)',\n      'border-radius': '4px',\n      'background-color': 'white',\n      '& h4': {\n        width: '100%',\n        'text-align': 'left',\n        display: 'inline-block',\n        color: '#138AC2',\n        margin: '0.25em .5em 0 .5em',\n        'font-size': '18px',\n      },\n      '& .d-flex': {\n        'border-bottom': '1px solid var(--gray)',\n      },\n      '& .label': {\n        float: 'left',\n      },\n    },\n    '& .section-dependent': {\n      border: '1px dashed gray',\n    },\n    '& .section-requirements': {\n      border: '1px dashed black',\n    },\n    '& .alert': {\n      textAlign: 'left',\n      width: '70%',\n      margin: '1em auto',\n      '& h5': {\n        color: 'black',\n        fontSize: '16px',\n        fontWeight: 'bold',\n        margin: '0',\n      },\n      '& .fa': { fontSize: '14px' },\n    },\n    '& .disabled-unchecked-checkbox': {\n      color: 'var(--gray)',\n      '& div::before': { backgroundColor: 'var(--light-gray)' },\n    },\n    '& .disabled-input': {\n      '& input': { backgroundColor: 'var(--light-gray)' },\n      '& input:focus': {\n        backgroundColor: 'var(--light-gray)',\n        border: '1px solid var(--gray)',\n      },\n    },\n  },\n  formHead: {\n    display: 'block',\n    margin: '0 auto',\n    'background-color': '#EBEBEB',\n    border: '1px solid #858F96',\n    'border-radius': '4px',\n    width: '70%',\n    padding: '10px',\n    '& div': {\n      width: '30%',\n      display: 'inline-block',\n      'text-align': 'left',\n      padding: '10px',\n    },\n    '& .form-title': {\n      'text-align': 'left',\n    },\n    '& .form-description': {\n      'text-align': 'left',\n    },\n    '& h5': {\n      'font-size': '14px',\n      'line-height': '21px',\n      'font-weight': 'bold',\n    },\n  },\n  formBody: {\n    display: 'flex',\n    flexDirection: 'column',\n    '& .fa-pencil-alt': {\n      border: '1px solid #1d71ad',\n      color: '#1d71ad',\n    },\n    '& .modal-body': {\n      maxHeight: '500px',\n      overflowY: 'scroll',\n    },\n    '& .card-container': {\n      width: '70%',\n      minWidth: '400px',\n      margin: '2em auto',\n      border: '1px solid var(--gray)',\n      borderRadius: '4px',\n      backgroundColor: 'white',\n      '& h4': {\n        width: '100%',\n        textAlign: ['left', 'left'],\n        display: 'inline-block',\n        color: '#138ac2',\n        margin: '0.25em 0.5em 0 0.5em',\n        fontSize: '18px',\n      },\n      '& .d-flex': { borderBottom: '1px solid var(--gray)' },\n      '& .label': { cssFloat: 'left' },\n    },\n    '& .card-container:hover': { border: '1px solid var(--green)' },\n    '& .card-dependent': { border: '1px dashed var(--gray)' },\n    '& .card-add': {\n      cursor: 'pointer',\n      display: 'block',\n      color: '$green',\n      fontSize: '1.5em',\n    },\n    '& .section-container': {\n      width: '90%',\n      minWidth: '400px',\n      margin: '2em auto',\n      border: '1px solid var(--gray)',\n      borderRadius: '4px',\n      '& h4': {\n        width: '100%',\n        textAlign: ['left', 'left'],\n        display: 'inline-block',\n        color: '#138ac2',\n        margin: '0.25em 0.5em 0 0.5em',\n        fontSize: '18px',\n      },\n      '& .d-flex': { borderBottom: '1px solid var(--gray)' },\n      '& .label': { cssFloat: 'left' },\n    },\n    '& .section-container:hover': { border: '1px solid var(--green)' },\n    '& .section-dependent': { border: '1px dashed var(--gray)' },\n    '& .section-requirements': { border: '1px dashed black' },\n  },\n  formFooter: {\n    marginTop: '1em',\n    textAlign: 'center',\n    '& .fa': { cursor: 'pointer', color: '$green', fontSize: '1.5em' },\n  },\n});\n\nexport default function FormBuilder({\n  schema,\n  uischema,\n  onChange,\n  mods,\n  className,\n}: {\n  schema: string,\n  uischema: string,\n  onChange: (string, string) => any,\n  mods?: Mods,\n  className?: string,\n}): Node {\n  const classes = useStyles();\n  const schemaData = (parse(schema): { [string]: any }) || {};\n  schemaData.type = 'object';\n  const uiSchemaData = (parse(uischema): { [string]: any }) || {};\n  const allFormInputs = excludeKeys(\n    Object.assign(\n      {},\n      DEFAULT_FORM_INPUTS,\n      (mods && mods.customFormInputs) || {},\n    ),\n    mods && mods.deactivatedFormInputs,\n  );\n\n  const unsupportedFeatures = checkForUnsupportedFeatures(\n    schemaData,\n    uiSchemaData,\n    allFormInputs,\n  );\n\n  const elementNum = countElementsFromSchema(schemaData);\n  const defaultCollapseStates = [...Array(elementNum)].map(() => false);\n  const [cardOpenArray, setCardOpenArray] = React.useState(\n    defaultCollapseStates,\n  );\n  const categoryHash = generateCategoryHash(allFormInputs);\n\n  return (\n    <div className={`${classes.formBuilder} ${className || ''}`}>\n      <Alert\n        style={{\n          display: unsupportedFeatures.length === 0 ? 'none' : 'block',\n        }}\n        color='warning'\n      >\n        <h5>Unsupported Features:</h5>\n        {unsupportedFeatures.map((message, index) => (\n          <li key={index}>{message}</li>\n        ))}\n      </Alert>\n      {(!mods || mods.showFormHead !== false) && (\n        <div className={classes.formHead} data-test='form-head'>\n          <div>\n            <h5 data-test='form-name-label'>\n              {mods &&\n              mods.labels &&\n              typeof mods.labels.formNameLabel === 'string'\n                ? mods.labels.formNameLabel\n                : 'Form Name'}\n            </h5>\n            <Input\n              value={schemaData.title || ''}\n              placeholder='Title'\n              type='text'\n              onChange={(ev: SyntheticInputEvent<HTMLInputElement>) => {\n                onChange(\n                  stringify({\n                    ...schemaData,\n                    title: ev.target.value,\n                  }),\n                  uischema,\n                );\n              }}\n              className='form-title'\n            />\n          </div>\n          <div>\n            <h5 data-test='form-description-label'>\n              {mods &&\n              mods.labels &&\n              typeof mods.labels.formDescriptionLabel === 'string'\n                ? mods.labels.formDescriptionLabel\n                : 'Form Description'}\n            </h5>\n            <Input\n              value={schemaData.description || ''}\n              placeholder='Description'\n              type='text'\n              onChange={(ev: SyntheticInputEvent<HTMLInputElement>) =>\n                onChange(\n                  stringify({\n                    ...schemaData,\n                    description: ev.target.value,\n                  }),\n                  uischema,\n                )\n              }\n              className='form-description'\n            />\n          </div>\n        </div>\n      )}\n      <div className={`form-body ${classes.formBody}`}>\n        <DragDropContext\n          onDragEnd={(result) =>\n            onDragEnd(result, {\n              schema: schemaData,\n              uischema: uiSchemaData,\n              onChange: (newSchema, newUiSchema) =>\n                onChange(stringify(newSchema), stringify(newUiSchema)),\n              definitionData: schemaData.definitions,\n              definitionUi: uiSchemaData.definitions,\n              categoryHash,\n            })\n          }\n          className='form-body'\n        >\n          <Droppable droppableId='droppable'>\n            {(providedDroppable) => (\n              <div\n                ref={providedDroppable.innerRef}\n                {...providedDroppable.droppableProps}\n              >\n                {generateElementComponentsFromSchemas({\n                  schemaData,\n                  uiSchemaData,\n                  onChange: (newSchema, newUiSchema) =>\n                    onChange(stringify(newSchema), stringify(newUiSchema)),\n                  definitionData: schemaData.definitions,\n                  definitionUi: uiSchemaData.definitions,\n                  path: 'root',\n                  cardOpenArray,\n                  setCardOpenArray,\n                  allFormInputs,\n                  mods,\n                  categoryHash,\n                  Card,\n                  Section,\n                }).map((element: any, index) => (\n                  <Draggable\n                    key={element.key}\n                    draggableId={element.key}\n                    index={index}\n                  >\n                    {(providedDraggable) => (\n                      <div\n                        ref={providedDraggable.innerRef}\n                        {...providedDraggable.draggableProps}\n                        {...providedDraggable.dragHandleProps}\n                      >\n                        {element}\n                      </div>\n                    )}\n                  </Draggable>\n                ))}\n                {providedDroppable.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </div>\n      <div className={`form-footer ${classes.formFooter}`}>\n        <Add\n          addElem={(choice: string) => {\n            if (choice === 'card') {\n              addCardObj({\n                schema: schemaData,\n                uischema: uiSchemaData,\n                mods: mods,\n                onChange: (newSchema, newUiSchema) =>\n                  onChange(stringify(newSchema), stringify(newUiSchema)),\n                definitionData: schemaData.definitions,\n                definitionUi: uiSchemaData.definitions,\n                categoryHash,\n              });\n            } else if (choice === 'section') {\n              addSectionObj({\n                schema: schemaData,\n                uischema: uiSchemaData,\n                onChange: (newSchema, newUiSchema) =>\n                  onChange(stringify(newSchema), stringify(newUiSchema)),\n                definitionData: schemaData.definitions,\n                definitionUi: uiSchemaData.definitions,\n                categoryHash,\n              });\n            }\n          }}\n          hidden={\n            schemaData.properties &&\n            Object.keys(schemaData.properties).length !== 0\n          }\n        />\n      </div>\n    </div>\n  );\n}\n","// @flow\n\nimport React from 'react';\nimport {\n  generateElementComponentsFromSchemas,\n  countElementsFromSchema,\n  addCardObj,\n  addSectionObj,\n} from './utils';\nimport Card from './Card';\nimport Section from './Section';\nimport Add from './Add';\nimport DEFAULT_FORM_INPUTS from './defaults/defaultFormInputs';\nimport type { Node } from 'react';\nimport type { Mods } from './types';\n\nexport default function CardGallery({\n  definitionSchema,\n  definitionUiSchema,\n  onChange,\n  mods,\n  categoryHash,\n}: {\n  definitionSchema: { [string]: any },\n  definitionUiSchema: { [string]: any },\n  onChange: ({ [string]: any }, { [string]: any }) => void,\n  mods?: Mods,\n  categoryHash: { [string]: string },\n}): Node {\n  const elementNum = countElementsFromSchema({\n    properties: definitionSchema,\n  });\n  const defaultCollapseStates = [...Array(elementNum)].map(() => false);\n  const [cardOpenArray, setCardOpenArray] = React.useState(\n    defaultCollapseStates,\n  );\n  const allFormInputs = Object.assign(\n    {},\n    DEFAULT_FORM_INPUTS,\n    (mods && mods.customFormInputs) || {},\n  );\n  const componentArr = generateElementComponentsFromSchemas({\n    schemaData: { properties: definitionSchema },\n    uiSchemaData: definitionUiSchema,\n    onChange: (newDefinitions, newDefinitionUis) => {\n      const oldUi = newDefinitionUis;\n      const newUi = {};\n\n      Object.keys(oldUi).forEach((definedUi) => {\n        if (!['definitions', 'ui:order'].includes(definedUi))\n          newUi[definedUi] = oldUi[definedUi];\n      });\n      onChange(newDefinitions.properties, newUi);\n    },\n    path: 'definitions',\n    definitionData: definitionSchema,\n    definitionUi: definitionUiSchema,\n    cardOpenArray,\n    setCardOpenArray,\n    allFormInputs,\n    mods,\n    categoryHash,\n    Card,\n    Section,\n  }).map((element: any) => (\n    <div\n      key={typeof element.key === 'string' ? element.key : ''}\n      className='form_gallery_container'\n    >\n      {element}\n    </div>\n  ));\n\n  return (\n    <div className='form_gallery'>\n      {componentArr}\n      {componentArr.length === 0 && <h5>No components in \"definitions\"</h5>}\n      <div className='form_footer'>\n        <Add\n          addElem={(choice: string) => {\n            if (choice === 'card') {\n              addCardObj({\n                schema: { properties: definitionSchema },\n                uischema: definitionUiSchema,\n                mods: mods,\n                onChange: (newDefinitions, newDefinitionUis) => {\n                  const oldUi = newDefinitionUis;\n                  const newUi = {};\n\n                  Object.keys(oldUi).forEach((definedUiSchemaKey) => {\n                    if (\n                      !['definitions', 'ui:order'].includes(definedUiSchemaKey)\n                    )\n                      newUi[definedUiSchemaKey] = oldUi[definedUiSchemaKey];\n                  });\n                  onChange(newDefinitions.properties, newUi);\n                },\n                definitionData: definitionSchema,\n                definitionUi: definitionUiSchema,\n                categoryHash,\n              });\n            } else if (choice === 'section') {\n              addSectionObj({\n                schema: { properties: definitionSchema },\n                uischema: definitionUiSchema,\n                onChange: (newDefinitions, newDefinitionUis) => {\n                  const oldUi = newDefinitionUis;\n                  const newUi = {};\n\n                  Object.keys(oldUi).forEach((definedUiSchemaKey) => {\n                    if (\n                      !['definitions', 'ui:order'].includes(definedUiSchemaKey)\n                    )\n                      newUi[definedUiSchemaKey] = oldUi[definedUiSchemaKey];\n                  });\n                  onChange(newDefinitions.properties, newUi);\n                },\n                definitionData: definitionSchema,\n                definitionUi: definitionUiSchema,\n                categoryHash,\n              });\n            }\n          }}\n          hidden={\n            !!definitionSchema && Object.keys(definitionSchema).length !== 0\n          }\n        />\n      </div>\n    </div>\n  );\n}\n","// @flow\nimport * as React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport CardGallery from './CardGallery';\nimport {\n  parse,\n  stringify,\n  propagateDefinitionChanges,\n  generateCategoryHash,\n  excludeKeys,\n} from './utils';\nimport { arrows as arrowsStyle } from './styles';\nimport DEFAULT_FORM_INPUTS from './defaults/defaultFormInputs';\nimport type { Node } from 'react';\nimport type { Mods } from './types';\n\nconst useStyles = createUseStyles({\n  preDefinedGallery: {\n    display: 'flex',\n    flexDirection: 'column',\n    'text-align': 'center',\n    '& .fa': {\n      cursor: 'pointer',\n    },\n    '& .fa-question-circle': {\n      color: 'gray',\n    },\n    '& .fa-asterisk': {\n      'font-size': '.9em',\n      color: 'green',\n    },\n    ...arrowsStyle,\n    '& .form_footer': {\n      marginTop: '1em',\n      textAlign: 'center',\n      '& .fa': { cursor: 'pointer', color: '$green', fontSize: '1.5em' },\n    },\n    '& .fa-plus-square': {\n      color: 'green',\n      'font-size': '1.5em',\n      margin: '0 auto',\n    },\n    '& .card-container': {\n      '&:hover': {\n        border: '1px solid green',\n      },\n      width: '70%',\n      'min-width': '400px',\n      margin: '2em auto',\n      border: '1px solid gray',\n      'border-radius': '4px',\n      'background-color': 'white',\n      '& h4': {\n        width: '100%',\n        'text-align': 'left',\n        display: 'inline-block',\n        color: '#138AC2',\n        margin: '0.25em .5em 0 .5em',\n        'font-size': '18px',\n      },\n      '& .d-flex': {\n        'border-bottom': '1px solid gray',\n      },\n      '& .label': {\n        float: 'left',\n      },\n    },\n    '& .card-requirements': {\n      border: '1px dashed black',\n    },\n    '& .section-container': {\n      '&:hover': {\n        border: '1px solid green',\n      },\n      display: 'block',\n      width: '90%',\n      'min-width': '400px',\n      margin: '2em auto',\n      border: '1px solid var(--gray)',\n      'border-radius': '4px',\n      'background-color': 'white',\n      '& h4': {\n        width: '100%',\n        'text-align': 'left',\n        display: 'inline-block',\n        color: '#138AC2',\n        margin: '0.25em .5em 0 .5em',\n        'font-size': '18px',\n      },\n      '& .d-flex': {\n        'border-bottom': '1px solid var(--gray)',\n      },\n      '& .label': {\n        float: 'left',\n      },\n    },\n    '& .section-dependent': {\n      border: '1px dashed gray',\n    },\n    '& .section-requirements': {\n      border: '1px dashed black',\n    },\n    '& .fa-pencil-alt': {\n      border: '1px solid #1d71ad',\n      color: '#1d71ad',\n    },\n    '& .modal-body': {\n      maxHeight: '500px',\n      overflowY: 'scroll',\n    },\n    '& .card-container:hover': { border: '1px solid var(--green)' },\n    '& .card-dependent': { border: '1px dashed var(--gray)' },\n    '& .card-add': {\n      cursor: 'pointer',\n      display: 'block',\n      color: '$green',\n      fontSize: '1.5em',\n    },\n\n    '& .section-container:hover': { border: '1px solid var(--green)' },\n  },\n});\n\nexport default function PredefinedGallery({\n  schema,\n  uischema,\n  onChange,\n  mods,\n}: {\n  schema: string,\n  uischema: string,\n  onChange: (string, string) => any,\n  mods?: Mods,\n}): Node {\n  const classes = useStyles();\n  const schemaData = (parse(schema): { [string]: any }) || {};\n  const uiSchemaData = (parse(uischema): { [string]: any }) || {};\n  const allFormInputs = excludeKeys(\n    Object.assign(\n      {},\n      DEFAULT_FORM_INPUTS,\n      (mods && mods.customFormInputs) || {},\n    ),\n    mods && mods.deactivatedFormInputs,\n  );\n  const categoryHash = generateCategoryHash(allFormInputs);\n\n  React.useEffect(() => {\n    if (!uiSchemaData.definitions) {\n      // eslint-disable-next-line no-console\n      console.log('Parsing UI schema to assign UI for definitions');\n      // need to create definitions from scratch\n      const references = [];\n      // recursively search for all $refs in the schemaData\n      const findRefs = (name, schemaObject) => {\n        if (!schemaObject) return;\n        if (typeof schemaObject === 'object')\n          Object.keys(schemaObject).forEach((key) => {\n            if (typeof key === 'string') {\n              if (key === '$ref') references.push(name);\n              findRefs(key, schemaObject[key]);\n            }\n          });\n        if (Array.isArray(schemaObject))\n          schemaObject.forEach((innerObj) => {\n            findRefs(name, innerObj);\n          });\n      };\n\n      findRefs('root', schemaData);\n\n      uiSchemaData.definitions = {};\n      const referenceSet = new Set(references);\n      Object.keys(uiSchemaData).forEach((uiProp) => {\n        if (referenceSet.has(uiProp))\n          uiSchemaData.definitions[uiProp] = uiSchemaData[uiProp];\n      });\n      if (!Object.keys(uiSchemaData.definitions).length) {\n        uiSchemaData.definitions = undefined;\n      }\n      onChange(stringify(schemaData), stringify(uiSchemaData));\n    }\n  }, [uischema, schema]);\n  return (\n    <div className={classes.preDefinedGallery}>\n      <CardGallery\n        definitionSchema={schemaData.definitions}\n        definitionUiSchema={uiSchemaData.definitions}\n        onChange={(\n          newDefinitions: { [string]: any },\n          newDefinitionsUi: { [string]: any },\n        ) => {\n          schemaData.definitions = newDefinitions;\n          uiSchemaData.definitions = newDefinitionsUi;\n          // propagate changes in ui definitions to all relavant parties in main schema\n\n          propagateDefinitionChanges(\n            schemaData,\n            uiSchemaData,\n            (newSchema, newUiSchema) =>\n              onChange(stringify(newSchema), stringify(newUiSchema)),\n            categoryHash,\n          );\n        }}\n        mods={mods}\n        categoryHash={categoryHash}\n      />\n    </div>\n  );\n}\n","// @flow\n\nimport * as React from 'react';\n\nimport classnames from 'classnames';\nimport { TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { createUseStyles } from 'react-jss';\n\ntype TabSpec = {\n  name: string,\n  content: React.Element<any>,\n  id?: string,\n};\n\nconst useStyles = createUseStyles({\n  portalTabs: {\n    '& .tab-content': {\n      '& .tab-pane > .tab-pane': {\n        display: 'none',\n        padding: '2em',\n      },\n      '& .active > .tab-pane': {\n        display: 'block',\n      },\n    },\n    '& .nav': {\n      '& .nav-link': {\n        position: 'relative',\n        display: 'inline-flex',\n        padding: '10px',\n      },\n      '& li': {\n        display: 'inline-block',\n      },\n      '& .nav-item': {\n        '& .active': {\n          color: '#212529 !important',\n          'font-weight': 600,\n        },\n        '&:hover': {\n          cursor: 'pointer',\n        },\n        '& a': {\n          color: '#ccc',\n        },\n      },\n    },\n  },\n});\n\ntype Props = {\n  defaultActiveTab?: number,\n  tabs: TabSpec[],\n  withSeparator?: boolean,\n  preventRerender?: boolean,\n};\n\nexport default function Tabs({\n  defaultActiveTab = 0,\n  tabs = [],\n  withSeparator = false,\n  preventRerender = false,\n}: Props) {\n  const classes = useStyles();\n  const [activeTab, setActiveTab] = React.useState(defaultActiveTab);\n\n  return (\n    <div className={classes.portalTabs}>\n      <Nav tabs>\n        {tabs.map(({ name, id }, i) => (\n          <NavItem key={i} id={id}>\n            <NavLink\n              className={classnames({ active: activeTab === i })}\n              onClick={() => {\n                setActiveTab(i);\n              }}\n            >\n              {name}\n            </NavLink>\n          </NavItem>\n        ))}\n      </Nav>\n      <TabContent\n        activeTab={activeTab}\n        className={classnames({\n          'with-separator': withSeparator,\n        })}\n      >\n        <React.Fragment>\n          {tabs.map(({ content }, i) => (\n            <TabPane key={i} tabId={i}>\n              {activeTab === i && (preventRerender ? true : content)}\n              {preventRerender ? content : ''}\n            </TabPane>\n          ))}\n        </React.Fragment>\n      </TabContent>\n    </div>\n  );\n}\n","// @flow\n\nimport React from 'react';\n\ntype Props = {\n  children: any,\n  onErr?: (string) => any,\n  errMessage?: string,\n};\n\ntype State = {\n  hasError: boolean,\n  error: string,\n};\n\n/* \nContainer for potentially error generating components\nTriggers the optional onErr function with error message as string\nProvides the option to attempt rendering the children again\n*/\nclass ErrorBoundary extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: '' };\n  }\n\n  componentDidCatch(error: any) {\n    this.setState({ hasError: true });\n    const errorMessage = error.toString();\n    this.setState({\n      error: errorMessage,\n    });\n    if (this.props.onErr) this.props.onErr(errorMessage);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div>\n          <p>\n            {this.props.errMessage ? this.props.errMessage : this.state.error}\n          </p>\n          <button\n            onClick={() => {\n              this.setState({ hasError: false, error: '' });\n              if (this.props.onErr) this.props.onErr('');\n            }}\n          >\n            Try Again\n          </button>\n        </div>\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n}\n\nexport default ErrorBoundary;\n","// @flow\nimport React from 'react';\nimport {\n  Alert,\n  Modal,\n  ModalHeader,\n  Button,\n  ModalBody,\n  ModalFooter,\n} from 'reactstrap';\nimport { withTheme } from '@rjsf/core';\nimport { Theme as Bootstrap4Theme } from '@rjsf/bootstrap-4';\nimport {\n  FormBuilder,\n  PredefinedGallery,\n} from '@ginkgo-bioworks/react-json-schema-form-builder';\nimport withStyles from 'react-jss';\nimport Tabs from './tabs/Tabs';\nimport JSONInput from 'react-json-editor-ajrm';\nimport locale from 'react-json-editor-ajrm/locale/en';\nimport ErrorBoundary from './ErrorBoundary';\n\nconst Form = withTheme(Bootstrap4Theme);\n\ntype Props = {\n  lang: string,\n  schema: string,\n  uischema: string,\n  onChange?: (schema: string, uischema: string) => void,\n  schemaTitle?: string,\n  uischemaTitle?: string,\n  width?: string,\n  height?: string,\n  classes: { [string]: any },\n};\n\ntype State = {\n  formData: any,\n  formToggle: boolean,\n  outputToggle: boolean,\n  schemaFormErrorFlag: string,\n  validFormInput: boolean,\n  submissionData: any,\n};\n\n// return error message for parsing or blank if no error\nfunction checkError(text: string, language: string) {\n  let data;\n  try {\n    data = JSON.parse(text);\n  } catch (e) {\n    return e.toString();\n  }\n  if (typeof data === 'string') {\n    return 'Received a string instead of object.';\n  }\n  return '';\n}\n\nconst styles = {\n  codeViewer: {\n    backgroundColor: 'lightgray',\n    maxHeight: '550px',\n    overflowY: 'auto',\n  },\n};\n\nclass JsonSchemaFormEditor extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    // assign initial values\n    this.state = {\n      formData: {},\n      formToggle: true,\n      outputToggle: false,\n      schemaFormErrorFlag: '',\n      validFormInput: false,\n      editorWidth: 700,\n      submissionData: {},\n    };\n  }\n\n  // update state schema and indicate parsing errors\n  updateSchema(text: string) {\n    // update parent\n    if (this.props.onChange) this.props.onChange(text, this.props.uischema);\n  }\n\n  // update state ui schema and indicate parsing errors\n  updateUISchema(text: string) {\n    // update parent\n    if (this.props.onChange) this.props.onChange(this.props.schema, text);\n  }\n\n  // update the internal form data state\n  updateFormData(text: string) {\n    try {\n      const data = JSON.parse(text);\n      this.setState({\n        formData: data,\n        schemaFormErrorFlag: '',\n      });\n    } catch (err) {\n      this.setState({\n        schemaFormErrorFlag: err.toString(),\n      });\n    }\n  }\n\n  render() {\n    const schemaError = checkError(this.props.schema, this.props.lang);\n    const schemaUiError = checkError(this.props.uischema, this.props.lang);\n    return (\n      <div\n        style={{\n          width: this.props.width ? this.props.width : '100%',\n          height: this.props.height ? this.props.height : '500px',\n        }}\n        className='playground-main'\n      >\n        <Alert\n          style={{\n            display: schemaError === '' ? 'none' : 'block',\n          }}\n          color='danger'\n        >\n          <h5>Schema:</h5> {schemaError}\n        </Alert>\n        <Alert\n          style={{\n            display: schemaUiError === '' ? 'none' : 'block',\n          }}\n          color='danger'\n        >\n          <h5>UI Schema:</h5> {schemaUiError}\n        </Alert>\n        <Alert\n          style={{\n            display: this.state.schemaFormErrorFlag === '' ? 'none' : 'block',\n          }}\n          color='danger'\n        >\n          <h5>Form:</h5> {this.state.schemaFormErrorFlag}\n        </Alert>\n        <Tabs\n          tabs={[\n            {\n              name: 'Visual Form Builder',\n              id: 'form-builder',\n              content: (\n                <div\n                  className='tab-pane'\n                  style={{\n                    height: this.props.height ? this.props.height : '500px',\n                  }}\n                >\n                  <ErrorBoundary onErr={() => {}}>\n                    <FormBuilder\n                      schema={this.props.schema}\n                      uischema={this.props.uischema}\n                      mods={this.props.mods}\n                      onChange={(newSchema: string, newUiSchema: string) => {\n                        if (this.props.onChange)\n                          this.props.onChange(newSchema, newUiSchema);\n                      }}\n                    />\n                  </ErrorBoundary>\n                </div>\n              ),\n            },\n            {\n              name: 'Preview Form',\n              id: 'preview-form',\n              content: (\n                <div\n                  className='tab-pane'\n                  style={{\n                    height: this.props.height ? this.props.height : '500px',\n                  }}\n                >\n                  <ErrorBoundary\n                    onErr={(err: string) => {\n                      this.setState({\n                        schemaFormErrorFlag: err,\n                      });\n                    }}\n                    errMessage='Error parsing JSON Schema'\n                  >\n                    <Form\n                      schema={\n                        schemaError === '' ? JSON.parse(this.props.schema) : {}\n                      }\n                      uiSchema={\n                        schemaUiError === ''\n                          ? JSON.parse(this.props.uischema)\n                          : {}\n                      }\n                      onChange={(formData) =>\n                        this.updateFormData(JSON.stringify(formData.formData))\n                      }\n                      formData={this.state.formData}\n                      submitButtonMessage={'Submit'}\n                      onSubmit={(submissionData) => {\n                        // below only runs if validation succeeded\n                        this.setState({\n                          validFormInput: true,\n                          outputToggle: true,\n                          submissionData,\n                        });\n                      }}\n                    />\n                  </ErrorBoundary>\n                  <Modal isOpen={this.state.outputToggle}>\n                    <ModalHeader>Form output preview</ModalHeader>\n                    <ModalBody>\n                      <div className='editor-container'>\n                        <ErrorBoundary\n                          onErr={() => {}}\n                          errMessage={'Error parsing JSON Schema Form output'}\n                        >\n                          <h4>Output Data</h4>\n                          <pre className={this.props.classes.codeViewer}>\n                            {JSON.stringify(this.state.submissionData, null, 2)}\n                          </pre>\n                        </ErrorBoundary>\n                        <br />\n                      </div>\n                    </ModalBody>\n                    <ModalFooter>\n                      <Button\n                        onClick={() => {\n                          this.setState({\n                            outputToggle: false,\n                          });\n                        }}\n                        color='secondary'\n                      >\n                        Close\n                      </Button>\n                    </ModalFooter>\n                  </Modal>\n                </div>\n              ),\n            },\n            {\n              name: 'Edit Schema',\n              id: 'editors',\n              content: (\n                <div\n                  className='tab-pane'\n                  style={{\n                    height: this.props.height ? this.props.height : '500px',\n                    display: 'flex',\n                    flexDirection: 'row',\n                  }}\n                >\n                  <div\n                    style={{ margin: '1em', width: '50em' }}\n                    className='editor-container'\n                  >\n                    <ErrorBoundary\n                      onErr={(err: string) => {\n                        // if rendering initial value causes a crash\n                        // eslint-disable-next-line no-console\n                        console.error(err);\n                        this.updateSchema('{}');\n                      }}\n                      errMessage={'Error parsing JSON Schema input'}\n                    >\n                      <h4>Data Schema</h4>\n                      <JSONInput\n                        id='data_schema'\n                        placeholder={\n                          this.props.schema\n                            ? (() => {\n                                try {\n                                  return JSON.parse(this.props.schema);\n                                } catch (e) {\n                                  console.error(e);\n                                  return {};\n                                }\n                              })()\n                            : {}\n                        }\n                        locale={locale}\n                        height='550px'\n                        onChange={(data: any) => this.updateSchema(data.json)}\n                      />\n                    </ErrorBoundary>\n                    <br />\n                  </div>\n                  <div\n                    style={{ margin: '1em', width: '50em' }}\n                    className='editor-container'\n                  >\n                    <ErrorBoundary\n                      onErr={(err: string) => {\n                        // if rendering initial value causes a crash\n                        // eslint-disable-next-line no-console\n                        console.error(err);\n                        this.updateUISchema('{}');\n                      }}\n                      errMessage={'Error parsing JSON UI Schema input'}\n                    >\n                      <h4>UI Schema</h4>\n                      <JSONInput\n                        id='ui_schema'\n                        placeholder={\n                          this.props.uischema\n                            ? JSON.parse(this.props.uischema)\n                            : {}\n                        }\n                        locale={locale}\n                        height='550px'\n                        onChange={(data: any) => this.updateUISchema(data.json)}\n                      />\n                    </ErrorBoundary>\n                  </div>\n                </div>\n              ),\n            },\n            {\n              name: 'Pre-Configured Components',\n              id: 'pre-configured',\n              content: (\n                <div\n                  className='tab-pane'\n                  style={{\n                    height: this.props.height ? this.props.height : '500px',\n                  }}\n                >\n                  <ErrorBoundary onErr={() => {}}>\n                    <PredefinedGallery\n                      schema={this.props.schema}\n                      uischema={this.props.uischema}\n                      mods={this.props.mods}\n                      onChange={(newSchema: string, newUiSchema: string) => {\n                        if (this.props.onChange)\n                          this.props.onChange(newSchema, newUiSchema);\n                      }}\n                    />\n                  </ErrorBoundary>\n                </div>\n              ),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(JsonSchemaFormEditor);\n","// @flow\n\nimport React from 'react';\n\nimport JsonSchemaFormSuite from './JsonSchemaFormSuite';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  header: {\n    '& h1': {\n      textAlign: 'center',\n      margin: '1em',\n    },\n    '& p': {\n      marginRight: '5em',\n      marginLeft: '5em',\n    },\n  },\n});\n\n// Can be used to set initial schemas and mods (useful for development)\nconst initialJsonSchema = {};\nconst initialUiSchema = {};\nconst mods = {};\n\nexport default function PlaygroundContainer({ title }: { title: string }) {\n  const [schema, setSchema] = React.useState(JSON.stringify(initialJsonSchema));\n  const [uischema, setUischema] = React.useState(\n    JSON.stringify(initialUiSchema),\n  );\n  const classes = useStyles();\n  return (\n    <div className='playground'>\n      <div className={classes.header}>\n        <h1>{title}</h1>\n        <p>\n          Demo app for the{' '}\n          <a href='https://github.com/ginkgobioworks/react-json-schema-form-builder'>\n            React JSON Schema Form Builder\n          </a>\n          , which allows a user to visually build a form and obtain the JSON\n          Schema corresponding to it\n        </p>\n        <p>\n          The Visual Form Builder tab corresponds to the actual Form Builder\n          component. This reads in code from the JSON Schema, which is stored\n          and updated live in the \"Edit Schema\" tab, and renders the code as\n          manipulatable form elements. The result of the form is rendered with\n          the material design theme in the Preview Form tab. The Pre-Configured\n          Components tab also demonstrates how the form builder takes advantage\n          of the definitions property of JSON Schema to render definitions.\n        </p>\n      </div>\n      <JsonSchemaFormSuite\n        lang={'json'}\n        schema={schema}\n        uischema={uischema}\n        mods={mods}\n        schemaTitle='Data Schema'\n        uischemaTitle='UI Schema'\n        onChange={(newSchema: string, newUiSchema: string) => {\n          setSchema(newSchema);\n          setUischema(newUiSchema);\n        }}\n        width='95%'\n        height='800px'\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport PlaygroundContainer from './PlaygroundContainer';\n\nfunction App() {\n  return <PlaygroundContainer title='React JSON Schema Form Builder' />;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}